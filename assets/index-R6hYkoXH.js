(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function iw(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var dm={exports:{}},Dl={};var N_;function rw(){if(N_)return Dl;N_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var I_;function sw(){return I_||(I_=1,dm.exports=rw()),dm.exports}var w=sw(),mm={exports:{}},Ae={};var D_;function aw(){if(D_)return Ae;D_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),C=Symbol.iterator;function L(O){return O===null||typeof O!="object"?null:(O=C&&O[C]||O["@@iterator"],typeof O=="function"?O:null)}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,V={};function K(O,ee,G){this.props=O,this.context=ee,this.refs=V,this.updater=G||X}K.prototype.isReactComponent={},K.prototype.setState=function(O,ee){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ee,"setState")},K.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function j(){}j.prototype=K.prototype;function J(O,ee,G){this.props=O,this.context=ee,this.refs=V,this.updater=G||X}var le=J.prototype=new j;le.constructor=J,W(le,K.prototype),le.isPureReactComponent=!0;var se=Array.isArray;function ce(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(O,ee,G){var ae=G.ref;return{$$typeof:r,type:O,key:ee,ref:ae!==void 0?ae:null,props:G}}function M(O,ee){return x(O.type,ee,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var ee={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(G){return ee[G]})}var N=/\/+/g;function Oe(O,ee){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):ee.toString(36)}function Ne(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ce,ce):(O.status="pending",O.then(function(ee){O.status==="pending"&&(O.status="fulfilled",O.value=ee)},function(ee){O.status==="pending"&&(O.status="rejected",O.reason=ee)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function $(O,ee,G,ae,ve){var we=typeof O;(we==="undefined"||we==="boolean")&&(O=null);var ke=!1;if(O===null)ke=!0;else switch(we){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(O.$$typeof){case r:case e:ke=!0;break;case E:return ke=O._init,$(ke(O._payload),ee,G,ae,ve)}}if(ke)return ve=ve(O),ke=ae===""?"."+Oe(O,0):ae,se(ve)?(G="",ke!=null&&(G=ke.replace(N,"$&/")+"/"),$(ve,ee,G,"",function(Ui){return Ui})):ve!=null&&(D(ve)&&(ve=M(ve,G+(ve.key==null||O&&O.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+ke)),ee.push(ve)),1;ke=0;var mt=ae===""?".":ae+":";if(se(O))for(var Qe=0;Qe<O.length;Qe++)ae=O[Qe],we=mt+Oe(ae,Qe),ke+=$(ae,ee,G,we,ve);else if(Qe=L(O),typeof Qe=="function")for(O=Qe.call(O),Qe=0;!(ae=O.next()).done;)ae=ae.value,we=mt+Oe(ae,Qe++),ke+=$(ae,ee,G,we,ve);else if(we==="object"){if(typeof O.then=="function")return $(Ne(O),ee,G,ae,ve);throw ee=String(O),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return ke}function oe(O,ee,G){if(O==null)return O;var ae=[],ve=0;return $(O,ae,"","",function(we){return ee.call(G,we,ve++)}),ae}function de(O){if(O._status===-1){var ee=O._result;ee=ee(),ee.then(function(G){(O._status===0||O._status===-1)&&(O._status=1,O._result=G)},function(G){(O._status===0||O._status===-1)&&(O._status=2,O._result=G)}),O._status===-1&&(O._status=0,O._result=ee)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ie={map:oe,forEach:function(O,ee,G){oe(O,function(){ee.apply(this,arguments)},G)},count:function(O){var ee=0;return oe(O,function(){ee++}),ee},toArray:function(O){return oe(O,function(ee){return ee})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=b,Ae.Children=Ie,Ae.Component=K,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=J,Ae.StrictMode=s,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return R.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,ee,G){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=W({},O.props),ve=O.key;if(ee!=null)for(we in ee.key!==void 0&&(ve=""+ee.key),ee)!A.call(ee,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ee.ref===void 0||(ae[we]=ee[we]);var we=arguments.length-2;if(we===1)ae.children=G;else if(1<we){for(var ke=Array(we),mt=0;mt<we;mt++)ke[mt]=arguments[mt+2];ae.children=ke}return x(O.type,ve,ae)},Ae.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ae.createElement=function(O,ee,G){var ae,ve={},we=null;if(ee!=null)for(ae in ee.key!==void 0&&(we=""+ee.key),ee)A.call(ee,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ve[ae]=ee[ae]);var ke=arguments.length-2;if(ke===1)ve.children=G;else if(1<ke){for(var mt=Array(ke),Qe=0;Qe<ke;Qe++)mt[Qe]=arguments[Qe+2];ve.children=mt}if(O&&O.defaultProps)for(ae in ke=O.defaultProps,ke)ve[ae]===void 0&&(ve[ae]=ke[ae]);return x(O,we,ve)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:m,render:O}},Ae.isValidElement=D,Ae.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:de}},Ae.memo=function(O,ee){return{$$typeof:g,type:O,compare:ee===void 0?null:ee}},Ae.startTransition=function(O){var ee=R.T,G={};R.T=G;try{var ae=O(),ve=R.S;ve!==null&&ve(G,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ce,pe)}catch(we){pe(we)}finally{ee!==null&&G.types!==null&&(ee.types=G.types),R.T=ee}},Ae.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ae.use=function(O){return R.H.use(O)},Ae.useActionState=function(O,ee,G){return R.H.useActionState(O,ee,G)},Ae.useCallback=function(O,ee){return R.H.useCallback(O,ee)},Ae.useContext=function(O){return R.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,ee){return R.H.useDeferredValue(O,ee)},Ae.useEffect=function(O,ee){return R.H.useEffect(O,ee)},Ae.useEffectEvent=function(O){return R.H.useEffectEvent(O)},Ae.useId=function(){return R.H.useId()},Ae.useImperativeHandle=function(O,ee,G){return R.H.useImperativeHandle(O,ee,G)},Ae.useInsertionEffect=function(O,ee){return R.H.useInsertionEffect(O,ee)},Ae.useLayoutEffect=function(O,ee){return R.H.useLayoutEffect(O,ee)},Ae.useMemo=function(O,ee){return R.H.useMemo(O,ee)},Ae.useOptimistic=function(O,ee){return R.H.useOptimistic(O,ee)},Ae.useReducer=function(O,ee,G){return R.H.useReducer(O,ee,G)},Ae.useRef=function(O){return R.H.useRef(O)},Ae.useState=function(O){return R.H.useState(O)},Ae.useSyncExternalStore=function(O,ee,G){return R.H.useSyncExternalStore(O,ee,G)},Ae.useTransition=function(){return R.H.useTransition()},Ae.version="19.2.4",Ae}var M_;function fp(){return M_||(M_=1,mm.exports=aw()),mm.exports}var F=fp();const Xc=iw(F);var pm={exports:{}},Ml={},gm={exports:{}},ym={};var O_;function ow(){return O_||(O_=1,(function(r){function e($,oe){var de=$.length;$.push(oe);e:for(;0<de;){var pe=de-1>>>1,Ie=$[pe];if(0<o(Ie,oe))$[pe]=oe,$[de]=Ie,de=pe;else break e}}function n($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var oe=$[0],de=$.pop();if(de!==oe){$[0]=de;e:for(var pe=0,Ie=$.length,O=Ie>>>1;pe<O;){var ee=2*(pe+1)-1,G=$[ee],ae=ee+1,ve=$[ae];if(0>o(G,de))ae<Ie&&0>o(ve,G)?($[pe]=ve,$[ae]=de,pe=ae):($[pe]=G,$[ee]=de,pe=ee);else if(ae<Ie&&0>o(ve,de))$[pe]=ve,$[ae]=de,pe=ae;else break e}}return oe}function o($,oe){var de=$.sortIndex-oe.sortIndex;return de!==0?de:$.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,C=3,L=!1,X=!1,W=!1,V=!1,K=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function le($){for(var oe=n(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=$)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=n(g)}}function se($){if(W=!1,le($),!X)if(n(p)!==null)X=!0,ce||(ce=!0,P());else{var oe=n(g);oe!==null&&Ne(se,oe.startTime-$)}}var ce=!1,R=-1,A=5,x=-1;function M(){return V?!0:!(r.unstable_now()-x<A)}function D(){if(V=!1,ce){var $=r.unstable_now();x=$;var oe=!0;try{e:{X=!1,W&&(W=!1,j(R),R=-1),L=!0;var de=C;try{t:{for(le($),b=n(p);b!==null&&!(b.expirationTime>$&&M());){var pe=b.callback;if(typeof pe=="function"){b.callback=null,C=b.priorityLevel;var Ie=pe(b.expirationTime<=$);if($=r.unstable_now(),typeof Ie=="function"){b.callback=Ie,le($),oe=!0;break t}b===n(p)&&s(p),le($)}else s(p);b=n(p)}if(b!==null)oe=!0;else{var O=n(g);O!==null&&Ne(se,O.startTime-$),oe=!1}}break e}finally{b=null,C=de,L=!1}oe=void 0}}finally{oe?P():ce=!1}}}var P;if(typeof J=="function")P=function(){J(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Oe=N.port2;N.port1.onmessage=D,P=function(){Oe.postMessage(null)}}else P=function(){K(D,0)};function Ne($,oe){R=K(function(){$(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_next=function($){switch(C){case 1:case 2:case 3:var oe=3;break;default:oe=C}var de=C;C=oe;try{return $()}finally{C=de}},r.unstable_requestPaint=function(){V=!0},r.unstable_runWithPriority=function($,oe){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var de=C;C=$;try{return oe()}finally{C=de}},r.unstable_scheduleCallback=function($,oe,de){var pe=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?pe+de:pe):de=pe,$){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=de+Ie,$={id:E++,callback:oe,priorityLevel:$,startTime:de,expirationTime:Ie,sortIndex:-1},de>pe?($.sortIndex=de,e(g,$),n(p)===null&&$===n(g)&&(W?(j(R),R=-1):W=!0,Ne(se,de-pe))):($.sortIndex=Ie,e(p,$),X||L||(X=!0,ce||(ce=!0,P()))),$},r.unstable_shouldYield=M,r.unstable_wrapCallback=function($){var oe=C;return function(){var de=C;C=oe;try{return $.apply(this,arguments)}finally{C=de}}}})(ym)),ym}var k_;function lw(){return k_||(k_=1,gm.exports=ow()),gm.exports}var _m={exports:{}},Zt={};var V_;function uw(){if(V_)return Zt;V_=1;var r=fp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Zt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:C,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:C,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var P_;function cw(){if(P_)return _m.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),_m.exports=uw(),_m.exports}var L_;function hw(){if(L_)return Ml;L_=1;var r=lw(),e=fp(),n=cw();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,C=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),X=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),j=Symbol.for("react.consumer"),J=Symbol.for("react.context"),le=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function P(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case K:return"Profiler";case V:return"StrictMode";case se:return"Suspense";case ce:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case X:return"Portal";case J:return t.displayName||"Context";case j:return(t._context.displayName||"Context")+".Consumer";case le:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return i=t.displayName||null,i!==null?i:Oe(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Oe(t(i))}catch{}}return null}var Ne=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},pe=[],Ie=-1;function O(t){return{current:t}}function ee(t){0>Ie||(t.current=pe[Ie],pe[Ie]=null,Ie--)}function G(t,i){Ie++,pe[Ie]=t.current,t.current=i}var ae=O(null),ve=O(null),we=O(null),ke=O(null);function mt(t,i){switch(G(we,i),G(ve,t),G(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?J0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=J0(i),t=Z0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(ae),G(ae,t)}function Qe(){ee(ae),ee(ve),ee(we)}function Ui(t){t.memoizedState!==null&&G(ke,t);var i=ae.current,a=Z0(i,t.type);i!==a&&(G(ve,t),G(ae,a))}function oa(t){ve.current===t&&(ee(ae),ee(ve)),ke.current===t&&(ee(ke),Rl._currentValue=de)}var la,ua;function li(t){if(la===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);la=i&&i[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+t+ua}var Ro=!1;function ds(t,i){if(!t||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var q=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){q=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){q=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var I=_.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var Z=`
`+I[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=h);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?li(a):""}function Co(t,i){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return t.child!==i&&i!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return ds(t.type,!1);case 11:return ds(t.type.render,!1);case 1:return ds(t.type,!0);case 31:return li("Activity");default:return""}}function No(t){try{var i="",a=null;do i+=Co(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,kt=r.unstable_scheduleCallback,gr=r.unstable_cancelCallback,pf=r.unstable_shouldYield,bu=r.unstable_requestPaint,sn=r.unstable_now,ms=r.unstable_getCurrentPriorityLevel,Io=r.unstable_ImmediatePriority,Do=r.unstable_UserBlockingPriority,yr=r.unstable_NormalPriority,gf=r.unstable_LowPriority,Tu=r.unstable_IdlePriority,Su=r.log,wu=r.unstable_setDisableYieldValue,qn=null,qt=null;function Rn(t){if(typeof Su=="function"&&wu(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(qn,t)}catch{}}var yt=Math.clz32?Math.clz32:xu,Au=Math.log,ca=Math.LN2;function xu(t){return t>>>=0,t===0?32:31-(Au(t)/ca|0)|0}var ui=256,ps=262144,St=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=ci(l):(_&=T,_!==0?h=ci(_):a||(a=T&~t,a!==0&&(h=ci(a))))):(T=l&~d,T!==0?h=ci(T):_!==0?h=ci(_):a||(a=l&~t,a!==0&&(h=ci(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Fn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var t=St;return St<<=1,(St&62914560)===0&&(St=4194304),t}function fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function gs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function _f(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-yt(a),ne=1<<Z;T[Z]=0,I[Z]=-1;var q=H[Z];if(q!==null)for(H[Z]=null,Z=0;Z<q.length;Z++){var Q=q[Z];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&ys(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function ys(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:_s(a),(a&(t.suspendedLanes|i))!==0?0:a}function _s(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function Gn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Yn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Yn,Ut="__reactProps$"+Yn,di="__reactContainer$"+Yn,ha="__reactEvents$"+Yn,vf="__reactListeners$"+Yn,Nu="__reactHandles$"+Yn,Iu="__reactResources$"+Yn,mi="__reactMarker$"+Yn;function fa(t){delete t[wt],delete t[Ut],delete t[ha],delete t[vf],delete t[Nu]}function pi(t){var i=t[wt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[wt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=a_(t);t!==null;){if(a=t[wt])return a;t=a_(t)}return i}t=a,a=t.parentNode}return null}function Cn(t){if(t=t[wt]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function yn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gi(t){var i=t[Iu];return i||(i=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[mi]=!0}var ko=new Set,Vo={};function yi(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(Vo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function Du(t){return Tt.call(Uo,t)?!0:Tt.call(Lo,t)?!1:Po.test(t)?Uo[t]=!0:(Lo[t]=!0,!1)}function da(t,i,a){if(Du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function _n(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _r(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=_r(t)?"checked":"value";t._valueTracker=jo(t,i,""+t[i])}}function vs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=_r(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Es=/[\n"\\]/g;function un(t){return t.replace(Es,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,jt(i)):a!=null?zo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+jt(T):t.removeAttribute("name")}function Mu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Xe(t)}function zo(t,i,a){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vr(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ou(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function Er(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ne(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ku.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Bo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Bo(t,d,i[d])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var qo=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tr=null,Ei=null;function bs(t){var i=Cn(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(s(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&vs(l)}break e;case"textarea":Ou(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&vr(t,!!a.multiple,i,!1)}}}var ya=!1;function Sr(t,i,a){if(ya)return t(i,a);ya=!0;try{var l=t(i);return l}finally{if(ya=!1,(Tr!==null||Ei!==null)&&(Cc(),Tr&&(i=Tr,t=Ei,Ei=Tr=null,bs(i),t)))for(i=0;i<t.length;i++)bs(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=!1;if(In)try{var et={};Object.defineProperty(et,"passive",{get:function(){Ts=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{Ts=!1}var bi=null,Fo=null,Ss=null;function Go(){if(Ss)return Ss;var t,i=Fo,a=i.length,l,h="value"in bi?bi.value:bi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ss=h.slice(t,1<l?1-l:void 0)}function ws(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Kn(){return!1}function Ft(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Kn,this.isPropagationStopped=Kn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Ft(Bi),wr=b({},Bi,{view:0,detail:0}),Yo=Ft(wr),Ar,_a,Si,va=b({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Ar=t.screenX-Si.screenX,_a=t.screenY-Si.screenY):_a=Ar=0,Si=t),Ar)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),$o=Ft(va),As=b({},va,{dataTransfer:0}),Pu=Ft(As),Lu=b({},wr,{relatedTarget:0}),xs=Ft(Lu),Qo=b({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Ft(Qo),Ea=b({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ju=Ft(Ea),zu=b({},Bi,{data:0}),wi=Ft(zu),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function xr(){return Fu}var an=b({},wr,{key:function(t){if(t.key){var i=Bu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gu=Ft(an),Yu=b({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ft(Yu),c=b({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),y=Ft(c),v=b({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(v),z=b({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=Ft(z),ue=b({},Bi,{newState:0,oldState:0}),Re=Ft(ue),_t=[9,13,27,32],Ye=In&&"CompositionEvent"in window,ut=null;In&&"documentMode"in document&&(ut=document.documentMode);var Dn=In&&"TextEvent"in window&&!ut,Ai=In&&(!Ye||ut&&8<ut&&11>=ut),Xn=" ",Wn=!1;function Rs(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function RT(t,i){switch(t){case"compositionend":return ba(i);case"keypress":return i.which!==32?null:(Wn=!0,Xn);case"textInput":return t=i.data,t===Xn&&Wn?null:t;default:return null}}function CT(t,i){if(Ta)return t==="compositionend"||!Ye&&Rs(t,i)?(t=Go(),Ss=Fo=bi=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var NT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!NT[t.type]:i==="textarea"}function cg(t,i,a,l){Tr?Ei?Ei.push(l):Ei=[l]:Tr=l,i=Vc(i,"onChange"),0<i.length&&(a=new Ti("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ko=null,Xo=null;function IT(t){Y0(t,0)}function $u(t){var i=yn(t);if(vs(i))return t}function hg(t,i){if(t==="change")return i}var fg=!1;if(In){var Ef;if(In){var bf="oninput"in document;if(!bf){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),bf=typeof dg.oninput=="function"}Ef=bf}else Ef=!1;fg=Ef&&(!document.documentMode||9<document.documentMode)}function mg(){Ko&&(Ko.detachEvent("onpropertychange",pg),Xo=Ko=null)}function pg(t){if(t.propertyName==="value"&&$u(Xo)){var i=[];cg(i,Xo,t,Nn(t)),Sr(IT,i)}}function DT(t,i,a){t==="focusin"?(mg(),Ko=i,Xo=a,Ko.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function MT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(Xo)}function OT(t,i){if(t==="click")return $u(i)}function kT(t,i){if(t==="input"||t==="change")return $u(i)}function VT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var vn=typeof Object.is=="function"?Object.is:VT;function Wo(t,i){if(vn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!vn(t[h],i[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,i){var a=gg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function _g(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_g(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vi(t.document)}return i}function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var PT=In&&"documentMode"in document&&11>=document.documentMode,Sa=null,Sf=null,Jo=null,wf=!1;function Eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;wf||Sa==null||Sa!==vi(l)||(l=Sa,"selectionStart"in l&&Tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Wo(Jo,l)||(Jo=l,l=Vc(Sf,"onSelect"),0<l.length&&(i=new Ti("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Sa)))}function Cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var wa={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},Af={},bg={};In&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Ns(t){if(Af[t])return Af[t];if(!wa[t])return t;var i=wa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in bg)return Af[t]=i[a];return t}var Tg=Ns("animationend"),Sg=Ns("animationiteration"),wg=Ns("animationstart"),LT=Ns("transitionrun"),UT=Ns("transitionstart"),jT=Ns("transitioncancel"),Ag=Ns("transitionend"),xg=new Map,xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xf.push("scrollEnd");function Jn(t,i){xg.set(t,i),yi(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Mn=[],Aa=0,Rf=0;function Ku(){for(var t=Aa,i=Rf=Aa=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var d=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Rg(a,h,d)}}function Xu(t,i,a,l){Mn[Aa++]=t,Mn[Aa++]=i,Mn[Aa++]=a,Mn[Aa++]=l,Rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cf(t,i,a,l){return Xu(t,i,a,l),Wu(t)}function Is(t,i){return Xu(t,null,null,i),Wu(t)}function Rg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wu(t){if(50<El)throw El=0,Ld=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var xa={};function zT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,i,a,l){return new zT(t,i,a,l)}function Nf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=En(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ju(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")Nf(t)&&(_=1);else if(typeof t=="string")_=GS(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=En(31,a,i,h),t.elementType=x,t.lanes=d,t;case W:return Ds(a.children,h,d,i);case V:_=8,h|=24;break;case K:return t=En(12,a,i,h|2),t.elementType=K,t.lanes=d,t;case se:return t=En(13,a,i,h),t.elementType=se,t.lanes=d,t;case ce:return t=En(19,a,i,h),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:_=10;break e;case j:_=9;break e;case le:_=11;break e;case R:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=En(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ds(t,i,a,l){return t=En(7,t,l,i),t.lanes=a,t}function If(t,i,a){return t=En(6,t,null,i),t.lanes=a,t}function Ng(t){var i=En(18,null,null,0);return i.stateNode=t,i}function Df(t,i,a){return i=En(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ig=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=Ig.get(t);return a!==void 0?a:(i={value:t,source:i,stack:No(i)},Ig.set(t,i),i)}return{value:t,source:i,stack:No(i)}}var Ra=[],Ca=0,Zu=null,Zo=0,kn=[],Vn=0,Rr=null,xi=1,Ri="";function Fi(t,i){Ra[Ca++]=Zo,Ra[Ca++]=Zu,Zu=t,Zo=i}function Dg(t,i,a){kn[Vn++]=xi,kn[Vn++]=Ri,kn[Vn++]=Rr,Rr=t;var l=xi;t=Ri;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var d=32-yt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,xi=1<<32-yt(i)+h|a<<h|l,Ri=d+t}else xi=1<<d|a<<h|l,Ri=t}function Mf(t){t.return!==null&&(Fi(t,1),Dg(t,1,0))}function Of(t){for(;t===Zu;)Zu=Ra[--Ca],Ra[Ca]=null,Zo=Ra[--Ca],Ra[Ca]=null;for(;t===Rr;)Rr=kn[--Vn],kn[Vn]=null,Ri=kn[--Vn],kn[Vn]=null,xi=kn[--Vn],kn[Vn]=null}function Mg(t,i){kn[Vn++]=xi,kn[Vn++]=Ri,kn[Vn++]=Rr,xi=i.id,Ri=i.overflow,Rr=t}var Gt=null,at=null,He=!1,Cr=null,Pn=!1,kf=Error(s(519));function Nr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(On(i,t)),kf}function Og(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[wt]=t,i[Ut]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Pe(Tl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Er(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||X0(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Nr(t,!0)}function kg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Pn=!1;return;case 27:case 3:Pn=!0;return;default:Gt=Gt.return}}function Na(t){if(t!==Gt)return!1;if(!He)return kg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jd(t.type,t.memoizedProps)),a=!a),a&&at&&Nr(t),kg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=s_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=s_(t)}else i===27?(i=at,qr(t.type)?(t=im,im=null,at=t):at=i):at=Gt?Un(t.stateNode.nextSibling):null;return!0}function Ms(){at=Gt=null,He=!1}function Vf(){var t=Cr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Cr=null),t}function el(t){Cr===null?Cr=[t]:Cr.push(t)}var Pf=O(null),Os=null,Gi=null;function Ir(t,i,a){G(Pf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Pf.current,ee(Pf)}function Lf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Uf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Lf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Lf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ia(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;vn(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Uf(i,t,a,l),i.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!vn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ks(t){Os=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Vg(Os,t)}function tc(t,i){return Os===null&&ks(t),Vg(t,i)}function Vg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var BT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},HT=r.unstable_scheduleCallback,qT=r.unstable_NormalPriority,Rt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function jf(){return{controller:new BT,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&HT(qT,function(){t.controller.abort()})}var nl=null,zf=0,Da=0,Ma=null;function FT(t,i){if(nl===null){var a=nl=[];zf=0,Da=qd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return zf++,i.then(Pg,Pg),i}function Pg(){if(--zf===0&&nl!==null){Ma!==null&&(Ma.status="fulfilled");var t=nl;nl=null,Da=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function GT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Lg=$.S;$.S=function(t,i){E0=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&FT(t,i),Lg!==null&&Lg(t,i)};var Vs=O(null);function Bf(){var t=Vs.current;return t!==null?t:rt.pooledCache}function nc(t,i){i===null?G(Vs,Vs.current):G(Vs,i.pool)}function Ug(){var t=Bf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Oa=Error(s(460)),Hf=Error(s(474)),ic=Error(s(542)),rc={then:function(){}};function jg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Hg(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Hg(t),t}throw Ls=i,Oa}}function Ps(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ls=a,Oa):a}}var Ls=null;function Bg(){if(Ls===null)throw Error(s(459));var t=Ls;return Ls=null,t}function Hg(t){if(t===Oa||t===ic)throw Error(s(483))}var ka=null,il=0;function sc(t){var i=il;return il+=1,ka===null&&(ka=[]),zg(ka,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===C?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function qg(t){function i(U,k){if(t){var B=U.deletions;B===null?(U.deletions=[k],U.flags|=16):B.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=qi(U,k),U.index=0,U.sibling=null,U}function d(U,k,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<k?(U.flags|=67108866,k):B):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,k,B,te){return k===null||k.tag!==6?(k=If(B,U.mode,te),k.return=U,k):(k=h(k,B),k.return=U,k)}function I(U,k,B,te){var ye=B.type;return ye===W?Z(U,k,B.props.children,te,B.key):k!==null&&(k.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Ps(ye)===k.type)?(k=h(k,B.props),rl(k,B),k.return=U,k):(k=Ju(B.type,B.key,B.props,null,U.mode,te),rl(k,B),k.return=U,k)}function H(U,k,B,te){return k===null||k.tag!==4||k.stateNode.containerInfo!==B.containerInfo||k.stateNode.implementation!==B.implementation?(k=Df(B,U.mode,te),k.return=U,k):(k=h(k,B.children||[]),k.return=U,k)}function Z(U,k,B,te,ye){return k===null||k.tag!==7?(k=Ds(B,U.mode,te,ye),k.return=U,k):(k=h(k,B),k.return=U,k)}function ne(U,k,B){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=If(""+k,U.mode,B),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case L:return B=Ju(k.type,k.key,k.props,null,U.mode,B),rl(B,k),B.return=U,B;case X:return k=Df(k,U.mode,B),k.return=U,k;case A:return k=Ps(k),ne(U,k,B)}if(Ne(k)||P(k))return k=Ds(k,U.mode,B,null),k.return=U,k;if(typeof k.then=="function")return ne(U,sc(k),B);if(k.$$typeof===J)return ne(U,tc(U,k),B);ac(U,k)}return null}function q(U,k,B,te){var ye=k!==null?k.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ye!==null?null:T(U,k,""+B,te);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case L:return B.key===ye?I(U,k,B,te):null;case X:return B.key===ye?H(U,k,B,te):null;case A:return B=Ps(B),q(U,k,B,te)}if(Ne(B)||P(B))return ye!==null?null:Z(U,k,B,te,null);if(typeof B.then=="function")return q(U,k,sc(B),te);if(B.$$typeof===J)return q(U,k,tc(U,B),te);ac(U,B)}return null}function Q(U,k,B,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(B)||null,T(k,U,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case L:return U=U.get(te.key===null?B:te.key)||null,I(k,U,te,ye);case X:return U=U.get(te.key===null?B:te.key)||null,H(k,U,te,ye);case A:return te=Ps(te),Q(U,k,B,te,ye)}if(Ne(te)||P(te))return U=U.get(B)||null,Z(k,U,te,ye,null);if(typeof te.then=="function")return Q(U,k,B,sc(te),ye);if(te.$$typeof===J)return Q(U,k,B,tc(k,te),ye);ac(k,te)}return null}function fe(U,k,B,te){for(var ye=null,Fe=null,me=k,De=k=0,Ue=null;me!==null&&De<B.length;De++){me.index>De?(Ue=me,me=null):Ue=me.sibling;var Ge=q(U,me,B[De],te);if(Ge===null){me===null&&(me=Ue);break}t&&me&&Ge.alternate===null&&i(U,me),k=d(Ge,k,De),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge,me=Ue}if(De===B.length)return a(U,me),He&&Fi(U,De),ye;if(me===null){for(;De<B.length;De++)me=ne(U,B[De],te),me!==null&&(k=d(me,k,De),Fe===null?ye=me:Fe.sibling=me,Fe=me);return He&&Fi(U,De),ye}for(me=l(me);De<B.length;De++)Ue=Q(me,U,De,B[De],te),Ue!==null&&(t&&Ue.alternate!==null&&me.delete(Ue.key===null?De:Ue.key),k=d(Ue,k,De),Fe===null?ye=Ue:Fe.sibling=Ue,Fe=Ue);return t&&me.forEach(function(Qr){return i(U,Qr)}),He&&Fi(U,De),ye}function Ee(U,k,B,te){if(B==null)throw Error(s(151));for(var ye=null,Fe=null,me=k,De=k=0,Ue=null,Ge=B.next();me!==null&&!Ge.done;De++,Ge=B.next()){me.index>De?(Ue=me,me=null):Ue=me.sibling;var Qr=q(U,me,Ge.value,te);if(Qr===null){me===null&&(me=Ue);break}t&&me&&Qr.alternate===null&&i(U,me),k=d(Qr,k,De),Fe===null?ye=Qr:Fe.sibling=Qr,Fe=Qr,me=Ue}if(Ge.done)return a(U,me),He&&Fi(U,De),ye;if(me===null){for(;!Ge.done;De++,Ge=B.next())Ge=ne(U,Ge.value,te),Ge!==null&&(k=d(Ge,k,De),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return He&&Fi(U,De),ye}for(me=l(me);!Ge.done;De++,Ge=B.next())Ge=Q(me,U,De,Ge.value,te),Ge!==null&&(t&&Ge.alternate!==null&&me.delete(Ge.key===null?De:Ge.key),k=d(Ge,k,De),Fe===null?ye=Ge:Fe.sibling=Ge,Fe=Ge);return t&&me.forEach(function(nw){return i(U,nw)}),He&&Fi(U,De),ye}function it(U,k,B,te){if(typeof B=="object"&&B!==null&&B.type===W&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case L:e:{for(var ye=B.key;k!==null;){if(k.key===ye){if(ye=B.type,ye===W){if(k.tag===7){a(U,k.sibling),te=h(k,B.props.children),te.return=U,U=te;break e}}else if(k.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Ps(ye)===k.type){a(U,k.sibling),te=h(k,B.props),rl(te,B),te.return=U,U=te;break e}a(U,k);break}else i(U,k);k=k.sibling}B.type===W?(te=Ds(B.props.children,U.mode,te,B.key),te.return=U,U=te):(te=Ju(B.type,B.key,B.props,null,U.mode,te),rl(te,B),te.return=U,U=te)}return _(U);case X:e:{for(ye=B.key;k!==null;){if(k.key===ye)if(k.tag===4&&k.stateNode.containerInfo===B.containerInfo&&k.stateNode.implementation===B.implementation){a(U,k.sibling),te=h(k,B.children||[]),te.return=U,U=te;break e}else{a(U,k);break}else i(U,k);k=k.sibling}te=Df(B,U.mode,te),te.return=U,U=te}return _(U);case A:return B=Ps(B),it(U,k,B,te)}if(Ne(B))return fe(U,k,B,te);if(P(B)){if(ye=P(B),typeof ye!="function")throw Error(s(150));return B=ye.call(B),Ee(U,k,B,te)}if(typeof B.then=="function")return it(U,k,sc(B),te);if(B.$$typeof===J)return it(U,k,tc(U,B),te);ac(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,k!==null&&k.tag===6?(a(U,k.sibling),te=h(k,B),te.return=U,U=te):(a(U,k),te=If(B,U.mode,te),te.return=U,U=te),_(U)):a(U,k)}return function(U,k,B,te){try{il=0;var ye=it(U,k,B,te);return ka=null,ye}catch(me){if(me===Oa||me===ic)throw me;var Fe=En(29,me,null,U.mode);return Fe.lanes=te,Fe.return=U,Fe}}}var Us=qg(!0),Fg=qg(!1),Dr=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Or(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Wu(t),Rg(t,null,a),i}return Xu(t,l,i,a),Wu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}function Gf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Yf=!1;function al(){if(Yf){var t=Ma;if(t!==null)throw t}}function ol(t,i,a,l){Yf=!1;var h=t.updateQueue;Dr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,_===null?d=H:_.next=H,_=I;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,T=Z.lastBaseUpdate,T!==_&&(T===null?Z.firstBaseUpdate=H:T.next=H,Z.lastBaseUpdate=I))}if(d!==null){var ne=h.baseState;_=0,Z=H=I=null,T=d;do{var q=T.lane&-536870913,Q=q!==T.lane;if(Q?(Le&q)===q:(l&q)===q){q!==0&&q===Da&&(Yf=!0),Z!==null&&(Z=Z.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=t,Ee=T;q=i;var it=a;switch(Ee.tag){case 1:if(fe=Ee.payload,typeof fe=="function"){ne=fe.call(it,ne,q);break e}ne=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Ee.payload,q=typeof fe=="function"?fe.call(it,ne,q):fe,q==null)break e;ne=b({},ne,q);break e;case 2:Dr=!0}}q=T.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Z===null?(H=Z=Q,I=ne):Z=Z.next=Q,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Z===null&&(I=ne),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=Z,d===null&&(h.shared.lanes=0),Ur|=_,t.lanes=_,t.memoizedState=ne}}function Gg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Yg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gg(a[t],i)}var Va=O(null),oc=O(0);function $g(t,i){t=tr,G(oc,t),G(Va,i),tr=t|i.baseLanes}function $f(){G(oc,tr),G(Va,Va.current)}function Qf(){tr=oc.current,ee(Va),ee(oc)}var bn=O(null),Ln=null;function kr(t){var i=t.alternate;G(vt,vt.current&1),G(bn,t),Ln===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(Ln=t)}function Kf(t){G(vt,vt.current),G(bn,t),Ln===null&&(Ln=t)}function Qg(t){t.tag===22?(G(vt,vt.current),G(bn,t),Ln===null&&(Ln=t)):Vr()}function Vr(){G(vt,vt.current),G(bn,bn.current)}function Tn(t){ee(bn),Ln===t&&(Ln=null),ee(vt)}var vt=O(0);function lc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||tm(a)||nm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,Ce=null,tt=null,Ct=null,uc=!1,Pa=!1,js=!1,cc=0,ll=0,La=null,YT=0;function pt(){throw Error(s(321))}function Xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!vn(t[a],i[a]))return!1;return!0}function Wf(t,i,a,l,h,d){return $i=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=t===null||t.memoizedState===null?Dy:fd,js=!1,d=a(l,h),js=!1,Pa&&(d=Xg(i,a,l,h)),Kg(t),d}function Kg(t){$.H=hl;var i=tt!==null&&tt.next!==null;if($i=0,Ct=tt=Ce=null,uc=!1,ll=0,La=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&ec(t)&&(Nt=!0))}function Xg(t,i,a,l){Ce=t;var h=0;do{if(Pa&&(La=null),ll=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,Ct=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=My,d=i(a,l)}while(Pa);return d}function $T(){var t=$.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Jf(){var t=cc!==0;return cc=0,t}function Zf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ed(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}$i=0,Ct=tt=Ce=null,Pa=!1,ll=cc=0,La=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ce.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Et(){if(tt===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var i=Ct===null?Ce.memoizedState:Ct.next;if(i!==null)Ct=i,tt=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ct===null?Ce.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=ll;return ll+=1,La===null&&(La=[]),t=zg(La,t,i),i=Ce,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Dy:fd),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===J)return Yt(t)}throw Error(s(438,String(t)))}function td(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Qi(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=Et();return nd(i,tt,t)}function nd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,I=null,H=i,Z=!1;do{var ne=H.lane&-536870913;if(ne!==H.lane?(Le&ne)===ne:($i&ne)===ne){var q=H.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ne===Da&&(Z=!0);else if(($i&q)===q){H=H.next,q===Da&&(Z=!0);continue}else ne={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=ne,_=d):I=I.next=ne,Ce.lanes|=q,Ur|=q;ne=H.action,js&&a(d,ne),d=H.hasEagerState?H.eagerState:a(d,ne)}else q={lane:ne,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=q,_=d):I=I.next=q,Ce.lanes|=ne,Ur|=ne;H=H.next}while(H!==null&&H!==i);if(I===null?_=d:I.next=T,!vn(d,t.memoizedState)&&(Nt=!0,Z&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function id(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);vn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Wg(t,i,a){var l=Ce,h=Et(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!vn((tt||h).memoizedState,a);if(_&&(h.memoizedState=a,Nt=!0),h=h.queue,ad(ey.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},Zg.bind(null,l,h,a,i),null),rt===null)throw Error(s(349));d||($i&127)!==0||Jg(l,i,a)}return a}function Jg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=hc(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Zg(t,i,a,l){i.value=a,i.getSnapshot=l,ty(i)&&ny(t)}function ey(t,i,a){return a(function(){ty(i)&&ny(t)})}function ty(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!vn(t,a)}catch{return!0}}function ny(t){var i=Is(t,2);i!==null&&pn(i,t,2)}function rd(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),js){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function iy(t,i,a,l){return t.baseState=a,nd(t,tt,typeof l=="function"?l:Qi)}function QT(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ry(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ry(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=$.T,_={};$.T=_;try{var T=a(h,l),I=$.S;I!==null&&I(_,T),sy(t,i,T)}catch(H){sd(t,i,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),$.T=d}}else try{d=a(h,l),sy(t,i,d)}catch(H){sd(t,i,H)}}function sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ay(t,i,l)},function(l){return sd(t,i,l)}):ay(t,i,a)}function ay(t,i,a){i.status="fulfilled",i.value=a,oy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ry(t,a)))}function sd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,oy(i),i=i.next;while(i!==l)}t.action=null}function oy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function ly(t,i){return i}function uy(t,i){if(He){var a=rt.formState;if(a!==null){e:{var l=Ce;if(He){if(at){t:{for(var h=at,d=Pn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Un(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=Un(h.nextSibling),l=h.data==="F!";break e}}Nr(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:i},a.queue=l,a=Cy.bind(null,Ce,l),l.dispatch=a,l=rd(!1),d=hd.bind(null,Ce,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=QT.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function cy(t){var i=Et();return hy(i,tt,t)}function hy(t,i,a){if(i=nd(t,i,ly)[0],t=dc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(_){throw _===Oa?ic:_}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Ua(9,{destroy:void 0},KT.bind(null,h,a),null)),[l,d,t]}function KT(t,i){t.action=i}function fy(t){var i=Et(),a=tt;if(a!==null)return hy(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ua(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=hc(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function dy(){return Et().memoizedState}function mc(t,i,a,l){var h=on();Ce.flags|=t,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function pc(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&Xf(l,tt.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Ce.flags|=t,h.memoizedState=Ua(1|i,d,a,l))}function my(t,i){mc(8390656,8,t,i)}function ad(t,i){pc(2048,8,t,i)}function XT(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=hc(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function py(t){var i=Et().memoizedState;return XT({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function gy(t,i){return pc(4,2,t,i)}function yy(t,i){return pc(4,4,t,i)}function _y(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vy(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,_y.bind(null,i,t),a)}function od(){}function Ey(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Xf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function by(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Xf(i,l[1]))return l[0];if(l=t(),js){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function ld(t,i,a){return a===void 0||($i&1073741824)!==0&&(Le&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=T0(),Ce.lanes|=t,Ur|=t,a)}function Ty(t,i,a,l){return vn(a,i)?a:Va.current!==null?(t=ld(t,a,l),vn(t,i)||(Nt=!0),t):($i&42)===0||($i&1073741824)!==0&&(Le&261930)===0?(Nt=!0,t.memoizedState=a):(t=T0(),Ce.lanes|=t,Ur|=t,i)}function Sy(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var _=$.T,T={};$.T=T,hd(t,!1,i,a);try{var I=h(),H=$.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Z=GT(I,l);cl(t,i,Z,An(t))}else cl(t,i,l,An(t))}catch(ne){cl(t,i,{then:function(){},status:"rejected",reason:ne},An())}finally{oe.p=d,_!==null&&T.types!==null&&(_.types=T.types),$.T=_}}function WT(){}function ud(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=wy(t).queue;Sy(t,h,i,de,a===null?WT:function(){return Ay(t),a(l)})}function wy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ay(t){var i=wy(t);i.next===null&&(i=t.alternate.memoizedState),cl(t,i.next.queue,{},An())}function cd(){return Yt(Rl)}function xy(){return Et().memoizedState}function Ry(){return Et().memoizedState}function JT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=An();t=Mr(a);var l=Or(i,t,a);l!==null&&(pn(l,i,a),sl(l,i,a)),i={cache:jf()},t.payload=i;return}i=i.return}}function ZT(t,i,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?Ny(i,a):(a=Cf(t,i,a,l),a!==null&&(pn(a,t,l),Iy(a,i,l)))}function Cy(t,i,a){var l=An();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))Ny(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,vn(T,_))return Xu(t,i,h,0),rt===null&&Ku(),!1}catch{}if(a=Cf(t,i,h,l),a!==null)return pn(a,t,l),Iy(a,i,l),!0}return!1}function hd(t,i,a,l){if(l={lane:2,revertLane:qd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=Cf(t,a,l,2),i!==null&&pn(i,t,2)}function gc(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Ny(t,i){Pa=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Iy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}var hl={readContext:Yt,use:fc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};hl.useEffectEvent=pt;var Dy={readContext:Yt,use:fc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:my,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,_y.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(js){Rn(!0);try{t()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(js){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ZT.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=rd(t);var i=t.queue,a=Cy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:od,useDeferredValue:function(t,i){var a=on();return ld(a,t,i)},useTransition:function(){var t=rd(!1);return t=Sy.bind(null,Ce,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=on();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(Le&127)!==0||Jg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,my(ey.bind(null,l,d,t),[t]),l.flags|=2048,Ua(9,{destroy:void 0},Zg.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=rt.identifierPrefix;if(He){var a=Ri,l=xi;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=YT++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:cd,useFormState:uy,useActionState:uy,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=hd.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:td,useCacheRefresh:function(){return on().memoizedState=JT.bind(null,Ce)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},fd={readContext:Yt,use:fc,useCallback:Ey,useContext:Yt,useEffect:ad,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:by,useReducer:dc,useRef:dy,useState:function(){return dc(Qi)},useDebugValue:od,useDeferredValue:function(t,i){var a=Et();return Ty(a,tt.memoizedState,t,i)},useTransition:function(){var t=dc(Qi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Wg,useId:xy,useHostTransitionStatus:cd,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=Et();return iy(a,tt,t,i)},useMemoCache:td,useCacheRefresh:Ry};fd.useEffectEvent=py;var My={readContext:Yt,use:fc,useCallback:Ey,useContext:Yt,useEffect:ad,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:by,useReducer:id,useRef:dy,useState:function(){return id(Qi)},useDebugValue:od,useDeferredValue:function(t,i){var a=Et();return tt===null?ld(a,t,i):Ty(a,tt.memoizedState,t,i)},useTransition:function(){var t=id(Qi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Wg,useId:xy,useHostTransitionStatus:cd,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=Et();return tt!==null?iy(a,tt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:td,useCacheRefresh:Ry};My.useEffectEvent=py;function dd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var md={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=An(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(pn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=An(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Or(t,h,l),i!==null&&(pn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=An(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Or(t,l,a),i!==null&&(pn(i,t,a),sl(i,t,a))}};function Oy(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function ky(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&md.enqueueReplaceState(i,i.state,null)}function zs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Vy(t){Qu(t)}function Py(t){console.error(t)}function Ly(t){Qu(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Uy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function pd(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function jy(t){return t=Mr(t),t.tag=3,t}function zy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Uy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Uy(i,a,l),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function eS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?Nc():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),zd(t,l,h)),!1;case 22:return a.flags|=65536,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),zd(t,l,h)),!1}throw Error(s(435,a.tag))}return zd(t,l,h),Nc(),!1}if(He)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==kf&&(t=Error(s(422),{cause:l}),el(On(t,a)))):(l!==kf&&(i=Error(s(423),{cause:l}),el(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=pd(t.stateNode,l,h),Gf(t,h),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:l});if(d=On(d,a),vl===null?vl=[d]:vl.push(d),gt!==4&&(gt=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=pd(a.stateNode,l,t),Gf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=jy(h),zy(h,t,a,l),Gf(a,h),!1}a=a.return}while(a!==null);return!1}var gd=Error(s(461)),Nt=!1;function $t(t,i,a,l){i.child=t===null?Fg(i,null,a,l):Us(i,t.child,a,l)}function By(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ks(i),l=Wf(t,i,a,_,d,h),T=Jf(),t!==null&&!Nt?(Zf(t,i,h),Ki(t,i,h)):(He&&T&&Mf(i),i.flags|=1,$t(t,i,l,h),i.child)}function Hy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Nf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,qy(t,i,d,l,h)):(t=Ju(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!wd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function qy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,wd(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return yd(t,i,a,l,h)}function Fy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Gy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(i,d!==null?d.cachePool:null),d!==null?$g(i,d):$f(),Qg(i);else return l=i.lanes=536870912,Gy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nc(i,d.cachePool),$g(i,d),Vr(),i.memoizedState=null):(t!==null&&nc(i,null),$f(),Vr());return $t(t,i,h,a),i.child}function fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Gy(t,i,a,l,h){var d=Bf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&nc(i,null),$f(),Qg(i),t!==null&&Ia(t,i,l,!0),i.childLanes=h,null}function _c(t,i){return i=Ec({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Yy(t,i,a){return Us(i,t.child,null,a),t=_c(i,i.pendingProps),t.flags|=2,Tn(i),i.memoizedState=null,t}function tS(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(He){if(l.mode==="hidden")return t=_c(i,l),i.lanes=536870912,fl(null,t);if(Kf(i),(t=at)?(t=r_(t,Pn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rr!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Ng(t),a.return=i,i.child=a,Gt=i,at=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return _c(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(i),h)if(i.flags&256)i.flags&=-257,i=Yy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||Ia(t,i,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=rt,l!==null&&(_=Oo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Is(t,_),pn(l,t,_),gd;Nc(),i=Yy(t,i,a)}else t=d.treeContext,at=Un(_.nextSibling),Gt=i,He=!0,Cr=null,Pn=!1,t!==null&&Mg(i,t),i=_c(i,l),i.flags|=4096;return i}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function yd(t,i,a,l,h){return ks(i),a=Wf(t,i,a,l,void 0,h),l=Jf(),t!==null&&!Nt?(Zf(t,i,h),Ki(t,i,h)):(He&&l&&Mf(i),i.flags|=1,$t(t,i,a,h),i.child)}function $y(t,i,a,l,h,d){return ks(i),i.updateQueue=null,a=Xg(i,l,a,h),Kg(t),l=Jf(),t!==null&&!Nt?(Zf(t,i,d),Ki(t,i,d)):(He&&l&&Mf(i),i.flags|=1,$t(t,i,a,d),i.child)}function Qy(t,i,a,l,h){if(ks(i),i.stateNode===null){var d=xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Yt(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=md,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Yt(_):xa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(dd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&md.enqueueReplaceState(d,d.state,null),ol(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=zs(a,T);d.props=I;var H=d.context,Z=a.contextType;_=xa,typeof Z=="object"&&Z!==null&&(_=Yt(Z));var ne=a.getDerivedStateFromProps;Z=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==_)&&ky(i,d,l,_),Dr=!1;var q=i.memoizedState;d.state=q,ol(i,l,d,h),al(),H=i.memoizedState,T||q!==H||Dr?(typeof ne=="function"&&(dd(i,a,ne,l),H=i.memoizedState),(I=Dr||Oy(i,a,I,l,q,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=_,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Ff(t,i),_=i.memoizedProps,Z=zs(a,_),d.props=Z,ne=i.pendingProps,q=d.context,H=a.contextType,I=xa,typeof H=="object"&&H!==null&&(I=Yt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ne||q!==I)&&ky(i,d,l,I),Dr=!1,q=i.memoizedState,d.state=q,ol(i,l,d,h),al();var Q=i.memoizedState;_!==ne||q!==Q||Dr||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof T=="function"&&(dd(i,a,T,l),Q=i.memoizedState),(Z=Dr||Oy(i,a,Z,l,q,Q,I)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,vc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Us(i,t.child,null,h),i.child=Us(i,null,a,h)):$t(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Ky(t,i,a,l){return Ms(),i.flags|=256,$t(t,i,a,l),i.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:Ug()}}function Ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=wn),t}function Xy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?kr(i):Vr(),(t=at)?(t=r_(t,Pn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Rr!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Ng(t),a.return=i,i.child=a,Gt=i,at=null)):t=null,t===null)throw Nr(i);return nm(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Vr(),h=i.mode,T=Ec({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),i.memoizedState=_d,fl(null,l)):(kr(i),bd(i,T))}var I=t.memoizedState;if(I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(kr(i),i.flags&=-257,i=Td(t,i,a)):i.memoizedState!==null?(Vr(),i.child=t.child,i.flags|=128,i=null):(Vr(),T=l.fallback,h=i.mode,l=Ec({mode:"visible",children:l.children},h),T=Ds(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,Us(i,t.child,null,a),l=i.child,l.memoizedState=vd(a),l.childLanes=Ed(t,_,a),i.memoizedState=_d,i=fl(null,l));else if(kr(i),nm(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(s(419)),l.stack="",l.digest=_,el({value:l,source:null,stack:null}),i=Td(t,i,a)}else if(Nt||Ia(t,i,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=rt,_!==null&&(l=Oo(_,a),l!==0&&l!==I.retryLane))throw I.retryLane=l,Is(t,l),pn(_,t,l),gd;tm(T)||Nc(),i=Td(t,i,a)}else tm(T)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,at=Un(T.nextSibling),Gt=i,He=!0,Cr=null,Pn=!1,t!==null&&Mg(i,t),i=bd(i,l.children),i.flags|=4096);return i}return h?(Vr(),T=l.fallback,h=i.mode,I=t.child,H=I.sibling,l=qi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?T=qi(H,T):(T=Ds(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,fl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=vd(a):(h=T.cachePool,h!==null?(I=Rt._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ug(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=Ed(t,_,a),i.memoizedState=_d,fl(t.child,l)):(kr(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function bd(t,i){return i=Ec({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ec(t,i){return t=En(22,t,null,i),t.lanes=0,t}function Td(t,i,a){return Us(i,t.child,null,a),t=bd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Wy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Lf(t.return,i,a)}function Sd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Jy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,G(vt,_),$t(t,i,l,a),l=He?Zo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wy(t,a,i);else if(t.tag===19)Wy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Sd(i,!0,a,null,d,l);break;case"together":Sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ia(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function wd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function nS(t,i,a){switch(i.tag){case 3:mt(i,i.stateNode.containerInfo),Ir(i,Rt,t.memoizedState.cache),Ms();break;case 27:case 5:Ui(i);break;case 4:mt(i,i.stateNode.containerInfo);break;case 10:Ir(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Xy(t,i,a):(kr(i),t=Ki(t,i,a),t!==null?t.sibling:null);kr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ia(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Jy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),G(vt,vt.current),l)break;return null;case 22:return i.lanes=0,Fy(t,i,a,i.pendingProps);case 24:Ir(i,Rt,t.memoizedState.cache)}return Ki(t,i,a)}function Zy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!wd(t,a)&&(i.flags&128)===0)return Nt=!1,nS(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,He&&(i.flags&1048576)!==0&&Dg(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ps(i.elementType),i.type=t,typeof t=="function")Nf(t)?(l=zs(t,l),i.tag=1,i=Qy(null,i,t,l,a)):(i.tag=0,i=yd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===le){i.tag=11,i=By(null,i,t,l,a);break e}else if(h===R){i.tag=14,i=Hy(null,i,t,l,a);break e}}throw i=Oe(t)||t,Error(s(306,i,""))}}return i;case 0:return yd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=zs(l,i.pendingProps),Qy(t,i,l,h,a);case 3:e:{if(mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Ff(t,i),ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Ir(i,Rt,l),l!==d.cache&&Uf(i,[Rt],a,!0),al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Ky(t,i,l,a);break e}else if(l!==h){h=On(Error(s(424)),i),el(h),i=Ky(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=Un(t.firstChild),Gt=i,He=!0,Cr=null,Pn=!0,a=Fg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ms(),l===h){i=Ki(t,i,a);break e}$t(t,i,l,a)}i=i.child}return i;case 26:return vc(t,i),t===null?(a=c_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Pc(we.current).createElement(a),l[wt]=i,l[Ut]=t,Qt(l,a,t),At(l),i.stateNode=l):i.memoizedState=c_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ui(i),t===null&&He&&(l=i.stateNode=o_(i.type,i.pendingProps,we.current),Gt=i,Pn=!0,h=at,qr(i.type)?(im=h,at=Un(l.firstChild)):at=h),$t(t,i,i.pendingProps.children,a),vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=at)&&(l=MS(l,i.type,i.pendingProps,Pn),l!==null?(i.stateNode=l,Gt=i,at=Un(l.firstChild),Pn=!1,h=!0):h=!1),h||Nr(i)),Ui(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Jd(h,d)?l=null:_!==null&&Jd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Wf(t,i,$T,null,null,a),Rl._currentValue=h),vc(t,i),$t(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=at)&&(a=OS(a,i.pendingProps,Pn),a!==null?(i.stateNode=a,Gt=i,at=null,t=!0):t=!1),t||Nr(i)),null;case 13:return Xy(t,i,a);case 4:return mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Us(i,null,l,a):$t(t,i,l,a),i.child;case 11:return By(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ir(i,i.type,l.value),$t(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ks(i),h=Yt(h),l=l(h),i.flags|=1,$t(t,i,l,a),i.child;case 14:return Hy(t,i,i.type,i.pendingProps,a);case 15:return qy(t,i,i.type,i.pendingProps,a);case 19:return Jy(t,i,a);case 31:return tS(t,i,a);case 22:return Fy(t,i,a,i.pendingProps);case 24:return ks(i),l=Yt(Rt),t===null?(h=Bf(),h===null&&(h=rt,d=jf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},qf(i),Ir(i,Rt,h)):((t.lanes&a)!==0&&(Ff(t,i),ol(i,null,null,a),al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ir(i,Rt,l)):(l=d.cache,Ir(i,Rt,l),l!==h.cache&&Uf(i,[Rt],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(t){t.flags|=4}function Ad(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(x0())t.flags|=8192;else throw Ls=rc,Hf}else t.flags&=-16777217}function e0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!p_(i))if(x0())t.flags|=8192;else throw Ls=rc,Hf}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ru():536870912,t.lanes|=i,Ha|=i)}function dl(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function iS(t,i,a){var l=i.pendingProps;switch(Of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(Rt),Qe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),ot(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(ot(i),e0(i,d)):(ot(i),Ad(i,h,null,l,a))):d?d!==t.memoizedState?(Xi(i),ot(i),e0(i,d)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(i),ot(i),Ad(i,h,t,l,a)),null;case 27:if(oa(i),a=we.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=ae.current,Na(i)?Og(i):(t=o_(h,l,a),i.stateNode=t,Xi(i))}return ot(i),null;case 5:if(oa(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(d=ae.current,Na(i))Og(i);else{var _=Pc(we.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[wt]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xi(i)}}return ot(i),Ad(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,Na(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[wt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||X0(t.nodeValue,a)),t||Nr(i,!0)}else t=Pc(t).createTextNode(l),t[wt]=i,i.stateNode=t}return ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Na(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[wt]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[wt]=i}else Ms(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),ot(i),null);case 4:return Qe(),t===null&&$d(i.stateNode.containerInfo),ot(i),null;case 10:return Yi(i.type),ot(i),null;case 19:if(ee(vt),l=i.memoizedState,l===null)return ot(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)dl(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=lc(t),d!==null){for(i.flags|=128,dl(l,!1),t=d.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Cg(a,t),a=a.sibling;return G(vt,vt.current&1|2),He&&Fi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>xc&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304)}else{if(!h)if(t=lc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!He)return ot(i),null}else 2*sn()-l.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=vt.current,G(vt,h?a&1|2:a&1),He&&Fi(i,l.treeForkCount),t):(ot(i),null);case 22:case 23:return Tn(i),Qf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ee(Vs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(Rt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function rS(t,i){switch(Of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(Rt),Qe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return oa(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Tn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Ms()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ee(vt),null;case 4:return Qe(),null;case 10:return Yi(i.type),null;case 22:case 23:return Tn(i),Qf(),t!==null&&ee(Vs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(Rt),null;case 25:return null;default:return null}}function t0(t,i){switch(Of(i),i.tag){case 3:Yi(Rt),Qe();break;case 26:case 27:case 5:oa(i);break;case 4:Qe();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:ee(vt);break;case 10:Yi(i.type);break;case 22:case 23:Tn(i),Qf(),t!==null&&ee(Vs);break;case 24:Yi(Rt)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Je(i,i.return,T)}}function Pr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var I=a,H=T;try{H()}catch(Z){Je(h,I,Z)}}}l=l.next}while(l!==d)}}catch(Z){Je(i,i.return,Z)}}function n0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Yg(i,a)}catch(l){Je(t,t.return,l)}}}function i0(t,i,a){a.props=zs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function Ci(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function r0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function xd(t,i,a){try{var l=t.stateNode;xS(l,t.type,a,i),l[Ut]=i}catch(h){Je(t,t.return,h)}}function s0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&qr(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&qr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Cd(t,i,a),t=t.sibling;t!==null;)Cd(t,i,a),t=t.sibling}function Tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&qr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}function a0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[wt]=t,i[Ut]=a}catch(d){Je(t,t.return,d)}}var Wi=!1,It=!1,Nd=!1,o0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function sS(t,i){if(t=t.containerInfo,Xd=qc,t=vg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,I=-1,H=0,Z=0,ne=t,q=null;t:for(;;){for(var Q;ne!==a||h!==0&&ne.nodeType!==3||(T=_+h),ne!==d||l!==0&&ne.nodeType!==3||(I=_+l),ne.nodeType===3&&(_+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)q=ne,ne=Q;for(;;){if(ne===t)break t;if(q===a&&++H===h&&(T=_),q===d&&++Z===l&&(I=_),(Q=ne.nextSibling)!==null)break;ne=q,q=ne.parentNode}ne=Q}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Wd={focusedElem:t,selectionRange:a},qc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=zs(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ee){Je(a,a.return,Ee)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function l0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&ml(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Je(a,a.return,_)}else{var h=zs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Je(a,a.return,_)}}l&64&&n0(a),l&512&&pl(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yg(t,i)}catch(_){Je(a,a.return,_)}}break;case 27:i===null&&l&4&&a0(a);case 26:case 5:Zi(t,a),i===null&&l&4&&r0(a),l&512&&pl(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),l&4&&h0(t,a);break;case 13:Zi(t,a),l&4&&f0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mS.bind(null,a),kS(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){i=i!==null&&i.memoizedState!==null||It,h=Wi;var d=It;Wi=l,(It=i)&&!d?er(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),Wi=h,It=d}break;case 30:break;default:Zi(t,a)}}function u0(t){var i=t.alternate;i!==null&&(t.alternate=null,u0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ct=null,hn=!1;function Ji(t,i,a){for(a=a.child;a!==null;)c0(t,i,a),a=a.sibling}function c0(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:It||Ci(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ci(a,i);var l=ct,h=hn;qr(a.type)&&(ct=a.stateNode,hn=!1),Ji(t,i,a),wl(a.stateNode),ct=l,hn=h;break;case 5:It||Ci(a,i);case 6:if(l=ct,h=hn,ct=null,Ji(t,i,a),ct=l,hn=h,ct!==null)if(hn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{ct.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:ct!==null&&(hn?(t=ct,n_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):n_(ct,a.stateNode));break;case 4:l=ct,h=hn,ct=a.stateNode.containerInfo,hn=!0,Ji(t,i,a),ct=l,hn=h;break;case 0:case 11:case 14:case 15:Pr(2,a,i),It||Pr(4,a,i),Ji(t,i,a);break;case 1:It||(Ci(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&i0(a,i,l)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,Ji(t,i,a),It=l;break;default:Ji(t,i,a)}}function h0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){Je(i,i.return,a)}}}function f0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){Je(i,i.return,a)}}function aS(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new o0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new o0),i;default:throw Error(s(435,t.tag))}}function Sc(t,i){var a=aS(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=pS.bind(null,t,l);l.then(h,h)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(qr(T.type)){ct=T.stateNode,hn=!1;break e}break;case 5:ct=T.stateNode,hn=!1;break e;case 3:case 4:ct=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ct===null)throw Error(s(160));c0(d,_,h),ct=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)d0(i,t),i=i.sibling}var Zn=null;function d0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Pr(3,t,t.return),ml(3,t),Pr(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(It||a===null||Ci(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(fn(i,t),dn(t),l&512&&(It||a===null||Ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mi]||d[wt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[wt]=t,At(d),l=d;break e;case"link":var _=d_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=d_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[wt]=t,At(d),l=d}t.stateNode=l}else m_(h,t.type,t.stateNode);else t.stateNode=f_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?m_(h,t.type,t.stateNode):f_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&xd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(It||a===null||Ci(a,a.return)),a!==null&&l&4&&xd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(It||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(fe){Je(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,xd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Nd=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Je(t,t.return,fe)}}break;case 3:if(jc=null,h=Zn,Zn=Lc(i.containerInfo),fn(i,t),Zn=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(fe){Je(t,t.return,fe)}Nd&&(Nd=!1,m0(t));break;case 4:l=Zn,Zn=Lc(t.stateNode.containerInfo),fn(i,t),dn(t),Zn=l;break;case 12:fn(i,t),dn(t);break;case 31:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Wi,Z=It;if(Wi=H||h,It=Z||I,fn(i,t),It=Z,Wi=H,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Wi||It||Bs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=I.stateNode;var ne=I.memoizedProps.style,q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Je(I,I.return,fe)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(fe){Je(I,I.return,fe)}}}else if(i.tag===18){if(a===null){I=i;try{var Q=I.stateNode;h?i_(Q,!0):i_(I.stateNode,!1)}catch(fe){Je(I,I.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Sc(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Sc(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(s0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(t);Tc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var T=Rd(t);Tc(t,T,_);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Rd(t);Cd(t,H,I);break;default:throw Error(s(161))}}catch(Z){Je(t,t.return,Z)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function m0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;m0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)l0(t,i.alternate,i),i=i.sibling}function Bs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),Bs(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&i0(i,i.return,a),Bs(i);break;case 27:wl(i.stateNode);case 26:case 5:Ci(i,i.return),Bs(i);break;case 22:i.memoizedState===null&&Bs(i);break;case 30:Bs(i);break;default:Bs(i)}t=t.sibling}}function er(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:er(h,d,a),ml(4,d);break;case 1:if(er(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){Je(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Gg(I[h],T)}catch(H){Je(l,l.return,H)}}a&&_&64&&n0(d),pl(d,d.return);break;case 27:a0(d);case 26:case 5:er(h,d,a),a&&l===null&&_&4&&r0(d),pl(d,d.return);break;case 12:er(h,d,a);break;case 31:er(h,d,a),a&&_&4&&h0(h,d);break;case 13:er(h,d,a),a&&_&4&&f0(h,d);break;case 22:d.memoizedState===null&&er(h,d,a),pl(d,d.return);break;case 30:break;default:er(h,d,a)}i=i.sibling}}function Id(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Dd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function ei(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p0(t,i,a,l),i=i.sibling}function p0(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(t,i,a,l),h&2048&&ml(9,i);break;case 1:ei(t,i,a,l);break;case 3:ei(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){ei(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Je(i,i.return,I)}}else ei(t,i,a,l);break;case 31:ei(t,i,a,l);break;case 13:ei(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ei(t,i,a,l):gl(t,i):d._visibility&2?ei(t,i,a,l):(d._visibility|=2,ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Id(_,i);break;case 24:ei(t,i,a,l),h&2048&&Dd(i.alternate,i);break;default:ei(t,i,a,l)}}function ja(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,I=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,T,I,h),ml(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?ja(d,_,T,I,h):gl(d,_):(Z._visibility|=2,ja(d,_,T,I,h)),h&&H&2048&&Id(_.alternate,_);break;case 24:ja(d,_,T,I,h),h&&H&2048&&Dd(_.alternate,_);break;default:ja(d,_,T,I,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Id(l.alternate,l);break;case 24:gl(a,l),h&2048&&Dd(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function za(t,i,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)g0(t,i,a),t=t.sibling}function g0(t,i,a){switch(t.tag){case 26:za(t,i,a),t.flags&yl&&t.memoizedState!==null&&YS(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:za(t,i,a);break;case 3:case 4:var l=Zn;Zn=Lc(t.stateNode.containerInfo),za(t,i,a),Zn=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,za(t,i,a),yl=l):za(t,i,a));break;default:za(t,i,a)}}function y0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,v0(l,t)}y0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)_0(t),t=t.sibling}function _0(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,wc(t)):_l(t);break;default:_l(t)}}function wc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,v0(l,t)}y0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),wc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,wc(i));break;default:wc(i)}t=t.sibling}}function v0(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(u0(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var oS={getCacheForType:function(t){var i=Yt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Yt(Rt).controller.signal}},lS=typeof WeakMap=="function"?WeakMap:Map,$e=0,rt=null,Ve=null,Le=0,We=0,Sn=null,Lr=!1,Ba=!1,Md=!1,tr=0,gt=0,Ur=0,Hs=0,Od=0,wn=0,Ha=0,vl=null,mn=null,kd=!1,Ac=0,E0=0,xc=1/0,Rc=null,jr=null,Vt=0,zr=null,qa=null,nr=0,Vd=0,Pd=null,b0=null,El=0,Ld=null;function An(){return($e&2)!==0&&Le!==0?Le&-Le:$.T!==null?qd():Cu()}function T0(){if(wn===0)if((Le&536870912)===0||He){var t=ps;ps<<=1,(ps&3932160)===0&&(ps=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function pn(t,i,a){(t===rt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Br(t,Le,wn,!1)),gs(t,a),(($e&2)===0||t!==rt)&&(t===rt&&(($e&2)===0&&(Hs|=a),gt===4&&Br(t,Le,wn,!1)),Ni(t))}function S0(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Fn(t,i),h=l?hS(t,i):jd(t,i,!0),d=l;do{if(h===0){Ba&&!l&&Br(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!uS(a)){h=jd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=vl;var I=T.current.memoizedState.isDehydrated;if(I&&(Fa(T,_).flags|=256),_=jd(T,_,!1),_!==2){if(Md&&!I){T.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),Br(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Br(l,i,wn,!Lr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ac+300-sn(),10<h)){if(Br(l,i,wn,!Lr),hi(l,0,!0)!==0)break e;nr=i,l.timeoutHandle=e_(w0.bind(null,l,a,mn,Rc,kd,i,wn,Hs,Ha,Lr,d,"Throttled",-0,0),h);break e}w0(l,a,mn,Rc,kd,i,wn,Hs,Ha,Lr,d,null,-0,0)}}break}while(!0);Ni(t)}function w0(t,i,a,l,h,d,_,T,I,H,Z,ne,q,Q){if(t.timeoutHandle=-1,ne=i.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},g0(i,d,ne);var fe=(d&62914560)===d?Ac-sn():(d&4194048)===d?E0-sn():0;if(fe=$S(ne,fe),fe!==null){nr=d,t.cancelPendingCommit=fe(M0.bind(null,t,i,d,a,l,h,_,T,I,Z,ne,null,q,Q)),Br(t,d,_,!H);return}}M0(t,i,d,a,l,h,_,T,I)}function uS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!vn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Br(t,i,a,l){i&=~Od,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-yt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&ys(t,a,i)}function Cc(){return($e&6)===0?(bl(0),!1):!0}function Ud(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,Gi=Os=null,ed(t),ka=null,il=0,t=Ve;for(;t!==null;)t0(t.alternate,t),t=t.return;Ve=null}}function Fa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,NS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),nr=0,Ud(),rt=t,Ve=a=qi(t.current,null),Le=i,We=0,Sn=null,Lr=!1,Ba=Fn(t,i),Md=!1,Ha=wn=Od=Hs=Ur=gt=0,mn=vl=null,kd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-yt(l),d=1<<h;i|=t[h],l&=~d}return tr=i,Ku(),a}function A0(t,i){Ce=null,$.H=hl,i===Oa||i===ic?(i=Bg(),We=3):i===Hf?(i=Bg(),We=4):We=i===gd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ve===null&&(gt=1,yc(t,On(i,t.current)))}function x0(){var t=bn.current;return t===null?!0:(Le&4194048)===Le?Ln===null:(Le&62914560)===Le||(Le&536870912)!==0?t===Ln:!1}function R0(){var t=$.H;return $.H=hl,t===null?hl:t}function C0(){var t=$.A;return $.A=oS,t}function Nc(){gt=4,Lr||(Le&4194048)!==Le&&bn.current!==null||(Ba=!0),(Ur&134217727)===0&&(Hs&134217727)===0||rt===null||Br(rt,Le,wn,!1)}function jd(t,i,a){var l=$e;$e|=2;var h=R0(),d=C0();(rt!==t||Le!==i)&&(Rc=null,Fa(t,i)),i=!1;var _=gt;e:do try{if(We!==0&&Ve!==null){var T=Ve,I=Sn;switch(We){case 8:Ud(),_=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var H=We;if(We=0,Sn=null,Ga(t,T,I,H),a&&Ba){_=0;break e}break;default:H=We,We=0,Sn=null,Ga(t,T,I,H)}}cS(),_=gt;break}catch(Z){A0(t,Z)}while(!0);return i&&t.shellSuspendCounter++,Gi=Os=null,$e=l,$.H=h,$.A=d,Ve===null&&(rt=null,Le=0,Ku()),_}function cS(){for(;Ve!==null;)N0(Ve)}function hS(t,i){var a=$e;$e|=2;var l=R0(),h=C0();rt!==t||Le!==i?(Rc=null,xc=sn()+500,Fa(t,i)):Ba=Fn(t,i);e:do try{if(We!==0&&Ve!==null){i=Ve;var d=Sn;t:switch(We){case 1:We=0,Sn=null,Ga(t,i,d,1);break;case 2:case 9:if(jg(d)){We=0,Sn=null,I0(i);break}i=function(){We!==2&&We!==9||rt!==t||(We=7),Ni(t)},d.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:jg(d)?(We=0,Sn=null,I0(i)):(We=0,Sn=null,Ga(t,i,d,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var T=Ve;if(_?p_(_):T.stateNode.complete){We=0,Sn=null;var I=T.sibling;if(I!==null)Ve=I;else{var H=T.return;H!==null?(Ve=H,Ic(H)):Ve=null}break t}}We=0,Sn=null,Ga(t,i,d,5);break;case 6:We=0,Sn=null,Ga(t,i,d,6);break;case 8:Ud(),gt=6;break e;default:throw Error(s(462))}}fS();break}catch(Z){A0(t,Z)}while(!0);return Gi=Os=null,$.H=l,$.A=h,$e=a,Ve!==null?0:(rt=null,Le=0,Ku(),gt)}function fS(){for(;Ve!==null&&!pf();)N0(Ve)}function N0(t){var i=Zy(t.alternate,t,tr);t.memoizedProps=t.pendingProps,i===null?Ic(t):Ve=i}function I0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=$y(a,i,i.pendingProps,i.type,void 0,Le);break;case 11:i=$y(a,i,i.pendingProps,i.type.render,i.ref,Le);break;case 5:ed(i);default:t0(a,i),i=Ve=Cg(i,tr),i=Zy(a,i,tr)}t.memoizedProps=t.pendingProps,i===null?Ic(t):Ve=i}function Ga(t,i,a,l){Gi=Os=null,ed(i),ka=null,il=0;var h=i.return;try{if(eS(t,h,i,a,Le)){gt=1,yc(t,On(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;gt=1,yc(t,On(a,t.current)),Ve=null;return}i.flags&32768?(He||l===1?t=!0:Ba||(Le&536870912)!==0?t=!1:(Lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),D0(i,t)):Ic(i)}function Ic(t){var i=t;do{if((i.flags&32768)!==0){D0(i,Lr);return}t=i.return;var a=iS(i.alternate,i,tr);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);gt===0&&(gt=5)}function D0(t,i){do{var a=rS(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);gt=6,Ve=null}function M0(t,i,a,l,h,d,_,T,I){t.cancelPendingCommit=null;do Dc();while(Vt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Rf,_f(t,a,d,_,T,I),t===rt&&(Ve=rt=null,Le=0),qa=i,zr=t,nr=a,Vd=d,Pd=h,b0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gS(yr,function(){return L0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,h=oe.p,oe.p=2,_=$e,$e|=4;try{sS(t,i,a)}finally{$e=_,oe.p=h,$.T=l}}Vt=1,O0(),k0(),V0()}}function O0(){if(Vt===1){Vt=0;var t=zr,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var h=$e;$e|=4;try{d0(i,t);var d=Wd,_=vg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&_g(T.ownerDocument.documentElement,T)){if(I!==null&&Tf(T)){var H=I.start,Z=I.end;if(Z===void 0&&(Z=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(Z,T.value.length);else{var ne=T.ownerDocument||document,q=ne&&ne.defaultView||window;if(q.getSelection){var Q=q.getSelection(),fe=T.textContent.length,Ee=Math.min(I.start,fe),it=I.end===void 0?Ee:Math.min(I.end,fe);!Q.extend&&Ee>it&&(_=it,it=Ee,Ee=_);var U=yg(T,Ee),k=yg(T,it);if(U&&k&&(Q.rangeCount!==1||Q.anchorNode!==U.node||Q.anchorOffset!==U.offset||Q.focusNode!==k.node||Q.focusOffset!==k.offset)){var B=ne.createRange();B.setStart(U.node,U.offset),Q.removeAllRanges(),Ee>it?(Q.addRange(B),Q.extend(k.node,k.offset)):(B.setEnd(k.node,k.offset),Q.addRange(B))}}}}for(ne=[],Q=T;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ne.length;T++){var te=ne[T];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}qc=!!Xd,Wd=Xd=null}finally{$e=h,oe.p=l,$.T=a}}t.current=i,Vt=2}}function k0(){if(Vt===2){Vt=0;var t=zr,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=oe.p;oe.p=2;var h=$e;$e|=4;try{l0(t,i.alternate,i)}finally{$e=h,oe.p=l,$.T=a}}Vt=3}}function V0(){if(Vt===4||Vt===3){Vt=0,bu();var t=zr,i=qa,a=nr,l=b0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,qa=zr=null,P0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(jr=null),ji(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,h=oe.p,oe.p=2,$.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{$.T=i,oe.p=h}}(nr&3)!==0&&Dc(),Ni(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ld?El++:(El=0,Ld=t):El=0,bl(0)}}function P0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function Dc(){return O0(),k0(),V0(),L0()}function L0(){if(Vt!==5)return!1;var t=zr,i=Vd;Vd=0;var a=ji(nr),l=$.T,h=oe.p;try{oe.p=32>a?32:a,$.T=null,a=Pd,Pd=null;var d=zr,_=nr;if(Vt=0,qa=zr=null,nr=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,_0(d.current),p0(d,d.current,_,a),$e=T,bl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{oe.p=h,$.T=l,P0(t,i)}}function U0(t,i,a){i=On(a,i),i=pd(t.stateNode,i,2),t=Or(t,i,2),t!==null&&(gs(t,2),Ni(t))}function Je(t,i,a){if(t.tag===3)U0(t,t,a);else for(;i!==null;){if(i.tag===3){U0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){t=On(a,t),a=jy(2),l=Or(i,a,2),l!==null&&(zy(a,l,i,t),gs(l,2),Ni(l));break}}i=i.return}}function zd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new lS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Md=!0,h.add(a),t=dS.bind(null,t,i,a),i.then(t,t))}function dS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(Le&a)===a&&(gt===4||gt===3&&(Le&62914560)===Le&&300>sn()-Ac?($e&2)===0&&Fa(t,0):Od|=a,Ha===Le&&(Ha=0)),Ni(t)}function j0(t,i){i===0&&(i=Ru()),t=Is(t,i),t!==null&&(gs(t,i),Ni(t))}function mS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),j0(t,a)}function pS(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),j0(t,a)}function gS(t,i){return kt(t,i)}var Mc=null,Ya=null,Bd=!1,Oc=!1,Hd=!1,Hr=0;function Ni(t){t!==Ya&&t.next===null&&(Ya===null?Mc=Ya=t:Ya=Ya.next=t),Oc=!0,Bd||(Bd=!0,_S())}function bl(t,i){if(!Hd&&Oc){Hd=!0;do for(var a=!1,l=Mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,q0(l,d))}else d=Le,d=hi(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Fn(l,d)||(a=!0,q0(l,d));l=l.next}while(a);Hd=!1}}function yS(){z0()}function z0(){Oc=Bd=!1;var t=0;Hr!==0&&CS()&&(t=Hr);for(var i=sn(),a=null,l=Mc;l!==null;){var h=l.next,d=B0(l,i);d===0?(l.next=null,a===null?Mc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Oc=!0)),l=h}Vt!==0&&Vt!==5||bl(t),Hr!==0&&(Hr=0)}function B0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),T=1<<_,I=h[_];I===-1?((T&a)===0||(T&l)!==0)&&(h[_]=yf(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=rt,a=Le,a=hi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&gr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Fn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&gr(l),ji(a)){case 2:case 8:a=Do;break;case 32:a=yr;break;case 268435456:a=Tu;break;default:a=yr}return l=H0.bind(null,t),a=kt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&gr(l),t.callbackPriority=2,t.callbackNode=null,2}function H0(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=Le;return l=hi(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(S0(t,l,i),B0(t,sn()),t.callbackNode!=null&&t.callbackNode===a?H0.bind(null,t):null)}function q0(t,i){if(Dc())return null;S0(t,i,!0)}function _S(){IS(function(){($e&6)!==0?kt(Io,yS):z0()})}function qd(){if(Hr===0){var t=Da;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Hr=t}return Hr}function F0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function G0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function vS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=F0((h[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?F0(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new Ti("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var I=_?G0(h,_):new FormData(h);ud(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=_?G0(h,_):new FormData(h),ud(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Fd=0;Fd<xf.length;Fd++){var Gd=xf[Fd],ES=Gd.toLowerCase(),bS=Gd[0].toUpperCase()+Gd.slice(1);Jn(ES,"on"+bS)}Jn(Tg,"onAnimationEnd"),Jn(Sg,"onAnimationIteration"),Jn(wg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(LT,"onTransitionRun"),Jn(UT,"onTransitionStart"),Jn(jT,"onTransitionCancel"),Jn(Ag,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Y0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){Qu(Z)}h.currentTarget=null,d=I}else for(_=0;_<l.length;_++){if(T=l[_],I=T.instance,H=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(Z){Qu(Z)}h.currentTarget=null,d=I}}}}function Pe(t,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var l=t+"__bubble";a.has(l)||($0(i,t,2,!1),a.add(l))}function Yd(t,i,a){var l=0;i&&(l|=4),$0(a,t,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[kc]){t[kc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(TS.has(a)||Yd(a,!1,t),Yd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kc]||(i[kc]=!0,Yd("selectionchange",!1,i))}}function $0(t,i,a,l){switch(T_(i)){case 2:var h=XS;break;case 8:h=WS;break;default:h=lm}a=h.bind(null,i,a,t),h=void 0,!Ts||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Qd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=pi(T),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Sr(function(){var H=d,Z=Nn(a),ne=[];e:{var q=xg.get(t);if(q!==void 0){var Q=Ti,fe=t;switch(t){case"keypress":if(ws(a)===0)break e;case"keydown":case"keyup":Q=Gu;break;case"focusin":fe="focus",Q=xs;break;case"focusout":fe="blur",Q=xs;break;case"beforeblur":case"afterblur":Q=xs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=y;break;case Tg:case Sg:case wg:Q=Uu;break;case Ag:Q=S;break;case"scroll":case"scrollend":Q=Yo;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hi;break;case"toggle":case"beforetoggle":Q=Re}var Ee=(i&4)!==0,it=!Ee&&(t==="scroll"||t==="scrollend"),U=Ee?q!==null?q+"Capture":null:q;Ee=[];for(var k=H,B;k!==null;){var te=k;if(B=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||B===null||U===null||(te=Qn(k,U),te!=null&&Ee.push(Sl(k,te,B))),it)break;k=k.return}0<Ee.length&&(q=new Q(q,fe,null,a,Z),ne.push({event:q,listeners:Ee}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==qo&&(fe=a.relatedTarget||a.fromElement)&&(pi(fe)||fe[di]))break e;if((Q||q)&&(q=Z.window===Z?Z:(q=Z.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=H,fe=fe?pi(fe):null,fe!==null&&(it=u(fe),Ee=fe.tag,fe!==it||Ee!==5&&Ee!==27&&Ee!==6)&&(fe=null)):(Q=null,fe=H),Q!==fe)){if(Ee=$o,te="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(Ee=Hi,te="onPointerLeave",U="onPointerEnter",k="pointer"),it=Q==null?q:yn(Q),B=fe==null?q:yn(fe),q=new Ee(te,k+"leave",Q,a,Z),q.target=it,q.relatedTarget=B,te=null,pi(Z)===H&&(Ee=new Ee(U,k+"enter",fe,a,Z),Ee.target=B,Ee.relatedTarget=it,te=Ee),it=te,Q&&fe)t:{for(Ee=SS,U=Q,k=fe,B=0,te=U;te;te=Ee(te))B++;te=0;for(var ye=k;ye;ye=Ee(ye))te++;for(;0<B-te;)U=Ee(U),B--;for(;0<te-B;)k=Ee(k),te--;for(;B--;){if(U===k||k!==null&&U===k.alternate){Ee=U;break t}U=Ee(U),k=Ee(k)}Ee=null}else Ee=null;Q!==null&&Q0(ne,q,Q,Ee,!1),fe!==null&&it!==null&&Q0(ne,it,fe,Ee,!0)}}e:{if(q=H?yn(H):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Fe=hg;else if(ug(q))if(fg)Fe=kT;else{Fe=MT;var me=DT}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?H&&pa(H.elementType)&&(Fe=hg):Fe=OT;if(Fe&&(Fe=Fe(t,H))){cg(ne,Fe,a,Z);break e}me&&me(t,q,H),t==="focusout"&&H&&q.type==="number"&&H.memoizedProps.value!=null&&zo(q,"number",q.value)}switch(me=H?yn(H):window,t){case"focusin":(ug(me)||me.contentEditable==="true")&&(Sa=me,Sf=H,Jo=null);break;case"focusout":Jo=Sf=Sa=null;break;case"mousedown":wf=!0;break;case"contextmenu":case"mouseup":case"dragend":wf=!1,Eg(ne,a,Z);break;case"selectionchange":if(PT)break;case"keydown":case"keyup":Eg(ne,a,Z)}var De;if(Ye)e:{switch(t){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ta?Rs(t,a)&&(Ue="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ue="onCompositionStart");Ue&&(Ai&&a.locale!=="ko"&&(Ta||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ta&&(De=Go()):(bi=Z,Fo="value"in bi?bi.value:bi.textContent,Ta=!0)),me=Vc(H,Ue),0<me.length&&(Ue=new wi(Ue,t,null,a,Z),ne.push({event:Ue,listeners:me}),De?Ue.data=De:(De=ba(a),De!==null&&(Ue.data=De)))),(De=Dn?RT(t,a):CT(t,a))&&(Ue=Vc(H,"onBeforeInput"),0<Ue.length&&(me=new wi("onBeforeInput","beforeinput",null,a,Z),ne.push({event:me,listeners:Ue}),me.data=De)),vS(ne,t,H,a,Z)}Y0(ne,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=Qn(t,i),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function SS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Q0(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=Qn(a,d),H!=null&&_.unshift(Sl(a,H,I))):h||(H=Qn(a,d),H!=null&&_.push(Sl(a,H,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var wS=/\r\n?/g,AS=/\u0000|\uFFFD/g;function K0(t){return(typeof t=="string"?t:""+t).replace(wS,`
`).replace(AS,"")}function X0(t,i){return i=K0(i),K0(t)===i}function nt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Ho(t,l,d);break;case"data":if(i!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&nt(t,i,"name",h.name,h,null),nt(t,i,"formEncType",h.formEncType,h,null),nt(t,i,"formMethod",h.formMethod,h,null),nt(t,i,"formTarget",h.formTarget,h,null)):(nt(t,i,"encType",h.encType,h,null),nt(t,i,"method",h.method,h,null),nt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),da(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,da(t,a,l))}}function Kd(t,i,a,l,h,d){switch(a){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):da(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,d,_,a,null)}}h&&nt(t,i,"srcSet",a.srcSet,a,null),l&&nt(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=d=_=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":h=Z;break;case"type":_=Z;break;case"checked":I=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:nt(t,i,l,Z,a,null)}}Mu(t,d,T,I,H,_,h,!1);return;case"select":Pe("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:nt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?vr(t,!!l,i,!1):a!=null&&vr(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:nt(t,i,_,T,a,null)}Er(t,l,h,d);return;case"option":for(I in a)a.hasOwnProperty(I)&&(l=a[I],l!=null)&&(I==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(t,i,I,l,a,null));return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Pe(Tl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,H,l,a,null)}return;default:if(pa(i)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&Kd(t,i,Z,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&nt(t,i,T,l,a,null))}function xS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,I=null,H=null,Z=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=ne;default:l.hasOwnProperty(Q)||nt(t,i,Q,null,l,ne)}}for(var q in l){var Q=l[q];if(ne=a[q],l.hasOwnProperty(q)&&(Q!=null||ne!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":H=Q;break;case"defaultChecked":Z=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ne&&nt(t,i,q,Q,l,ne)}}ma(t,_,T,I,H,Z,d,h);return;case"select":Q=_=T=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||nt(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==I&&nt(t,i,h,d,l,I)}i=T,a=_,l=Q,q!=null?vr(t,!!a,q,!1):!!l!=!!a&&(i!=null?vr(t,!!a,i,!0):vr(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,i,_,h,l,d)}Ou(t,q,Q);return;case"option":for(var fe in a)q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?t.selected=!1:nt(t,i,fe,null,l,q));for(I in l)q=l[I],Q=a[I],l.hasOwnProperty(I)&&q!==Q&&(q!=null||Q!=null)&&(I==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":nt(t,i,I,q,l,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee)&&nt(t,i,Ee,null,l,q);for(H in l)if(q=l[H],Q=a[H],l.hasOwnProperty(H)&&q!==Q&&(q!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:nt(t,i,H,q,l,Q)}return;default:if(pa(i)){for(var it in a)q=a[it],a.hasOwnProperty(it)&&q!==void 0&&!l.hasOwnProperty(it)&&Kd(t,i,it,void 0,l,q);for(Z in l)q=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||q===Q||q===void 0&&Q===void 0||Kd(t,i,Z,q,l,Q);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&nt(t,i,U,null,l,q);for(ne in l)q=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||q===Q||q==null&&Q==null||nt(t,i,ne,q,l,Q)}function W0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function RS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&W0(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var I=a[l],H=I.startTime;if(H>T)break;var Z=I.transferSize,ne=I.initiatorType;Z&&W0(ne)&&(I=I.responseEnd,_+=Z*(I<T?1:(T-H)/(I-H)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,Wd=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function J0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Z0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zd=null;function CS(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,NS=typeof clearTimeout=="function"?clearTimeout:void 0,t_=typeof Promise=="function"?Promise:void 0,IS=typeof queueMicrotask=="function"?queueMicrotask:typeof t_<"u"?function(t){return t_.resolve(null).then(t).catch(DS)}:e_;function DS(t){setTimeout(function(){throw t})}function qr(t){return t==="head"}function n_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")wl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,wl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[mi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&wl(t.ownerDocument.body);a=h}while(a);Xa(i)}function i_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function em(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function MS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function OS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function r_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Un(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$?"||t.data==="$~"}function nm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function kS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var im=null;function s_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Un(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function a_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function o_(t,i,a){switch(i=Pc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function wl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fa(t)}var jn=new Map,l_=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ir=oe.d;oe.d={f:VS,r:PS,D:LS,C:US,L:jS,m:zS,X:HS,S:BS,M:qS};function VS(){var t=ir.f(),i=Cc();return t||i}function PS(t){var i=Cn(t);i!==null&&i.tag===5&&i.type==="form"?Ay(i):ir.r(t)}var $a=typeof document>"u"?null:document;function u_(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=un(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),l_.has(h)||(l_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function LS(t){ir.D(t),u_("dns-prefetch",t,null)}function US(t,i){ir.C(t,i),u_("preconnect",t,i)}function jS(t,i,a){ir.L(t,i,a);var l=$a;if(l&&t&&i){var h='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Ka(t)}jn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),jn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Al(d))||i==="script"&&l.querySelector(xl(d))||(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function zS(t,i){ir.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!jn.has(d)&&(t=b({rel:"modulepreload",href:t},i),jn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),Qt(l,"link",t),At(l),a.head.appendChild(l)}}}function BS(t,i,a){ir.S(t,i,a);var l=$a;if(l&&t){var h=gi(l).hoistableStyles,d=Qa(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Al(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=jn.get(d))&&rm(t,a);var I=_=l.createElement("link");At(I),Qt(I,"link",t),I._p=new Promise(function(H,Z){I.onload=H,I.onerror=Z}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function HS(t,i){ir.X(t,i);var a=$a;if(a&&t){var l=gi(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=b({src:t,async:!0},i),(i=jn.get(h))&&sm(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function qS(t,i){ir.M(t,i);var a=$a;if(a&&t){var l=gi(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=jn.get(h))&&sm(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function c_(t,i,a,l){var h=(h=we.current)?Lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=gi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=gi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Al(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||FS(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=gi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+un(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function h_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function FS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),At(i),t.head.appendChild(i))}function Ka(t){return'[src="'+un(t)+'"]'}function xl(t){return"script[async]"+t}function f_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Qt(l,"style",h),Uc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Al(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=h_(a),(h=jn.get(h))&&rm(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Qt(d,"link",l),i.state.loading|=4,Uc(d,a.precedence,t),i.instance=d;case"script":return d=Ka(a.src),(h=t.querySelector(xl(d)))?(i.instance=h,At(h),h):(l=a,(h=jn.get(d))&&(l=b({},a),sm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Uc(l,a.precedence,t));return i.instance}function Uc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var jc=null;function d_(t,i,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[mi]||d[wt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function m_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function GS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function p_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function YS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(Al(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=zc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=h_(l),(h=jn.get(h))&&rm(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(T,I){_.onload=T,_.onerror=I}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=zc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var am=0;function $S(t,i){return t.stylesheets&&t.count===0&&Hc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&am===0&&(am=62500*RS());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>am?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function Hc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,i.forEach(QS,t),Bc=null,zc.call(t))}function QS(t,i){if(!(i.state.loading&4)){var a=Bc.get(t);if(a)var l=a.get(null);else{a=new Map,Bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:J,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function KS(t,i,a,l,h,d,_,T,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function g_(t,i,a,l,h,d,_,T,I,H,Z,ne){return t=new KS(t,i,a,_,I,H,Z,ne,T),i=1,d===!0&&(i|=24),d=En(3,null,null,i),t.current=d,d.stateNode=t,i=jf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},qf(d),t}function y_(t){return t?(t=xa,t):xa}function __(t,i,a,l,h,d){h=y_(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Or(t,l,i),a!==null&&(pn(a,t,i),sl(a,t,i))}function v_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function om(t,i){v_(t,i),(t=t.alternate)&&v_(t,i)}function E_(t){if(t.tag===13||t.tag===31){var i=Is(t,67108864);i!==null&&pn(i,t,67108864),om(t,67108864)}}function b_(t){if(t.tag===13||t.tag===31){var i=An();i=_s(i);var a=Is(t,i);a!==null&&pn(a,t,i),om(t,i)}}var qc=!0;function XS(t,i,a,l){var h=$.T;$.T=null;var d=oe.p;try{oe.p=2,lm(t,i,a,l)}finally{oe.p=d,$.T=h}}function WS(t,i,a,l){var h=$.T;$.T=null;var d=oe.p;try{oe.p=8,lm(t,i,a,l)}finally{oe.p=d,$.T=h}}function lm(t,i,a,l){if(qc){var h=um(l);if(h===null)Qd(t,i,l,Fc,a),S_(t,l);else if(ZS(h,t,i,a,l))l.stopPropagation();else if(S_(t,l),i&4&&-1<JS.indexOf(t)){for(;h!==null;){var d=Cn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var I=1<<31-yt(_);T.entanglements[1]|=I,_&=~I}Ni(d),($e&6)===0&&(xc=sn()+500,bl(0))}}break;case 31:case 13:T=Is(d,2),T!==null&&pn(T,d,2),Cc(),om(d,2)}if(d=um(l),d===null&&Qd(t,i,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Qd(t,i,l,null,a)}}function um(t){return t=Nn(t),cm(t)}var Fc=null;function cm(t){if(Fc=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Fc=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ms()){case Io:return 2;case Do:return 8;case yr:case gf:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var hm=!1,Fr=null,Gr=null,Yr=null,Cl=new Map,Nl=new Map,$r=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(t,i){switch(t){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":Gr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Il(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Cn(i),i!==null&&E_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ZS(t,i,a,l,h){switch(i){case"focusin":return Fr=Il(Fr,t,i,a,l,h),!0;case"dragenter":return Gr=Il(Gr,t,i,a,l,h),!0;case"mouseover":return Yr=Il(Yr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Il(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Il(Nl.get(d)||null,t,i,a,l,h)),!0}return!1}function w_(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){b_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Gn(t.priority,function(){b_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=um(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return i=Cn(a),i!==null&&E_(i),t.blockedOn=a,!1;i.shift()}return!0}function A_(t,i,a){Gc(t)&&a.delete(i)}function ew(){hm=!1,Fr!==null&&Gc(Fr)&&(Fr=null),Gr!==null&&Gc(Gr)&&(Gr=null),Yr!==null&&Gc(Yr)&&(Yr=null),Cl.forEach(A_),Nl.forEach(A_)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,hm||(hm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ew)))}var $c=null;function x_(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(cm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(t.splice(i,3),i-=3,ud(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(t){function i(I){return Yc(I,t)}Fr!==null&&Yc(Fr,t),Gr!==null&&Yc(Gr,t),Yr!==null&&Yc(Yr,t),Cl.forEach(i),Nl.forEach(i);for(var a=0;a<$r.length;a++){var l=$r[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$r.length&&(a=$r[0],a.blockedOn===null);)w_(a),a.blockedOn===null&&$r.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ut]||null;if(typeof d=="function")_||x_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ut]||null)T=_.formAction;else if(cm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),x_(a)}}}function R_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function fm(t){this._internalRoot=t}Qc.prototype.render=fm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=An();__(a,l,t,i,null,null)},Qc.prototype.unmount=fm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;__(t.current,2,null,t,null,null),Cc(),i[di]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$r.length&&i!==0&&i<$r[a].priority;a++);$r.splice(a,0,t),a===0&&w_(t)}};var C_=e.version;if(C_!=="19.2.4")throw Error(s(527,C_,"19.2.4"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var tw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{qn=Kc.inject(tw),qt=Kc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Vy,d=Py,_=Ly;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=g_(t,1,!1,null,null,a,l,null,h,d,_,R_),t[di]=i.current,$d(t),new fm(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Vy,_=Py,T=Ly,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=g_(t,1,!0,i,a??null,l,h,I,d,_,T,R_),i.context=y_(null),a=i.current,l=An(),l=_s(l),h=Mr(l),h.callback=null,Or(a,h,l),a=l,i.current.lanes=a,gs(i,a),Ni(i),t[di]=i.current,$d(t),new Qc(i)},Ml.version="19.2.4",Ml}var U_;function fw(){if(U_)return pm.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=hw(),pm.exports}var dw=fw();var j_="popstate";function mw(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=na(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),jm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Xl(u))}function s(o,u){oi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return gw(e,n,s,r)}function ft(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function oi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pw(){return Math.random().toString(36).substring(2,10)}function z_(r,e){return{usr:r.state,key:r.key,idx:e}}function jm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?na(e):e,state:n,key:e&&e.key||s||pw()}}function Xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function na(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function gw(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let V=E(),K=V==null?null:V-g;g=V,p&&p({action:m,location:W.location,delta:K})}function C(V,K){m="PUSH";let j=jm(W.location,V,K);n&&n(j,V),g=E()+1;let J=z_(j,g),le=W.createHref(j);try{f.pushState(J,"",le)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(le)}u&&p&&p({action:m,location:W.location,delta:1})}function L(V,K){m="REPLACE";let j=jm(W.location,V,K);n&&n(j,V),g=E();let J=z_(j,g),le=W.createHref(j);f.replaceState(J,"",le),u&&p&&p({action:m,location:W.location,delta:0})}function X(V){return yw(V)}let W={get action(){return m},get location(){return r(o,f)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(j_,b),p=V,()=>{o.removeEventListener(j_,b),p=null}},createHref(V){return e(o,V)},createURL:X,encodeLocation(V){let K=X(V);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:C,replace:L,go(V){return f.go(V)}};return W}function yw(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Xl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function x1(r,e,n="/"){return _w(r,e,n,!1)}function _w(r,e,n,s){let o=typeof e=="string"?na(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let f=R1(r);vw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=Iw(u);m=Cw(f[p],g,s)}return m}function R1(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;ft(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=or([s,E.relativePath]),C=n.concat(E);f.children&&f.children.length>0&&(ft(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),R1(f.children,e,C,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:xw(b,f.index),routesMeta:C})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of C1(f.path))u(f,m,!0,p)}),e}function C1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=C1(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function vw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Rw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ew=/^:[\w-]+$/,bw=3,Tw=2,Sw=1,ww=10,Aw=-2,B_=r=>r==="*";function xw(r,e){let n=r.split("/"),s=n.length;return n.some(B_)&&(s+=Aw),e&&(s+=Tw),n.filter(o=>!B_(o)).reduce((o,u)=>o+(Ew.test(u)?bw:u===""?Sw:ww),s)}function Rw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Cw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),C=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=vh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:or([u,b.pathname]),pathnameBase:kw(or([u,b.pathnameBase])),route:C}),b.pathnameBase!=="/"&&(u=or([u,b.pathnameBase]))}return f}function vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Nw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},C)=>{if(E==="*"){let X=m[C]||"";f=u.slice(0,u.length-X.length).replace(/(.)\/+$/,"$1")}const L=m[C];return b&&!L?g[E]=void 0:g[E]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Nw(r,e=!1,n=!0){oi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Iw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var Dw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Mw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?na(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=H_(n.substring(1),"/"):u=H_(n,e)):u=e,{pathname:u,search:Vw(s),hash:Pw(o)}}function H_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function vm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ow(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function N1(r){let e=Ow(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function I1(r,e,n,s=!1){let o;typeof r=="string"?o=na(r):(o={...r},ft(!o.pathname||!o.pathname.includes("?"),vm("?","pathname","search",o)),ft(!o.pathname||!o.pathname.includes("#"),vm("#","pathname","hash",o)),ft(!o.search||!o.search.includes("#"),vm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),b-=1;o.pathname=C.join("/")}m=b>=0?e[b]:"/"}let p=Mw(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var or=r=>r.join("/").replace(/\/\/+/g,"/"),kw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Vw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Pw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Lw=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Uw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function jw(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var D1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function M1(r,e){let n=r;if(typeof n!="string"||!Dw.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(D1)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ur(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{oi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var O1=["POST","PUT","PATCH","DELETE"];new Set(O1);var zw=["GET",...O1];new Set(zw);var vo=F.createContext(null);vo.displayName="DataRouter";var Fh=F.createContext(null);Fh.displayName="DataRouterState";var Bw=F.createContext(!1),k1=F.createContext({isTransitioning:!1});k1.displayName="ViewTransition";var Hw=F.createContext(new Map);Hw.displayName="Fetchers";var qw=F.createContext(null);qw.displayName="Await";var Hn=F.createContext(null);Hn.displayName="Navigation";var au=F.createContext(null);au.displayName="Location";var mr=F.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var dp=F.createContext(null);dp.displayName="RouteError";var V1="REACT_ROUTER_ERROR",Fw="REDIRECT",Gw="ROUTE_ERROR_RESPONSE";function Yw(r){if(r.startsWith(`${V1}:${Fw}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function $w(r){if(r.startsWith(`${V1}:${Gw}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new Lw(e.status,e.statusText,e.data)}catch{}}function Qw(r,{relative:e}={}){ft(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=F.useContext(Hn),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ou(){return F.useContext(au)!=null}function fs(){return ft(ou(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(au).location}var P1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L1(r){F.useContext(Hn).static||F.useLayoutEffect(r)}function lu(){let{isDataRoute:r}=F.useContext(mr);return r?o2():Kw()}function Kw(){ft(ou(),"useNavigate() may be used only in the context of a <Router> component.");let r=F.useContext(vo),{basename:e,navigator:n}=F.useContext(Hn),{matches:s}=F.useContext(mr),{pathname:o}=fs(),u=JSON.stringify(N1(s)),f=F.useRef(!1);return L1(()=>{f.current=!0}),F.useCallback((p,g={})=>{if(oi(f.current,P1),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=I1(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:or([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}F.createContext(null);function uu(r,{relative:e}={}){let{matches:n}=F.useContext(mr),{pathname:s}=fs(),o=JSON.stringify(N1(n));return F.useMemo(()=>I1(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Xw(r,e){return U1(r,e)}function U1(r,e,n,s,o){ft(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=F.useContext(Hn),{matches:f}=F.useContext(mr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let j=b&&b.path||"";z1(g,!b||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let C=fs(),L;if(e){let j=typeof e=="string"?na(e):e;ft(E==="/"||j.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${j.pathname}" was given in the \`location\` prop.`),L=j}else L=C;let X=L.pathname||"/",W=X;if(E!=="/"){let j=E.replace(/^\//,"").split("/");W="/"+X.replace(/^\//,"").split("/").slice(j.length).join("/")}let V=x1(r,{pathname:W});oi(b||V!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),oi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let K=t2(V&&V.map(j=>Object.assign({},j,{params:Object.assign({},p,j.params),pathname:or([E,u.encodeLocation?u.encodeLocation(j.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?E:or([E,u.encodeLocation?u.encodeLocation(j.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:j.pathnameBase])})),f,n,s,o);return e&&K?F.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},K):K}function Ww(){let r=a2(),e=Uw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:u},"ErrorBoundary")," or"," ",F.createElement("code",{style:u},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:o},n):null,f)}var Jw=F.createElement(Ww,null),j1=class extends F.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=$w(r.digest);n&&(r=n)}let e=r!==void 0?F.createElement(mr.Provider,{value:this.props.routeContext},F.createElement(dp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?F.createElement(Zw,{error:r},e):e}};j1.contextType=Bw;var Em=new WeakMap;function Zw({children:r,error:e}){let{basename:n}=F.useContext(Hn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Yw(e.digest);if(s){let o=Em.get(e);if(o)throw o;let u=M1(s.location,n);if(D1&&!Em.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw Em.set(e,f),f}return F.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function e2({routeContext:r,match:e,children:n}){let s=F.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(mr.Provider,{value:r},n)}function t2(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);ft(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=E),b.route.id){let{loaderData:C,errors:L}=n,X=b.route.loader&&!C.hasOwnProperty(b.route.id)&&(!L||L[b.route.id]===void 0);if(b.route.lazy||X){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:jw(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,C)=>{let L,X=!1,W=null,V=null;n&&(L=f&&b.route.id?f[b.route.id]:void 0,W=b.route.errorElement||Jw,m&&(p<0&&C===0?(z1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),X=!0,V=null):p===C&&(X=!0,V=b.route.hydrateFallbackElement||null)));let K=e.concat(u.slice(0,C+1)),j=()=>{let J;return L?J=W:X?J=V:b.route.Component?J=F.createElement(b.route.Component,null):b.route.element?J=b.route.element:J=E,F.createElement(e2,{match:b,routeContext:{outlet:E,matches:K,isDataRoute:n!=null},children:J})};return n&&(b.route.ErrorBoundary||b.route.errorElement||C===0)?F.createElement(j1,{location:n.location,revalidation:n.revalidation,component:W,error:L,children:j(),routeContext:{outlet:null,matches:K,isDataRoute:!0},onError:g}):j()},null)}function mp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n2(r){let e=F.useContext(vo);return ft(e,mp(r)),e}function i2(r){let e=F.useContext(Fh);return ft(e,mp(r)),e}function r2(r){let e=F.useContext(mr);return ft(e,mp(r)),e}function pp(r){let e=r2(r),n=e.matches[e.matches.length-1];return ft(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function s2(){return pp("useRouteId")}function a2(){let r=F.useContext(dp),e=i2("useRouteError"),n=pp("useRouteError");return r!==void 0?r:e.errors?.[n]}function o2(){let{router:r}=n2("useNavigate"),e=pp("useNavigate"),n=F.useRef(!1);return L1(()=>{n.current=!0}),F.useCallback(async(o,u={})=>{oi(n.current,P1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var q_={};function z1(r,e,n){!e&&!q_[r]&&(q_[r]=!0,oi(!1,n))}F.memo(l2);function l2({routes:r,future:e,state:n,onError:s}){return U1(r,void 0,n,s,e)}function jl(r){ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function u2({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){ft(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=F.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=na(n));let{pathname:g="/",search:E="",hash:b="",state:C=null,key:L="default"}=n,X=F.useMemo(()=>{let W=ur(g,m);return W==null?null:{location:{pathname:W,search:E,hash:b,state:C,key:L},navigationType:s}},[m,g,E,b,C,L,s]);return oi(X!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),X==null?null:F.createElement(Hn.Provider,{value:p},F.createElement(au.Provider,{children:e,value:X}))}function c2({children:r,location:e}){return Xw(zm(r),e)}function zm(r,e=[]){let n=[];return F.Children.forEach(r,(s,o)=>{if(!F.isValidElement(s))return;let u=[...e,o];if(s.type===F.Fragment){n.push.apply(n,zm(s.props.children,u));return}ft(s.type===jl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ft(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zm(s.props.children,u)),n.push(f)}),n}var sh="get",ah="application/x-www-form-urlencoded";function Gh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function h2(r){return Gh(r)&&r.tagName.toLowerCase()==="button"}function f2(r){return Gh(r)&&r.tagName.toLowerCase()==="form"}function d2(r){return Gh(r)&&r.tagName.toLowerCase()==="input"}function m2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function p2(r,e){return r.button===0&&(!e||e==="_self")&&!m2(r)}var Wc=null;function g2(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var y2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bm(r){return r!=null&&!y2.has(r)?(oi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ah}"`),null):r}function _2(r,e){let n,s,o,u,f;if(f2(r)){let m=r.getAttribute("action");s=m?ur(m,e):null,n=r.getAttribute("method")||sh,o=bm(r.getAttribute("enctype"))||ah,u=new FormData(r)}else if(h2(r)||d2(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ur(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||sh,o=bm(r.getAttribute("formenctype"))||bm(m.getAttribute("enctype"))||ah,u=new FormData(m,r),!g2()){let{name:g,type:E,value:b}=r;if(E==="image"){let C=g?`${g}.`:"";u.append(`${C}x`,"0"),u.append(`${C}y`,"0")}else g&&u.append(g,b)}}else{if(Gh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=sh,s=null,o=ah,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function v2(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ur(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function E2(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function b2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function T2(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await E2(u,n);return f.links?f.links():[]}return[]}));return x2(s.flat(1).filter(b2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function F_(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function S2(r,e,{includeHydrateFallback:n}={}){return w2(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function w2(r){return[...new Set(r)]}function A2(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function x2(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(A2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function B1(){let r=F.useContext(vo);return gp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function R2(){let r=F.useContext(Fh);return gp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var yp=F.createContext(void 0);yp.displayName="FrameworkContext";function H1(){let r=F.useContext(yp);return gp(r,"You must render this element inside a <HydratedRouter> element"),r}function C2(r,e){let n=F.useContext(yp),[s,o]=F.useState(!1),[u,f]=F.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,C=F.useRef(null);F.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let W=K=>{K.forEach(j=>{f(j.isIntersecting)})},V=new IntersectionObserver(W,{threshold:.5});return C.current&&V.observe(C.current),()=>{V.disconnect()}}},[r]),F.useEffect(()=>{if(s){let W=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(W)}}},[s]);let L=()=>{o(!0)},X=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,C,{}]:[u,C,{onFocus:Ol(m,L),onBlur:Ol(p,X),onMouseEnter:Ol(g,L),onMouseLeave:Ol(E,X),onTouchStart:Ol(b,L)}]:[!1,C,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function N2({page:r,...e}){let{router:n}=B1(),s=F.useMemo(()=>x1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?F.createElement(D2,{page:r,matches:s,...e}):null}function I2(r){let{manifest:e,routeModules:n}=H1(),[s,o]=F.useState([]);return F.useEffect(()=>{let u=!1;return T2(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function D2({page:r,matches:e,...n}){let s=fs(),{future:o,manifest:u,routeModules:f}=H1(),{basename:m}=B1(),{loaderData:p,matches:g}=R2(),E=F.useMemo(()=>F_(r,e,g,u,s,"data"),[r,e,g,u,s]),b=F.useMemo(()=>F_(r,e,g,u,s,"assets"),[r,e,g,u,s]),C=F.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let W=new Set,V=!1;if(e.forEach(j=>{let J=u.routes[j.route.id];!J||!J.hasLoader||(!E.some(le=>le.route.id===j.route.id)&&j.route.id in p&&f[j.route.id]?.shouldRevalidate||J.hasClientLoader?V=!0:W.add(j.route.id))}),W.size===0)return[];let K=v2(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return V&&W.size>0&&K.searchParams.set("_routes",e.filter(j=>W.has(j.route.id)).map(j=>j.route.id).join(",")),[K.pathname+K.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),L=F.useMemo(()=>S2(b,u),[b,u]),X=I2(b);return F.createElement(F.Fragment,null,C.map(W=>F.createElement("link",{key:W,rel:"prefetch",as:"fetch",href:W,...n})),L.map(W=>F.createElement("link",{key:W,rel:"modulepreload",href:W,...n})),X.map(({key:W,link:V})=>F.createElement("link",{key:W,nonce:n.nonce,...V,crossOrigin:V.crossOrigin??n.crossOrigin})))}function M2(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var O2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O2&&(window.__reactRouterVersion="7.13.0")}catch{}function k2({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=F.useRef();o.current==null&&(o.current=mw({window:s,v5Compat:!0}));let u=o.current,[f,m]=F.useState({action:u.action,location:u.location}),p=F.useCallback(g=>{n===!1?m(g):F.startTransition(()=>m(g))},[n]);return F.useLayoutEffect(()=>u.listen(p),[u,p]),F.createElement(u2,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_p=F.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:C,...L},X){let{basename:W,unstable_useTransitions:V}=F.useContext(Hn),K=typeof g=="string"&&q1.test(g),j=M1(g,W);g=j.to;let J=Qw(g,{relative:o}),[le,se,ce]=C2(s,L),R=U2(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:C,unstable_useTransitions:V});function A(M){e&&e(M),M.defaultPrevented||R(M)}let x=F.createElement("a",{...L,...ce,href:j.absoluteURL||J,onClick:j.isExternal||u?e:A,ref:M2(X,se),target:p,"data-discover":!K&&n==="render"?"true":void 0});return le&&!K?F.createElement(F.Fragment,null,x,F.createElement(N2,{page:J})):x});_p.displayName="Link";var V2=F.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=uu(f,{relative:g.relative}),C=fs(),L=F.useContext(Fh),{navigator:X,basename:W}=F.useContext(Hn),V=L!=null&&q2(b)&&m===!0,K=X.encodeLocation?X.encodeLocation(b).pathname:b.pathname,j=C.pathname,J=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(j=j.toLowerCase(),J=J?J.toLowerCase():null,K=K.toLowerCase()),J&&W&&(J=ur(J,W)||J);const le=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let se=j===K||!o&&j.startsWith(K)&&j.charAt(le)==="/",ce=J!=null&&(J===K||!o&&J.startsWith(K)&&J.charAt(K.length)==="/"),R={isActive:se,isPending:ce,isTransitioning:V},A=se?e:void 0,x;typeof s=="function"?x=s(R):x=[s,se?"active":null,ce?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(R):u;return F.createElement(_p,{...g,"aria-current":A,className:x,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(R):p)});V2.displayName="NavLink";var P2=F.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=sh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:C,...L},X)=>{let{unstable_useTransitions:W}=F.useContext(Hn),V=B2(),K=H2(m,{relative:g}),j=f.toLowerCase()==="get"?"get":"post",J=typeof m=="string"&&q1.test(m),le=se=>{if(p&&p(se),se.defaultPrevented)return;se.preventDefault();let ce=se.nativeEvent.submitter,R=ce?.getAttribute("formmethod")||f,A=()=>V(ce||se.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:C});W&&n!==!1?F.startTransition(()=>A()):A()};return F.createElement("form",{ref:X,method:j,action:K,onSubmit:s?p:le,...L,"data-discover":!J&&r==="render"?"true":void 0})});P2.displayName="Form";function L2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function F1(r){let e=F.useContext(vo);return ft(e,L2(r)),e}function U2(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=lu(),E=fs(),b=uu(r,{relative:u});return F.useCallback(C=>{if(p2(C,e)){C.preventDefault();let L=n!==void 0?n:Xl(E)===Xl(b),X=()=>g(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?F.startTransition(()=>X()):X()}},[E,g,b,n,s,e,r,o,u,f,m,p])}var j2=0,z2=()=>`__${String(++j2)}__`;function B2(){let{router:r}=F1("useSubmit"),{basename:e}=F.useContext(Hn),n=s2(),s=r.fetch,o=r.navigate;return F.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:b}=_2(u,e);if(f.navigate===!1){let C=f.fetcherKey||z2();await s(C,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function H2(r,{relative:e}={}){let{basename:n}=F.useContext(Hn),s=F.useContext(mr);ft(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=fs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),Xl(u)}function q2(r,{relative:e}={}){let n=F.useContext(k1);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=F1("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return vh(o.pathname,f)!=null||vh(o.pathname,u)!=null}const G_=r=>{let e;const n=new Set,s=(g,E)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const C=e;e=E??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(L=>L(e,C))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=r(s,o,m);return m},F2=(r=>r?G_(r):G_),G2=r=>r;function Y2(r,e=G2){const n=Xc.useSyncExternalStore(r.subscribe,Xc.useCallback(()=>e(r.getState()),[r,e]),Xc.useCallback(()=>e(r.getInitialState()),[r,e]));return Xc.useDebugValue(n),n}const $2=r=>{const e=F2(r),n=s=>Y2(e,s);return Object.assign(n,e),n},Q2=(r=>$2);function K2(r,e){let n;try{n=r()}catch{return}return{getItem:o=>{var u;const f=p=>p===null?null:JSON.parse(p,void 0),m=(u=n.getItem(o))!=null?u:null;return m instanceof Promise?m.then(f):f(m)},setItem:(o,u)=>n.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>n.removeItem(o)}}const Bm=r=>e=>{try{const n=r(e);return n instanceof Promise?n:{then(s){return Bm(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Bm(s)(n)}}}},X2=(r,e)=>(n,s,o)=>{let u={storage:K2(()=>window.localStorage),partialize:V=>V,version:0,merge:(V,K)=>({...K,...V}),...e},f=!1,m=0;const p=new Set,g=new Set;let E=u.storage;if(!E)return r((...V)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(...V)},s,o);const b=()=>{const V=u.partialize({...s()});return E.setItem(u.name,{state:V,version:u.version})},C=o.setState;o.setState=(V,K)=>(C(V,K),b());const L=r((...V)=>(n(...V),b()),s,o);o.getInitialState=()=>L;let X;const W=()=>{var V,K;if(!E)return;const j=++m;f=!1,p.forEach(le=>{var se;return le((se=s())!=null?se:L)});const J=((K=u.onRehydrateStorage)==null?void 0:K.call(u,(V=s())!=null?V:L))||void 0;return Bm(E.getItem.bind(E))(u.name).then(le=>{if(le)if(typeof le.version=="number"&&le.version!==u.version){if(u.migrate){const se=u.migrate(le.state,le.version);return se instanceof Promise?se.then(ce=>[!0,ce]):[!0,se]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,le.state];return[!1,void 0]}).then(le=>{var se;if(j!==m)return;const[ce,R]=le;if(X=u.merge(R,(se=s())!=null?se:L),n(X,!0),ce)return b()}).then(()=>{j===m&&(J?.(X,void 0),X=s(),f=!0,g.forEach(le=>le(X)))}).catch(le=>{j===m&&J?.(void 0,le)})};return o.persist={setOptions:V=>{u={...u,...V},V.storage&&(E=V.storage)},clearStorage:()=>{E?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>W(),hasHydrated:()=>f,onHydrate:V=>(p.add(V),()=>{p.delete(V)}),onFinishHydration:V=>(g.add(V),()=>{g.delete(V)})},u.skipHydration||W(),X||L},W2=X2,G1=6048e5,J2=864e5,Y1=6e4,$1=36e5,Y_=Symbol.for("constructDateFrom");function ln(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&Y_ in r?r[Y_](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ot(r,e){return ln(e||r,r)}function ni(r,e,n){const s=Ot(r,n?.in);return isNaN(e)?ln(r,NaN):(e&&s.setDate(s.getDate()+e),s)}function vp(r,e,n){const s=Ot(r,n?.in);if(isNaN(e))return ln(r,NaN);if(!e)return s;const o=s.getDate(),u=ln(r,s.getTime());u.setMonth(s.getMonth()+e+1,0);const f=u.getDate();return o>=f?u:(s.setFullYear(u.getFullYear(),u.getMonth(),o),s)}let Z2={};function cu(){return Z2}function ss(r,e){const n=cu(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ot(r,e?.in),u=o.getDay(),f=(u<s?7:0)+u-s;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function Eh(r,e){return ss(r,{...e,weekStartsOn:1})}function Q1(r,e){const n=Ot(r,e?.in),s=n.getFullYear(),o=ln(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=Eh(o),f=ln(n,0);f.setFullYear(s,0,4),f.setHours(0,0,0,0);const m=Eh(f);return n.getTime()>=u.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function $_(r){const e=Ot(r),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+r-+n}function Yh(r,...e){const n=ln.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function bh(r,e){const n=Ot(r,e?.in);return n.setHours(0,0,0,0),n}function eA(r,e,n){const[s,o]=Yh(n?.in,r,e),u=bh(s),f=bh(o),m=+u-$_(u),p=+f-$_(f);return Math.round((m-p)/J2)}function tA(r,e){const n=Q1(r,e),s=ln(r,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Eh(s)}function K1(r,e,n){return ni(r,e*7,n)}function X1(r,e,n){return vp(r,e*12,n)}function nA(r){return ln(r,Date.now())}function iA(r,e,n){const[s,o]=Yh(n?.in,r,e);return+bh(s)==+bh(o)}function rA(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function sA(r){return!(!rA(r)&&typeof r!="number"||isNaN(+Ot(r)))}function W1(r,e){const n=Ot(r,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function aA(r,e){const[n,s]=Yh(r,e.start,e.end);return{start:n,end:s}}function oA(r,e){const{start:n,end:s}=aA(e?.in,r);let o=+n>+s;const u=o?+n:+s,f=o?s:n;f.setHours(0,0,0,0),f.setDate(1);let m=1;const p=[];for(;+f<=u;)p.push(ln(n,f)),f.setMonth(f.getMonth()+m);return o?p.reverse():p}function lA(r,e){const n=Ot(r,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function uA(r,e){const n=Ot(r,e?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function J1(r,e){const n=Ot(r,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ep(r,e){const n=cu(),s=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ot(r,e?.in),u=o.getDay(),f=(u<s?-7:0)+6-(u-s);return o.setDate(o.getDate()+f),o.setHours(23,59,59,999),o}const cA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hA=(r,e,n)=>{let s;const o=cA[r];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Tm(r){return(e={})=>{const n=e.width?String(e.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const fA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},dA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},mA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pA={date:Tm({formats:fA,defaultWidth:"full"}),time:Tm({formats:dA,defaultWidth:"full"}),dateTime:Tm({formats:mA,defaultWidth:"full"})},gA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yA=(r,e,n,s)=>gA[r];function kl(r){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=n?.width?String(n.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=n?.width?String(n.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const _A={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},EA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},wA=(r,e)=>{const n=Number(r),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},AA={ordinalNumber:wA,era:kl({values:_A,defaultWidth:"wide"}),quarter:kl({values:vA,defaultWidth:"wide",argumentCallback:r=>r-1}),month:kl({values:EA,defaultWidth:"wide"}),day:kl({values:bA,defaultWidth:"wide"}),dayPeriod:kl({values:TA,defaultWidth:"wide",formattingValues:SA,defaultFormattingWidth:"wide"})};function Vl(r){return(e,n={})=>{const s=n.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],m=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?RA(m,b=>b.test(f)):xA(m,b=>b.test(f));let g;g=r.valueCallback?r.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const E=e.slice(f.length);return{value:g,rest:E}}}function xA(r,e){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&e(r[n]))return n}function RA(r,e){for(let n=0;n<r.length;n++)if(e(r[n]))return n}function CA(r){return(e,n={})=>{const s=e.match(r.matchPattern);if(!s)return null;const o=s[0],u=e.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(o.length);return{value:f,rest:m}}}const NA=/^(\d+)(th|st|nd|rd)?/i,IA=/\d+/i,DA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},MA={any:[/^b/i,/^(a|c)/i]},OA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kA={any:[/1/i,/2/i,/3/i,/4/i]},VA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},PA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},LA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},jA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BA={ordinalNumber:CA({matchPattern:NA,parsePattern:IA,valueCallback:r=>parseInt(r,10)}),era:Vl({matchPatterns:DA,defaultMatchWidth:"wide",parsePatterns:MA,defaultParseWidth:"any"}),quarter:Vl({matchPatterns:OA,defaultMatchWidth:"wide",parsePatterns:kA,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Vl({matchPatterns:VA,defaultMatchWidth:"wide",parsePatterns:PA,defaultParseWidth:"any"}),day:Vl({matchPatterns:LA,defaultMatchWidth:"wide",parsePatterns:UA,defaultParseWidth:"any"}),dayPeriod:Vl({matchPatterns:jA,defaultMatchWidth:"any",parsePatterns:zA,defaultParseWidth:"any"})},HA={code:"en-US",formatDistance:hA,formatLong:pA,formatRelative:yA,localize:AA,match:BA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function qA(r,e){const n=Ot(r,e?.in);return eA(n,J1(n))+1}function FA(r,e){const n=Ot(r,e?.in),s=+Eh(n)-+tA(n);return Math.round(s/G1)+1}function Z1(r,e){const n=Ot(r,e?.in),s=n.getFullYear(),o=cu(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=ln(e?.in||r,0);f.setFullYear(s+1,0,u),f.setHours(0,0,0,0);const m=ss(f,e),p=ln(e?.in||r,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const g=ss(p,e);return+n>=+m?s+1:+n>=+g?s:s-1}function GA(r,e){const n=cu(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=Z1(r,e),u=ln(e?.in||r,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),ss(u,e)}function YA(r,e){const n=Ot(r,e?.in),s=+ss(n,e)-+GA(n,e);return Math.round(s/G1)+1}function Ze(r,e){const n=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return n+s}const Kr={y(r,e){const n=r.getFullYear(),s=n>0?n:1-n;return Ze(e==="yy"?s%100:s,e.length)},M(r,e){const n=r.getMonth();return e==="M"?String(n+1):Ze(n+1,2)},d(r,e){return Ze(r.getDate(),e.length)},a(r,e){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(r,e){return Ze(r.getHours()%12||12,e.length)},H(r,e){return Ze(r.getHours(),e.length)},m(r,e){return Ze(r.getMinutes(),e.length)},s(r,e){return Ze(r.getSeconds(),e.length)},S(r,e){const n=e.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Ze(o,e.length)}},Wa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Q_={G:function(r,e,n){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(r,e,n){if(e==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Kr.y(r,e)},Y:function(r,e,n,s){const o=Z1(r,s),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return Ze(f,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Ze(u,e.length)},R:function(r,e){const n=Q1(r);return Ze(n,e.length)},u:function(r,e){const n=r.getFullYear();return Ze(n,e.length)},Q:function(r,e,n){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Ze(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,n){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Ze(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,n){const s=r.getMonth();switch(e){case"M":case"MM":return Kr.M(r,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,n){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return Ze(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,n,s){const o=YA(r,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Ze(o,e.length)},I:function(r,e,n){const s=FA(r);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Ze(s,e.length)},d:function(r,e,n){return e==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Kr.d(r,e)},D:function(r,e,n){const s=qA(r);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Ze(s,e.length)},E:function(r,e,n){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Ze(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Ze(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,n){const s=r.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Ze(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,n){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,n){const s=r.getHours();let o;switch(s===12?o=Wa.noon:s===0?o=Wa.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,n){const s=r.getHours();let o;switch(s>=17?o=Wa.evening:s>=12?o=Wa.afternoon:s>=4?o=Wa.morning:o=Wa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,n){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Kr.h(r,e)},H:function(r,e,n){return e==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Kr.H(r,e)},K:function(r,e,n){const s=r.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Ze(s,e.length)},k:function(r,e,n){let s=r.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Ze(s,e.length)},m:function(r,e,n){return e==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Kr.m(r,e)},s:function(r,e,n){return e==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Kr.s(r,e)},S:function(r,e){return Kr.S(r,e)},X:function(r,e,n){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return X_(s);case"XXXX":case"XX":return qs(s);default:return qs(s,":")}},x:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"x":return X_(s);case"xxxx":case"xx":return qs(s);default:return qs(s,":")}},O:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+K_(s,":");default:return"GMT"+qs(s,":")}},z:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+K_(s,":");default:return"GMT"+qs(s,":")}},t:function(r,e,n){const s=Math.trunc(+r/1e3);return Ze(s,e.length)},T:function(r,e,n){return Ze(+r,e.length)}};function K_(r,e=""){const n=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?n+String(o):n+String(o)+e+Ze(u,2)}function X_(r,e){return r%60===0?(r>0?"-":"+")+Ze(Math.abs(r)/60,2):qs(r,e)}function qs(r,e=""){const n=r>0?"-":"+",s=Math.abs(r),o=Ze(Math.trunc(s/60),2),u=Ze(s%60,2);return n+o+e+u}const W_=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},eE=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},$A=(r,e)=>{const n=r.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return W_(r,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",W_(s,e)).replace("{{time}}",eE(o,e))},QA={p:eE,P:$A},KA=/^D+$/,XA=/^Y+$/,WA=["D","DD","YY","YYYY"];function JA(r){return KA.test(r)}function ZA(r){return XA.test(r)}function ex(r,e,n){const s=tx(r,e,n);if(console.warn(s),WA.includes(r))throw new RangeError(s)}function tx(r,e,n){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const nx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ix=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,rx=/^'([^]*?)'?$/,sx=/''/g,ax=/[a-zA-Z]/;function Me(r,e,n){const s=cu(),o=s.locale??HA,u=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,f=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,m=Ot(r,n?.in);if(!sA(m))throw new RangeError("Invalid time value");let p=e.match(ix).map(E=>{const b=E[0];if(b==="p"||b==="P"){const C=QA[b];return C(E,o.formatLong)}return E}).join("").match(nx).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const b=E[0];if(b==="'")return{isToken:!1,value:ox(E)};if(Q_[b])return{isToken:!0,value:E};if(b.match(ax))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:E}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return p.map(E=>{if(!E.isToken)return E.value;const b=E.value;(ZA(b)||JA(b))&&ex(b,e,String(r));const C=Q_[b[0]];return C(m,b,o.localize,g)}).join("")}function ox(r){const e=r.match(rx);return e?e[1].replace(sx,"'"):r}function lx(r,e){return Ot(r,e?.in).getDay()}function Th(r,e,n){const[s,o]=Yh(n?.in,r,e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function io(r,e){return iA(ln(r,r),nA(r))}function ux(r,e,n){return ni(r,-1,n)}function Pl(r,e){const n=()=>ln(e?.in,NaN),o=dx(r);let u;if(o.date){const g=mx(o.date,2);u=px(g.restDateString,g.year)}if(!u||isNaN(+u))return n();const f=+u;let m=0,p;if(o.time&&(m=gx(o.time),isNaN(m)))return n();if(o.timezone){if(p=yx(o.timezone),isNaN(p))return n()}else{const g=new Date(f+m),E=Ot(0,e?.in);return E.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),E.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),E}return Ot(f+m+p,e?.in)}const Jc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},cx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function dx(r){const e={},n=r.split(Jc.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],Jc.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Jc.timeZoneDelimiter)[0],s=r.substr(e.date.length,r.length))),s){const o=Jc.timezone.exec(s);o?(e.time=s.replace(o[1],""),e.timezone=o[1]):e.time=s}return e}function mx(r,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=r.match(n);if(!s)return{year:NaN,restDateString:""};const o=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?o:u*100,restDateString:r.slice((s[1]||s[2]).length)}}function px(r,e){if(e===null)return new Date(NaN);const n=r.match(cx);if(!n)return new Date(NaN);const s=!!n[4],o=Ll(n[1]),u=Ll(n[2])-1,f=Ll(n[3]),m=Ll(n[4]),p=Ll(n[5])-1;if(s)return Tx(e,m,p)?_x(e,m,p):new Date(NaN);{const g=new Date(0);return!Ex(e,u,f)||!bx(e,o)?new Date(NaN):(g.setUTCFullYear(e,u,Math.max(o,f)),g)}}function Ll(r){return r?parseInt(r):1}function gx(r){const e=r.match(hx);if(!e)return NaN;const n=Sm(e[1]),s=Sm(e[2]),o=Sm(e[3]);return Sx(n,s,o)?n*$1+s*Y1+o*1e3:NaN}function Sm(r){return r&&parseFloat(r.replace(",","."))||0}function yx(r){if(r==="Z")return 0;const e=r.match(fx);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return wx(s,o)?n*(s*$1+o*Y1):NaN}function _x(r,e,n){const s=new Date(0);s.setUTCFullYear(r,0,4);const o=s.getUTCDay()||7,u=(e-1)*7+n+1-o;return s.setUTCDate(s.getUTCDate()+u),s}const vx=[31,null,31,30,31,30,31,31,30,31,30,31];function tE(r){return r%400===0||r%4===0&&r%100!==0}function Ex(r,e,n){return e>=0&&e<=11&&n>=1&&n<=(vx[e]||(tE(r)?29:28))}function bx(r,e){return e>=1&&e<=(tE(r)?366:365)}function Tx(r,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Sx(r,e,n){return r===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&r>=0&&r<25}function wx(r,e){return e>=0&&e<=59}function Ax(r,e,n){return vp(r,-1,n)}function xx(r,e,n){return K1(r,-1,n)}function Rx(r,e,n){return X1(r,-1,n)}const Xt=Q2()(W2(r=>({currentDate:new Date,todos:[],drawings:{},monthlyNotes:{},weeklyViewMode:"tablet",appPin:null,isLocked:!1,currentUserUid:null,isSyncing:!1,setCurrentDate:e=>r({currentDate:e}),addTodo:(e,n,s,o,u,f)=>r(m=>{const p={id:Math.random().toString(36).substr(2,9),date:Me(e,"yyyy-MM-dd"),endDate:s||Me(e,"yyyy-MM-dd"),color:o||"#A7C7E7",text:n,isCompleted:!1};return u&&(p.startTime=u),f&&(p.endTime=f),{todos:[...m.todos,p]}}),updateTodo:(e,n)=>r(s=>({todos:s.todos.map(o=>{if(o.id===e){const u={...o,...n};return u.startTime||delete u.startTime,u.endTime||delete u.endTime,u}return o})})),toggleTodo:e=>r(n=>({todos:n.todos.map(s=>s.id===e?{...s,isCompleted:!s.isCompleted}:s)})),deleteTodo:e=>r(n=>({todos:n.todos.filter(s=>s.id!==e)})),saveDrawing:(e,n)=>r(s=>({drawings:{...s.drawings,[e]:n}})),clearDrawing:e=>r(n=>{const s={...n.drawings};return delete s[e],{drawings:s}}),setMonthlyNote:(e,n)=>r(s=>({monthlyNotes:{...s.monthlyNotes,[e]:n}})),setWeeklyViewMode:e=>r({weeklyViewMode:e}),setAppPin:e=>r(()=>({appPin:e,isLocked:e!==null})),verifyPin:e=>{let n=!1;return r(s=>s.appPin===e?(n=!0,{isLocked:!1}):{isLocked:!0}),n},lockApp:()=>r(e=>({isLocked:e.appPin!==null})),unlockApp:()=>r({isLocked:!1})}),{name:"gangneung-diary-storage",partialize:r=>({todos:r.todos,drawings:r.drawings,monthlyNotes:r.monthlyNotes,weeklyViewMode:r.weeklyViewMode,appPin:r.appPin,currentUserUid:r.currentUserUid}),onRehydrateStorage:()=>r=>{r&&r.appPin!==null&&Xt.setState({isLocked:!0})}}));const nE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const Cx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Nx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const J_=r=>{const e=Nx(r);return e.charAt(0).toUpperCase()+e.slice(1)};var Ix={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Dx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Mx=F.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>F.createElement("svg",{ref:p,...Ix,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:nE("lucide",o),...!u&&!Dx(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>F.createElement(g,E)),...Array.isArray(u)?u:[u]]));const st=(r,e)=>{const n=F.forwardRef(({className:s,...o},u)=>F.createElement(Mx,{ref:u,iconNode:e,className:nE(`lucide-${Cx(J_(r))}`,`lucide-${r}`,s),...o}));return n.displayName=J_(r),n};const Ox=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],kx=st("calendar-check",Ox);const Vx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],iE=st("calendar-days",Vx);const Px=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],Lx=st("calendar-range",Px);const Ux=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],jx=st("calendar",Ux);const zx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bx=st("check",zx);const Hx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],$h=st("chevron-left",Hx);const qx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Qh=st("chevron-right",qx);const Fx=[["path",{d:"M10.94 5.274A7 7 0 0 1 15.71 10h1.79a4.5 4.5 0 0 1 4.222 6.057",key:"1uxyv8"}],["path",{d:"M18.796 18.81A4.5 4.5 0 0 1 17.5 19H9A7 7 0 0 1 5.79 5.78",key:"99tcn7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Gx=st("cloud-off",Fx);const Yx=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],$x=st("cloud",Yx);const Qx=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],Kx=st("delete",Qx);const Xx=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],Wx=st("eraser",Xx);const Jx=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],Zx=st("list-todo",Jx);const eR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Z_=st("loader-circle",eR);const tR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nR=st("lock",tR);const iR=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],rR=st("log-in",iR);const sR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aR=st("log-out",sR);const oR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],lR=st("maximize-2",oR);const uR=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],cR=st("mouse-pointer-2",uR);const hR=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],fR=st("palette",hR);const dR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Kh=st("pen",dR);const mR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pR=st("plus",mR);const gR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],yR=st("shield-alert",gR);const _R=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vR=st("shield-check",_R);const ER=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],rE=st("shield",ER);const bR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sE=st("trash-2",bR);const TR=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],SR=st("type",TR);const wR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],AR=st("x",wR),wm={"2024-02-09":" ","2024-02-10":"","2024-02-11":" ","2024-05-15":"","2024-09-16":" ","2024-09-17":"","2024-09-18":" ","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-05-05":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2026-02-16":" ","2026-02-17":"","2026-02-18":" ","2026-05-24":"","2026-09-24":" ","2026-09-25":"","2026-09-26":" ","2027-02-06":" ","2027-02-07":"","2027-02-08":" ","2027-05-13":"","2027-09-14":" ","2027-09-15":"","2027-09-16":" ","2028-01-26":" ","2028-01-27":"","2028-01-28":" ","2028-05-02":"","2028-10-02":" ","2028-10-03":"","2028-10-04":" ","2029-02-12":" ","2029-02-13":"","2029-02-14":" ","2029-05-20":"","2029-09-21":" ","2029-09-22":"","2029-09-23":" ","2030-02-02":" ","2030-02-03":"","2030-02-04":" ","2030-05-09":"","2030-09-11":" ","2030-09-12":"","2030-09-13":" "};function Xh(r){const e=r.getFullYear(),n=r.getMonth()+1,s=r.getDate(),o=lx(r),u=`${e}-${n.toString().padStart(2,"0")}-${s.toString().padStart(2,"0")}`,f=`${n.toString().padStart(2,"0")}-${s.toString().padStart(2,"0")}`;let m=null;const p={"01-01":"","03-01":"","05-05":"","06-06":"","08-15":"","10-03":"","10-09":"","12-25":""};p[f]&&(m=p[f]),e>=2026&&f==="07-17"&&(m=m?`${m}/`:""),wm[u]&&(m=m?`${m}/${wm[u]}`:wm[u]);const g={"2024-02-12":"","2024-05-06":"","2025-03-03":"","2025-05-06":"","2025-10-08":"","2026-03-02":"","2026-05-25":"","2026-08-17":"","2026-10-05":"","2027-02-09":"","2027-08-16":"","2027-10-04":"","2027-10-11":"","2027-12-27":"","2028-10-05":"","2029-05-21":"","2029-09-24":"","2030-02-05":"","2030-05-06":""};return g[u]&&(m=m?`${m}(${g[u]})`:g[u]),{isHoliday:m!==null||o===0,name:m}}const xR=()=>{const{currentDate:r,setCurrentDate:e}=Xt(),n=lu(),s=()=>e(Rx(r)),o=()=>e(X1(r,1)),u=()=>e(new Date),f=J1(r),m=uA(r),p=oA({start:f,end:m}),g=E=>{const b=W1(E),C=ss(E),L=Ep(b),X=[];let W=[],V=C,K="";for(;V<=L;){for(let j=0;j<7;j++){K=Me(V,"d");const J=V,le=Th(V,E),{isHoliday:se}=Xh(V);W.push(w.jsx("div",{onClick:ce=>{ce.stopPropagation(),e(J),n("/daily")},className:`text-center py-1 text-[11px] font-medium cursor-pointer rounded-sm transition-colors
              ${le?se?"text-accent-red font-bold":"text-ink-700 hover:bg-paper-100":"text-paper-300 opacity-50"}
              ${io(V)?"bg-accent-blue/10 text-accent-blue font-bold ring-1 ring-accent-blue/50":""}
            `,children:K},V.toString())),V=ni(V,1)}X.push(w.jsx("div",{className:"grid grid-cols-7",children:W},V.toString())),W=[]}return w.jsxs("div",{className:"flex flex-col h-full bg-white border border-paper-200/70 p-4 rounded-xl shadow-sm hover:shadow-md transition-shadow hover:border-paper-300 cursor-pointer group",onClick:()=>{e(E),n("/")},children:[w.jsx("div",{className:"flex items-center justify-between mb-3",children:w.jsxs("h3",{className:"font-serif font-bold text-xl text-ink-900 group-hover:text-accent-blue transition-colors",children:[Me(E,"M")," ",w.jsx("span",{className:"text-sm font-sans font-medium text-ink-400 ml-1",children:Me(E,"MMMM")})]})}),w.jsx("div",{className:"grid grid-cols-7 mb-1 pb-1 border-b border-paper-100",children:["S","M","T","W","T","F","S"].map((j,J)=>w.jsx("div",{className:`text-center text-[9px] font-bold ${J===0?"text-accent-red":"text-ink-400"}`,children:j},J))}),w.jsx("div",{className:"flex-1",children:X})]})};return w.jsxs("div",{className:"w-full h-full flex flex-col pt-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[w.jsxs("h2",{className:"text-4xl font-extrabold text-ink-900 font-serif tracking-widest flex items-baseline gap-4",children:[Me(r,"yyyy"),w.jsx("span",{className:"text-base font-medium text-ink-400 tracking-normal font-sans",children:" "})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:s,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx($h,{size:20})}),w.jsx("button",{onClick:u,className:"px-4 py-1.5 text-sm font-bold bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-full transition-colors",children:"This Year"}),w.jsx("button",{onClick:o,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(Qh,{size:20})})]})]}),w.jsx("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-5 overflow-y-auto custom-scrollbar pb-6 px-1",children:p.map(E=>w.jsx("div",{children:g(E)},E.toString()))})]})},aE=({dateStr:r,width:e,height:n})=>{const s=F.useRef(null),[o,u]=F.useState(!1),[f,m]=F.useState(!1),{drawings:p,saveDrawing:g,clearDrawing:E}=Xt();F.useEffect(()=>{const V=s.current;if(!V)return;const K=V.getContext("2d");if(!K)return;K.clearRect(0,0,e,n);const j=p[r];if(j){const J=new Image;J.onload=()=>{K.drawImage(J,0,0)},J.src=j}},[r,e,n,p]);const b=V=>{V.preventDefault();const K=s.current;if(!K)return;const j=K.getContext("2d");if(!j)return;u(!0);const{offsetX:J,offsetY:le}=X(V,K);j.beginPath(),j.moveTo(J,le)},C=V=>{if(!o)return;V.preventDefault();const K=s.current;if(!K)return;const j=K.getContext("2d");if(!j)return;const{offsetX:J,offsetY:le}=X(V,K),se=K.getBoundingClientRect(),ce=K.width/se.width;j.lineTo(J,le),j.globalCompositeOperation=f?"destination-out":"source-over",j.strokeStyle=f?"rgba(0,0,0,1)":"#1a202c",j.lineWidth=f?20*ce:1.5*ce,j.lineCap="round",j.lineJoin="round",j.stroke()},L=()=>{if(!o)return;u(!1);const V=s.current;if(!V)return;const K=V.toDataURL("image/png");g(r,K)},X=(V,K)=>{const j=K.getBoundingClientRect(),J=K.width/j.width,le=K.height/j.height;let se,ce;return"touches"in V?(se=V.touches[0].clientX,ce=V.touches[0].clientY):(se=V.clientX,ce=V.clientY),{offsetX:(se-j.left)*J,offsetY:(ce-j.top)*le}},W=()=>{window.confirm("     ?")&&(E(r),m(!1))};return w.jsxs("div",{className:"relative group/canvas w-full h-full",style:{touchAction:"none"},children:[w.jsxs("div",{className:"absolute top-2 right-2 flex gap-1.5 opacity-0 group-hover/canvas:opacity-100 transition-opacity z-20",children:[w.jsx("button",{onClick:V=>{V.stopPropagation(),m(!f)},className:`p-1.5 rounded-full backdrop-blur-sm border shadow-sm transition-colors
                        ${f?"bg-accent-blue text-white border-accent-blue":"bg-white/80 text-ink-500 border-paper-200 hover:bg-paper-100"}
                    `,title:" ",children:f?w.jsx(Kh,{size:14}):w.jsx(Wx,{size:14})}),w.jsx("button",{onClick:V=>{V.stopPropagation(),W()},className:"p-1.5 bg-white/80 backdrop-blur-sm text-accent-red hover:bg-red-50 border border-red-100 rounded-full shadow-sm transition-colors",title:" ",children:w.jsx(sE,{size:14})})]}),w.jsx("canvas",{ref:s,width:e,height:n,onMouseDown:b,onMouseMove:C,onMouseUp:L,onMouseLeave:L,onTouchStart:b,onTouchMove:C,onTouchEnd:L,onTouchCancel:L,className:`w-full h-full bg-transparent absolute inset-0 z-10 ${f?"cursor-[url(/eraser.png),_pointer]":"cursor-crosshair"}`,style:{touchAction:"none"}})]})},RR=()=>{const{currentDate:r,setCurrentDate:e,todos:n,monthlyNotes:s,setMonthlyNote:o}=Xt(),u=lu(),f=()=>e(Ax(r)),m=()=>e(vp(r,1)),[p,g]=F.useState(!0),E=Me(r,"yyyy-MM"),b=s?.[E]||"",C=lA(r),L=W1(C),X=ss(C),W=Ep(L),V="d",K=[];let j=[],J=X,le="";for(;J<=W;){const se=J,ce=ni(se,6),R=n.filter(M=>{const D=M.date,P=M.endDate||M.date;return D<=Me(ce,"yyyy-MM-dd")&&P>=Me(se,"yyyy-MM-dd")});R.sort((M,D)=>{if(M.date!==D.date)return M.date.localeCompare(D.date);const P=new Date(M.endDate||M.date).getTime()-new Date(M.date).getTime();return new Date(D.endDate||D.date).getTime()-new Date(D.date).getTime()-P});const A={},x={};for(let M=0;M<7;M++){const D=Me(ni(se,M),"yyyy-MM-dd");A[D]=[null,null,null],x[D]=0}R.forEach(M=>{const D=M.date,P=M.endDate||M.date,N=[];for(let Ne=0;Ne<7;Ne++){const $=Me(ni(se,Ne),"yyyy-MM-dd");$>=D&&$<=P&&N.push($)}let Oe=-1;for(let Ne=0;Ne<3;Ne++){let $=!0;for(const oe of N)if(A[oe][Ne]!==null){$=!1;break}if($){Oe=Ne;break}}if(Oe!==-1)for(const Ne of N)A[Ne][Oe]=M;else for(const Ne of N)x[Ne]++});for(let M=0;M<7;M++){le=Me(J,V);const D=J,P=Me(D,"yyyy-MM-dd"),{isHoliday:N,name:Oe}=Xh(J),Ne=A[P],$=x[P],oe=Ne.reduce((pe,Ie,O)=>Ie!==null?O:pe,-1),de=Ne.slice(0,oe+1);j.push(w.jsxs("div",{onClick:()=>{e(D),u("/daily")},className:`border-r border-b border-paper-200 p-2 min-h-[120px] cursor-pointer transition-colors relative group overflow-hidden
            ${Th(J,C)?"bg-white text-ink-700 hover:bg-paper-50":"bg-paper-50/50 text-ink-400 opacity-60"}
          `,children:[w.jsx("div",{className:"flex justify-between items-start",children:w.jsxs("div",{className:"flex flex-col",children:[w.jsx("span",{className:`text-sm font-semibold ${io(J)?"bg-accent-blue text-white w-6 h-6 rounded-full flex items-center justify-center":""} ${N?"text-accent-red":""}`,children:le}),Oe&&w.jsx("span",{className:`text-[9px] mt-0.5 font-bold line-clamp-1 break-all pr-1 ${Th(J,C)?"text-accent-red":"text-accent-red/50"}`,children:Oe})]})}),w.jsxs("div",{className:"mt-2 flex flex-col gap-1 w-full",children:[de.map((pe,Ie)=>{if(!pe)return w.jsx("div",{className:"h-[18px]"},`empty-${Ie}`);const O=pe.date!==(pe.endDate||pe.date),ee=pe.date===P,G=(pe.endDate||pe.date)===P,ae=M===0;if(!O)return w.jsxs("div",{className:"flex items-center gap-1.5 px-0.5 w-full h-[18px]",children:[w.jsx("div",{className:`w-1 h-1 rounded-full shrink-0 ${pe.isCompleted?"bg-ink-300":"bg-accent-blue"}`}),w.jsx("span",{className:`text-[10px] font-medium truncate w-full ${pe.isCompleted?"line-through text-ink-300":"text-ink-600"}`,children:pe.text})]},pe.id);let ve="-ml-2",we="-mr-2",ke="pl-2",mt="pr-2",Qe="";ee?(ve="ml-0",ke="pl-1.5",Qe+=" rounded-l-md"):Qe+=" rounded-l-none border-l border-white/20",G?(we="mr-0",mt="pr-1.5",Qe+=" rounded-r-md"):Qe+=" rounded-r-none border-r border-white/20";const Ui=ee||ae;return w.jsx("div",{className:`h-[18px] flex items-center ${ve} ${we} ${ke} ${mt} ${Qe}`,style:{backgroundColor:pe.color||"#A7C7E7",opacity:pe.isCompleted?.6:1},children:Ui&&w.jsx("span",{className:`text-[10px] font-bold text-ink-800 truncate ${pe.isCompleted?"line-through opacity-70":""}`,children:pe.text})},pe.id)}),$>0&&w.jsxs("div",{className:"text-[9px] text-ink-400 font-bold pl-1 pt-0.5",children:["+",$," more"]})]})]},J.toString())),J=ni(J,1)}K.push(w.jsx("div",{className:"grid grid-cols-7 flex-1",children:j},J.toString())),j=[]}return w.jsxs("div",{className:"w-full h-full flex flex-col pt-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[w.jsxs("div",{className:"flex items-baseline gap-3",children:[w.jsx("h2",{className:"text-4xl font-bold text-ink-900 font-serif tracking-tight",children:Me(r,"M")}),w.jsx("span",{className:"text-lg font-medium text-ink-500 uppercase tracking-widest",children:Me(r,"MMMM yyyy")})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:f,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx($h,{size:20})}),w.jsx("button",{onClick:()=>e(new Date),className:"px-4 py-1.5 text-sm font-bold bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-full transition-colors",children:"Today"}),w.jsx("button",{onClick:m,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(Qh,{size:20})})]})]}),w.jsxs("div",{className:"flex-1 flex flex-col xl:flex-row gap-4 h-full min-h-0 overflow-y-auto custom-scrollbar xl:overflow-hidden pb-4 xl:pb-0",children:[w.jsxs("div",{className:"flex w-full xl:w-64 border border-paper-200 rounded-xl bg-white p-4 flex-col shadow-sm relative overflow-hidden shrink-0 min-h-[400px] xl:min-h-0",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-20 bg-white/50 backdrop-blur-sm rounded-lg px-2",children:[w.jsx("h3",{className:"text-xs font-bold text-ink-400 uppercase tracking-wider",children:"Monthly Notes"}),w.jsxs("div",{className:"flex bg-paper-100 p-0.5 rounded-md border border-paper-200",children:[w.jsx("button",{onClick:()=>g(!0),className:`p-1 rounded transition-colors ${p?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ",children:w.jsx(SR,{size:14})}),w.jsx("button",{onClick:()=>g(!1),className:`p-1 rounded transition-colors ${p?"text-ink-400 hover:text-ink-600":"bg-white shadow-sm text-accent-blue"}`,title:"  ",children:w.jsx(Kh,{size:14})})]})]}),w.jsxs("div",{className:"flex-1 flex flex-col pt-2 relative",children:[w.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none w-full",children:Array.from({length:15}).map((se,ce)=>w.jsx("div",{className:"diary-line w-full h-[2rem]"},ce))}),w.jsx("textarea",{value:b,onChange:se=>o(E,se.target.value),className:`absolute inset-0 z-10 w-full h-full bg-transparent resize-none outline-none text-ink-700 text-sm font-medium leading-[2rem] px-2 py-0 custom-scrollbar ${p?"":"pointer-events-none"}`,placeholder:p?" ...":"",style:{lineHeight:"2rem",backgroundAttachment:"local"}}),w.jsx("div",{className:`absolute inset-0 z-10 w-full h-full ${p?"pointer-events-none":""}`,children:w.jsx(aE,{dateStr:`${E}-note`,width:200,height:600})})]})]}),w.jsxs("div",{className:"flex-1 border border-paper-200 rounded-xl bg-white flex flex-col shadow-sm overflow-hidden min-h-[500px]",children:[w.jsx("div",{className:"grid grid-cols-7 border-b border-paper-200 bg-paper-50/50",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map((se,ce)=>w.jsx("div",{className:`py-2.5 text-center text-xs font-bold ${ce===0?"text-accent-red":"text-ink-400"}`,children:se},se))}),w.jsx("div",{className:"flex-1 flex flex-col",children:K})]})]})]})},CR=({size:r=18})=>w.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"3",ry:"3"}),w.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16",strokeWidth:"3.5"})]}),NR=({size:r=18})=>w.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"7",y:"2",width:"10",height:"20",rx:"3",ry:"3"}),w.jsx("line",{x1:"12",x2:"12.01",y1:"18",y2:"18",strokeWidth:"3.5"})]}),IR=()=>{const{currentDate:r,setCurrentDate:e,todos:n,weeklyViewMode:s,setWeeklyViewMode:o}=Xt(),u=lu(),[f,m]=F.useState(!1),p=()=>e(xx(r)),g=()=>e(K1(r,1)),E=()=>e(new Date),b=ss(r),C=Ep(r),L=[];let X=b;for(let j=0;j<7;j++)L.push(X),X=ni(X,1);const W=n.filter(j=>{const J=j.date,le=j.endDate||j.date;return!j.startTime&&J<=Me(C,"yyyy-MM-dd")&&le>=Me(b,"yyyy-MM-dd")}),V=n.filter(j=>{const J=j.date,le=j.endDate||j.date;return!!j.startTime&&J<=Me(C,"yyyy-MM-dd")&&le>=Me(b,"yyyy-MM-dd")});W.sort((j,J)=>{if(j.date!==J.date)return j.date.localeCompare(J.date);const le=new Date(j.endDate||j.date).getTime()-new Date(j.date).getTime();return new Date(J.endDate||J.date).getTime()-new Date(J.date).getTime()-le});const K={};for(let j=0;j<7;j++){const J=Me(ni(b,j),"yyyy-MM-dd");K[J]=[]}return W.forEach(j=>{const J=j.date,le=j.endDate||j.date,se=[];for(let R=0;R<7;R++){const A=Me(ni(b,R),"yyyy-MM-dd");A>=J&&A<=le&&se.push(A)}let ce=0;for(;;){let R=!0;for(const A of se)if(K[A][ce]!==void 0&&K[A][ce]!==null){R=!1;break}if(R)break;ce++}for(const R of se){for(;K[R].length<=ce;)K[R].push(null);K[R][ce]=j}}),w.jsxs("div",{className:"w-full h-full flex flex-col pt-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[w.jsxs("div",{className:"flex items-baseline gap-3",children:[w.jsxs("h2",{className:"text-3xl font-bold text-ink-900 font-serif tracking-tight",children:[Me(b,"M d")," - ",Me(C,"M d")]}),w.jsx("span",{className:"text-sm font-medium text-ink-500 uppercase tracking-widest bg-paper-100/50 px-3 py-1 rounded-full border border-paper-200",children:"Weekly Plan"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("div",{className:"flex bg-paper-100 p-0.5 rounded-md border border-paper-200 mr-1 xl:mr-2",children:[w.jsx("button",{onClick:()=>m(!1),className:`p-1 rounded transition-colors ${f?"text-ink-400 hover:text-ink-600":"bg-white shadow-sm text-accent-blue"}`,title:"() ",children:w.jsx(cR,{size:16})}),w.jsx("button",{onClick:()=>m(!0),className:`p-1 rounded transition-colors ${f?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ",children:w.jsx(Kh,{size:16})})]}),w.jsxs("div",{className:"flex bg-paper-100 p-1 rounded-full border border-paper-200 mr-2",children:[w.jsx("button",{onClick:()=>o("tablet"),className:`p-1.5 rounded-full transition-colors ${s==="tablet"?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ( 7 )",children:w.jsx(CR,{size:18})}),w.jsx("button",{onClick:()=>o("mobile"),className:`p-1.5 rounded-full transition-colors ${s==="mobile"?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ( 1 )",children:w.jsx(NR,{size:18})})]}),w.jsx("button",{onClick:p,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx($h,{size:20})}),w.jsx("button",{onClick:E,className:"px-4 py-1.5 text-sm font-bold bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-full transition-colors",children:"Today"}),w.jsx("button",{onClick:g,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(Qh,{size:20})})]})]}),w.jsx("div",{className:`flex-1 flex gap-4 h-full min-h-0 bg-white border border-paper-200 rounded-2xl p-4 md:p-6 shadow-sm overflow-y-auto custom-scrollbar ${s==="mobile"?"flex-col":""}`,children:w.jsx("div",{className:`w-full ${s==="tablet"?"grid grid-cols-7 gap-3 md:gap-4 overflow-x-auto min-h-[600px]":"flex flex-col gap-6"}`,children:L.map(j=>{const{isHoliday:J,name:le}=Xh(j);return w.jsxs("div",{className:`flex flex-col border border-paper-200/50 rounded-xl overflow-hidden bg-white
                ${s==="tablet"?"min-w-[140px]":"w-full min-h-[500px] shadow-sm"}
                ${io(j)?"ring-2 ring-accent-blue/30 border-transparent bg-blue-50/10":""}
              `,children:[w.jsxs("div",{className:"text-center py-3 border-b border-paper-200/50 bg-paper-50/50 relative cursor-pointer hover:bg-paper-100 transition-colors group/header",onClick:()=>{e(j),u("/daily")},title:"  ( ) ",children:[w.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover/header:opacity-100 transition-opacity text-ink-400",children:w.jsx(lR,{size:12})}),io(j)&&w.jsx("div",{className:"absolute top-0 inset-x-0 h-1 bg-accent-blue"}),w.jsx("p",{className:`text-[10px] font-extrabold uppercase tracking-widest mb-1 ${J?"text-accent-red":"text-ink-400"}`,children:Me(j,"EEEE")}),w.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5",children:[w.jsxs("div",{className:"flex items-center justify-center gap-1",children:[!Th(j,b)&&!J&&w.jsxs("span",{className:"text-xs font-bold text-ink-400",children:[Me(j,"M"),"."]}),w.jsx("span",{className:`text-2xl font-serif font-black ${io(j)?"text-accent-blue":J?"text-accent-red":"text-ink-900"}`,children:Me(j,"d")})]}),le&&w.jsx("span",{className:"text-[9px] text-accent-red font-bold leading-tight px-1 text-center truncate w-full",children:le})]})]}),w.jsxs("div",{className:"flex-1 relative flex flex-col py-3 pr-3 pl-8 pt-4 space-y-3 bg-transparent",children:[w.jsx("div",{className:"absolute inset-x-0 inset-y-0 pt-4 pointer-events-none flex flex-col opacity-60",children:Array.from({length:24}).map((se,ce)=>w.jsx("div",{className:"w-full flex-1 border-t border-paper-200/80 relative",children:w.jsxs("span",{className:"absolute -top-[7px] left-1 text-[8px] font-semibold text-ink-300/80 bg-white/90 px-1 rounded-sm",children:[String(ce).padStart(2,"0"),":00"]})},ce))}),w.jsx("div",{className:"relative z-0 pointer-events-none pr-1 space-y-1 pb-2 border-b border-paper-300 border-dashed",children:(()=>{const se=Me(j,"yyyy-MM-dd"),ce=K[se]||[],R=ce.reduce((x,M,D)=>M!==null?D:x,-1);return ce.slice(0,R+1).map((x,M)=>{if(!x)return w.jsx("div",{className:`${s==="mobile"?"h-[24px]":"h-[20px]"} w-full`},`empty-${M}`);const D=x.date!==(x.endDate||x.date),P=x.date===se,N=(x.endDate||x.date)===se,Ne=L.findIndex(ee=>Me(ee,"yyyy-MM-dd")===se)===0;if(!D)return w.jsxs("div",{className:`flex items-start ${s==="mobile"?"gap-2 mb-2.5 h-[24px]":"gap-1.5 mb-1.5 h-[20px]"}`,children:[w.jsx("div",{className:`shrink-0 flex-none rounded-full ${s==="mobile"?"mt-1.5 w-1.5 h-1.5":"mt-1 w-1 h-1"} ${x.isCompleted?"bg-ink-300":"bg-accent-blue"}`}),w.jsx("span",{className:`font-medium break-words leading-snug ${s==="mobile"?"text-[14px] whitespace-pre-wrap":"text-xs line-clamp-3"} ${x.isCompleted?"line-through text-ink-300":"text-ink-700"}`,children:x.text})]},x.id);let $="-ml-8",oe="-mr-3",de="pl-3",pe="pr-3",Ie="";P||s==="mobile"?($="ml-0",de="pl-2",Ie+=" rounded-l-md"):Ie+=" rounded-l-none border-l border-white/20",N||s==="mobile"?(oe="mr-0",pe="pr-2",Ie+=" rounded-r-md"):Ie+=" rounded-r-none border-r border-white/20";const O=P||Ne||s==="mobile";return w.jsx("div",{className:`flex items-center ${$} ${oe} ${de} ${pe} ${Ie} ${s==="mobile"?"min-h-[24px] mb-2":"h-[20px] mb-1"}`,style:{backgroundColor:x.color||"#A7C7E7",opacity:x.isCompleted?.6:1},children:O&&w.jsx("span",{className:`font-bold text-ink-800 break-words leading-snug ${s==="mobile"?"text-[14px] whitespace-pre-wrap py-1":"text-[11px] truncate"} ${x.isCompleted?"line-through opacity-70":""}`,children:x.text})},x.id)})})()}),w.jsx("div",{className:"relative flex-1 w-full pointer-events-none min-h-[500px]",children:V.filter(se=>se.date===Me(j,"yyyy-MM-dd")).map(se=>{const[ce,R]=se.startTime.split(":").map(Number);let A=ce+1,x=R;se.endTime&&([A,x]=se.endTime.split(":").map(Number));const M=ce+R/60,D=A+x/60,P=Math.max(.25,D-M),N=M/24*100,Oe=P/24*100;return w.jsxs("div",{className:"absolute w-full px-2 py-1 flex flex-col items-start justify-start overflow-hidden rounded-md border-l-4 border-white/40 shadow-sm pointer-events-auto transition-opacity hover:opacity-90",style:{top:`${N}%`,height:`${Oe}%`,backgroundColor:se.color||"#A7C7E7",opacity:se.isCompleted?.6:.95},children:[w.jsxs("span",{className:`text-[10px] font-bold text-ink-900 leading-tight ${se.isCompleted?"line-through opacity-70":""}`,children:[se.startTime," ",se.endTime?`- ${se.endTime}`:""]}),w.jsx("span",{className:`text-xs font-medium text-ink-800 break-words leading-tight ${se.isCompleted?"line-through opacity-70":""}`,children:se.text})]},se.id)})}),w.jsx("div",{className:`absolute inset-0 z-10 w-full h-full ${f?"":"pointer-events-none"}`,children:w.jsx(aE,{dateStr:Me(j,"yyyy-MM-dd"),width:s==="mobile"?600:200,height:700})})]})]},j.toString())})})})]})},Ja=[{value:"#A7C7E7",name:""},{value:"#F4C2C2",name:""},{value:"#B2EBF2",name:""},{value:"#E6E6FA",name:""},{value:"#FFFACD",name:""}],DR=()=>{const{currentDate:r,setCurrentDate:e,todos:n,addTodo:s,toggleTodo:o,deleteTodo:u,updateTodo:f}=Xt(),m=lu(),[p,g]=F.useState(""),[E,b]=F.useState(null),[C,L]=F.useState(Ja[0].value),[X,W]=F.useState(""),[V,K]=F.useState(""),[j,J]=F.useState(null),[le,se]=F.useState(""),[ce,R]=F.useState(null),[A,x]=F.useState(Ja[0].value),[M,D]=F.useState(""),[P,N]=F.useState(""),Oe=E&&E>=r?E:r,Ne=Me(r,"yyyy-MM-dd"),$=n.filter(G=>G.date===Ne),{isHoliday:oe,name:de}=Xh(r),pe=G=>{if(G.preventDefault(),!p.trim())return;const ae=Me(Oe,"yyyy-MM-dd");s(r,p.trim(),ae,C,X,V),g(""),b(null),L(Ja[0].value),W(""),K("")},Ie=G=>{J(G.id),se(G.text),R(G.endDate?Pl(G.endDate):null),x(G.color||Ja[0].value),D(G.startTime||""),N(G.endTime||"")},O=G=>{if(!le.trim())return;const ae=ce&&ce>=r?ce:r,ve=Me(ae,"yyyy-MM-dd");f(G,{text:le.trim(),endDate:ve,color:A,startTime:M||void 0,endTime:P||void 0}),J(null)},ee=()=>{J(null)};return w.jsxs("div",{className:"w-full h-full flex flex-col pt-4",children:[w.jsxs("div",{className:"flex items-end justify-between mb-8 pb-4 border-b border-paper-200",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[w.jsx("button",{onClick:()=>e(ux(r)),className:"p-1 text-ink-400 hover:text-ink-800 hover:bg-paper-100 rounded-lg transition-colors",title:" ",children:w.jsx($h,{size:28})}),w.jsx("h2",{className:`text-4xl font-extrabold font-serif tracking-tight px-2 ${oe?"text-accent-red":"text-ink-900"}`,children:Me(r,"d")}),w.jsx("button",{onClick:()=>e(ni(r,1)),className:"p-1 text-ink-400 hover:text-ink-800 hover:bg-paper-100 rounded-lg transition-colors",title:" ",children:w.jsx(Qh,{size:28})}),de&&w.jsx("span",{className:"px-2 py-0.5 mt-1 text-xs font-bold bg-accent-red/10 text-accent-red border border-accent-red/20 rounded-md whitespace-nowrap",children:de})]}),w.jsx("p",{className:`text-lg font-medium mt-1 uppercase tracking-widest ${oe?"text-accent-red/80":"text-ink-500"}`,children:Me(r,"EEEE, MMMM yyyy")})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[!io(r)&&w.jsxs("button",{onClick:()=>e(new Date),className:"flex items-center gap-1.5 px-3 py-2 bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-lg transition-colors font-bold text-sm tracking-wide border border-paper-200",children:[w.jsx(kx,{size:16}),w.jsx("span",{children:""})]}),w.jsxs("button",{onClick:()=>m("/"),className:"flex items-center gap-2 px-4 py-2 hover:bg-paper-100 text-ink-600 rounded-lg transition-colors font-medium text-sm",children:[w.jsx(iE,{size:18}),w.jsx("span",{children:" "})]})]})]}),w.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-8",children:[w.jsxs("div",{className:"flex-[3] flex flex-col bg-white border border-paper-200 shadow-sm rounded-2xl overflow-hidden relative",children:[w.jsx("div",{className:"bg-paper-100/50 p-5 border-b border-paper-200",children:w.jsxs("h3",{className:"font-bold text-lg text-ink-800 flex items-center gap-2",children:[w.jsx("span",{className:"w-1.5 h-6 bg-accent-blue rounded-full block"}),"   (To-Do)"]})}),w.jsxs("div",{className:"p-6 flex-1 flex flex-col bg-paper-50 bg-opacity-30",children:[w.jsxs("form",{onSubmit:pe,noValidate:!0,className:"flex flex-col gap-3 mb-6",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsx("input",{type:"text",value:p,onChange:G=>g(G.target.value),placeholder:"   Enter ...",className:"flex-1 px-4 py-3 border border-paper-300 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-ink-400 focus:border-transparent placeholder-ink-400/50 transition-all font-medium"}),w.jsxs("button",{type:"submit",disabled:!p.trim(),className:"px-5 bg-ink-800 text-white font-bold rounded-xl hover:bg-ink-900 focus:ring-4 focus:ring-ink-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shrink-0",children:[w.jsx(pR,{size:18}),""]})]}),w.jsxs("div",{className:"flex items-center gap-4 px-1 py-1 bg-white/50 rounded-lg",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xs font-bold text-ink-500 bg-paper-200 px-2 py-1 rounded text-nowrap",children:""}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:"date",value:Me(Oe,"yyyy-MM-dd"),min:Me(r,"yyyy-MM-dd"),onChange:G=>G.target.value?b(Pl(G.target.value)):b(null),className:"text-sm font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 focus:border-ink-500 py-0.5"})})]}),w.jsx("div",{className:"w-px h-6 bg-paper-300"}),w.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto custom-scrollbar pb-1 pt-1",children:[w.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-ink-500 bg-paper-200 px-2 py-1 rounded text-nowrap shrink-0",children:[w.jsx(fR,{size:12})," "]}),w.jsx("div",{className:"flex gap-1.5 shrink-0",children:Ja.map(G=>w.jsx("button",{type:"button",onClick:()=>L(G.value),className:`w-6 h-6 rounded-full transition-all border-2 ${C===G.value?"border-ink-700 scale-110 shadow-sm":"border-transparent hover:scale-105"}`,style:{backgroundColor:G.value},title:G.name},G.value))})]}),w.jsx("div",{className:"w-px h-6 bg-paper-300"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xs font-bold text-ink-500 bg-paper-200 px-2 py-1 rounded text-nowrap",children:"()"}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("input",{type:"time",value:X,onChange:G=>W(G.target.value),onKeyDown:G=>{G.key==="Enter"&&G.preventDefault()},className:"text-xs font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 focus:border-ink-500 py-0.5 w-[65px]"}),w.jsx("span",{className:"text-ink-400 font-bold",children:"~"}),w.jsx("input",{type:"time",value:V,onChange:G=>K(G.target.value),onKeyDown:G=>{G.key==="Enter"&&G.preventDefault()},className:"text-xs font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 focus:border-ink-500 py-0.5 w-[65px]"})]})]})]})]}),w.jsx("div",{className:"flex-1 space-y-2 overflow-y-auto custom-scrollbar pr-2",children:$.length===0?w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-ink-400 opacity-60",children:[w.jsx("p",{className:"font-medium",children:"   ."}),w.jsx("p",{className:"text-sm mt-1",children:"     ."})]}):$.map(G=>j===G.id?w.jsxs("div",{className:"p-4 bg-paper-100/50 rounded-xl border border-paper-300 shadow-sm flex flex-col gap-3",children:[w.jsx("input",{type:"text",value:le,onChange:ae=>se(ae.target.value),className:"w-full px-3 py-2 border border-paper-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-ink-400 font-medium",autoFocus:!0}),w.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-[11px] font-bold text-ink-500 bg-paper-200 px-2 py-0.5 rounded text-nowrap",children:""}),w.jsx("input",{type:"date",value:ce?Me(ce,"yyyy-MM-dd"):Ne,min:Ne,onChange:ae=>ae.target.value?R(Pl(ae.target.value)):R(null),className:"text-xs font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 py-0.5"})]}),w.jsx("div",{className:"w-px h-4 bg-paper-300"}),w.jsx("div",{className:"flex gap-1.5 shrink-0",children:Ja.map(ae=>w.jsx("button",{type:"button",onClick:()=>x(ae.value),className:`w-5 h-5 rounded-full transition-all border-2 ${A===ae.value?"border-ink-700 scale-110":"border-transparent"}`,style:{backgroundColor:ae.value},title:ae.name},ae.value))}),w.jsx("div",{className:"w-px h-4 bg-paper-300"}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("input",{type:"time",value:M,onChange:ae=>D(ae.target.value),className:"text-xs font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 py-0.5 w-[65px]"}),w.jsx("span",{className:"text-ink-400 font-bold",children:"~"}),w.jsx("input",{type:"time",value:P,onChange:ae=>N(ae.target.value),className:"text-xs font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 py-0.5 w-[65px]"})]})]}),w.jsxs("div",{className:"flex justify-end gap-2 mt-1",children:[w.jsx("button",{onClick:ee,className:"px-3 py-1.5 text-xs font-bold text-ink-500 hover:bg-paper-200 rounded-lg transition-colors",children:""}),w.jsx("button",{onClick:()=>O(G.id),className:"px-3 py-1.5 text-xs font-bold text-white bg-ink-800 hover:bg-ink-900 rounded-lg transition-colors",children:""})]})]},G.id):w.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl transition-all border group
                                                ${G.isCompleted?"bg-paper-100/40 border-transparent text-ink-400/70":"bg-white border-paper-200/80 text-ink-800 hover:border-paper-300 hover:shadow-sm"}
                                            `,style:!G.isCompleted&&G.endDate&&G.endDate!==G.date?{borderLeftWidth:"6px",borderLeftColor:G.color}:{},children:[w.jsx("button",{onClick:()=>o(G.id),className:`w-6 h-6 rounded-md border flex items-center justify-center shrink-0 transition-colors
                                                    ${G.isCompleted?"bg-ink-400 border-ink-400 text-white":"border-paper-400 bg-paper-50 group-hover:border-paper-500"}
                                                `,children:G.isCompleted&&w.jsx(Bx,{size:14,strokeWidth:3})}),w.jsxs("div",{className:"flex-1 flex flex-col",children:[w.jsx("span",{className:`font-medium text-[15px] ${G.isCompleted?"line-through":""}`,children:G.text}),(G.startTime||G.endDate&&G.endDate!==G.date)&&w.jsxs("span",{className:"text-[11px] text-ink-500 mt-0.5 font-bold",children:[G.endDate&&G.endDate!==G.date?`${Me(Pl(G.date),"M/d")} ~ ${Me(Pl(G.endDate),"M/d")} `:"",G.startTime?`${G.startTime}${G.endTime?` - ${G.endTime}`:""}`:""]})]}),w.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("button",{onClick:()=>Ie(G),className:"p-2 text-ink-400 hover:text-accent-blue hover:bg-blue-50 rounded-lg transition-all",title:"",children:w.jsx(Kh,{size:16})}),w.jsx("button",{onClick:()=>u(G.id),className:"p-2 text-ink-400 hover:text-accent-red hover:bg-paper-100 rounded-lg transition-all",title:"",children:w.jsx(sE,{size:16})})]})]},G.id))})]})]}),w.jsx("div",{className:"flex-[2] flex flex-col",children:w.jsxs("div",{className:"flex-1 bg-white border border-paper-200 rounded-2xl flex flex-col relative shadow-sm overflow-hidden",children:[w.jsx("div",{className:"h-14 bg-[#c95151] opacity-5 border-b border-paper-200/50"}),w.jsxs("div",{className:"absolute top-4 left-6 right-6 flex items-center justify-between",children:[w.jsx("h3",{className:"font-extrabold text-[#c95151] font-serif tracking-wide text-sm opacity-80",children:"FREE NOTE"}),w.jsx("span",{className:"text-xs font-bold text-ink-400 font-serif",children:"No. 01"})]}),w.jsx("div",{className:"flex-1 p-6 pt-8 pr-4",children:w.jsx("textarea",{className:"w-full h-full bg-transparent resize-none focus:outline-none text-ink-700 font-serif",placeholder:"     .",style:{backgroundImage:"linear-gradient(transparent, transparent 31px, rgba(232, 229, 217, 0.7) 32px)",backgroundSize:"100% 32px",lineHeight:"32px",paddingTop:"2px"}})})]})})]})]})},MR=()=>{const{verifyPin:r}=Xt(),[e,n]=F.useState(""),[s,o]=F.useState(!1);F.useEffect(()=>{e.length===4&&(r(e)?n(""):(o(!0),setTimeout(()=>{n(""),o(!1)},500)))},[e,r]);const u=m=>{e.length<4&&n(p=>p+m)},f=()=>{n(m=>m.slice(0,-1))};return w.jsx("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-[var(--color-paper-50)] backdrop-blur-md",children:w.jsxs("div",{className:`flex flex-col items-center w-full max-w-sm px-6 ${s?"animate-shake":""}`,children:[w.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-6 text-accent-blue border border-paper-200",children:w.jsx(nR,{size:32})}),w.jsx("h1",{className:"text-2xl font-bold text-ink-900 mb-2",children:" "}),w.jsxs("p",{className:"text-ink-500 text-sm mb-10 text-center",children:["  (PIN) 4",w.jsx("br",{})," ."]}),w.jsx("div",{className:"flex gap-4 mb-12",children:[0,1,2,3].map(m=>w.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-200 ${m<e.length?s?"bg-accent-red":"bg-accent-blue scale-110":"bg-paper-200"}`},m))}),w.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full max-w-[240px]",children:[[1,2,3,4,5,6,7,8,9].map(m=>w.jsx("button",{onClick:()=>u(m),className:"w-16 h-16 rounded-full flex items-center justify-center text-2xl font-medium text-ink-800 bg-white shadow-sm hover:bg-paper-100 active:bg-paper-200 transition-colors border border-paper-200/50 focus:outline-none",children:m},m)),w.jsx("div",{className:"w-16 h-16"})," ",w.jsx("button",{onClick:()=>u(0),className:"w-16 h-16 rounded-full flex items-center justify-center text-2xl font-medium text-ink-800 bg-white shadow-sm hover:bg-paper-100 active:bg-paper-200 transition-colors border border-paper-200/50 focus:outline-none",children:"0"}),w.jsx("button",{onClick:f,className:"w-16 h-16 rounded-full flex items-center justify-center text-ink-600 hover:bg-paper-100 active:bg-paper-200 transition-colors focus:outline-none",children:w.jsx(Kx,{size:24})})]}),s&&w.jsx("p",{className:"text-accent-red text-sm font-bold mt-8 animate-pulse",children:"  ."})]})})},OR=({isOpen:r,onClose:e})=>{const{appPin:n,setAppPin:s,verifyPin:o}=Xt(),[u,f]=F.useState("none"),[m,p]=F.useState(""),[g,E]=F.useState(""),[b,C]=F.useState("");F.useEffect(()=>{r&&(p(""),E(""),C(""),f("none"))},[r]);const L=V=>{m.length<4&&p(K=>K+V)},X=()=>{p(V=>V.slice(0,-1))};if(F.useEffect(()=>{m.length===4&&(u==="verify_old"?o(m)?(p(""),s(null),alert("  ."),e()):(C("   ."),p("")):u==="enter_new"?(E(m),f("confirm_new"),p(""),C("")):u==="confirm_new"&&(m===g?(p(""),f("none"),s(g),alert("   ."),e()):(C("   .   ."),f("enter_new"),p(""),E(""))))},[m,u,g,o,s,e]),!r)return null;const W=()=>w.jsxs("div",{className:"flex flex-col items-center mt-6",children:[w.jsx("div",{className:"flex gap-4 mb-6",children:[0,1,2,3].map(V=>w.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${V<m.length?"bg-accent-blue scale-125":"bg-paper-200"}`},V))}),w.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[[1,2,3,4,5,6,7,8,9].map(V=>w.jsx("button",{onClick:()=>L(V),className:"w-14 h-14 rounded-full flex items-center justify-center text-xl font-medium text-ink-800 bg-paper-50 hover:bg-paper-100 active:bg-paper-200 transition-colors",children:V},V)),w.jsx("div",{className:"w-14 h-14"}),w.jsx("button",{onClick:()=>L(0),className:"w-14 h-14 rounded-full flex items-center justify-center text-xl font-medium text-ink-800 bg-paper-50 hover:bg-paper-100 active:bg-paper-200 transition-colors",children:"0"}),w.jsx("button",{onClick:X,className:"w-14 h-14 rounded-full flex items-center justify-center text-ink-500 hover:bg-paper-100 transition-colors text-sm font-bold",children:""})]}),b&&w.jsx("p",{className:"text-accent-red text-xs mt-4 font-bold animate-pulse",children:b})]});return w.jsx("div",{className:"fixed inset-0 z-[110] bg-ink-900/40 flex items-center justify-center p-4 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm overflow-hidden relative",children:[w.jsxs("div",{className:"bg-paper-50 px-5 py-4 flex items-center justify-between border-b border-paper-200",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[n?w.jsx(vR,{className:"text-accent-blue",size:20}):w.jsx(yR,{className:"text-ink-400",size:20}),w.jsx("h2",{className:"font-bold text-ink-800",children:"  (App Lock)"})]}),w.jsx("button",{onClick:e,className:"p-1 rounded-full text-ink-400 hover:bg-paper-200 transition-colors",children:w.jsx(AR,{size:20})})]}),w.jsx("div",{className:"px-6 py-6 pb-8",children:u==="none"?w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${n?"bg-blue-50 text-accent-blue":"bg-paper-100 text-ink-400"}`,children:w.jsx(rE,{size:32})}),w.jsx("h3",{className:"text-lg font-bold text-ink-900 mb-2",children:n?"   .":"    "}),w.jsx("p",{className:"text-sm text-ink-500 mb-8 max-w-[240px]",children:n?"     4   .":"        4 (PIN) ."}),n?w.jsx("button",{onClick:()=>f("verify_old"),className:"w-full py-3 rounded-xl bg-paper-100 text-ink-700 font-bold hover:bg-paper-200 transition-colors border border-paper-200",children:"  "}):w.jsx("button",{onClick:()=>f("enter_new"),className:"w-full py-3 rounded-xl bg-accent-blue text-white font-bold hover:bg-blue-600 transition-colors shadow-sm",children:"  "})]}):w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("h3",{className:"text-lg font-bold text-ink-900 mb-1",children:[u==="verify_old"&&"  ",u==="enter_new"&&"  4",u==="confirm_new"&&" "]}),w.jsxs("p",{className:"text-xs text-ink-500",children:[u==="verify_old"&&"    .",u==="enter_new"&&" 4  .",u==="confirm_new"&&"     ."]}),W()]})})]})})},kR=()=>{};var ev={};const oE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},VR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},lE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let C=(m&15)<<2|g>>6,L=g&63;p||(L=64,f||(C=64)),s.push(n[E],n[b],n[C],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(oE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):VR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new PR;const C=u<<2|m>>4;if(s.push(C),g!==64){const L=m<<4&240|g>>2;if(s.push(L),b!==64){const X=g<<6&192|b;s.push(X)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class PR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LR=function(r){const e=oE(r);return lE.encodeByteArray(e,!0)},Sh=function(r){return LR(r).replace(/\./g,"")},uE=function(r){try{return lE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const jR=()=>UR().__FIREBASE_DEFAULTS__,zR=()=>{if(typeof process>"u"||typeof ev>"u")return;const r=ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},BR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&uE(r[1]);return e&&JSON.parse(e)},Wh=()=>{try{return kR()||jR()||zR()||BR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},cE=r=>Wh()?.emulatorHosts?.[r],HR=r=>{const e=cE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},hE=()=>Wh()?.config,fE=r=>Wh()?.[`_${r}`];class qR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function dE(r){return(await fetch(r,{credentials:"include"})).ok}function FR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const Fl={};function GR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?r.emulator.push(e):r.prod.push(e);return r}function YR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let tv=!1;function mE(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Fl[r]===e||Fl[r]||tv)return;Fl[r]=e;function n(C){return`__firebase__banner__${C}`}const s="__firebase__banner",u=GR().prod.length>0;function f(){const C=document.getElementById(s);C&&C.remove()}function m(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,L){C.setAttribute("width","24"),C.setAttribute("id",L),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function g(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{tv=!0,f()},C}function E(C,L){C.setAttribute("id",L),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function b(){const C=YR(s),L=n("text"),X=document.getElementById(L)||document.createElement("span"),W=n("learnmore"),V=document.getElementById(W)||document.createElement("a"),K=n("preprendIcon"),j=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const J=C.element;m(J),E(V,W);const le=g();p(j,K),J.append(j,X,V,le),document.body.appendChild(J)}u?(X.innerText="Preview backend disconnected.",j.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(j.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,X.innerText="Preview backend running in this workspace."),X.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $R(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function QR(){const r=Wh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function WR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JR(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function ZR(){return!QR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eC(){try{return typeof indexedDB=="object"}catch{return!1}}function tC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const nC="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nC,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?iC(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pr(o,m,s)}}function iC(r,e){return r.replace(rC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rC=/\{\$([^}]+)}/g;function sC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Xs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(nv(u)&&nv(f)){if(!Xs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}function fu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function aC(r,e){const n=new oC(r,e);return n.subscribe.bind(n)}class oC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Am),o.error===void 0&&(o.error=Am),o.complete===void 0&&(o.complete=Am);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Am(){}function xn(r){return r&&r._delegate?r._delegate:r}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Fs="[DEFAULT]";class uC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hC(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cC(r){return r===Fs?void 0:r}function hC(r){return r.instantiationMode==="EAGER"}class fC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const dC={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},mC=je.INFO,pC={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},gC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=pC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class bp{constructor(e){this.name=e,this._logLevel=mC,this._logHandler=gC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const yC=(r,e)=>e.some(n=>r instanceof n);let iv,rv;function _C(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,Hm=new WeakMap,gE=new WeakMap,xm=new WeakMap,Tp=new WeakMap;function EC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ts(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&pE.set(n,r)}).catch(()=>{}),Tp.set(e,r),e}function bC(r){if(Hm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Hm.set(r,e)}let qm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Hm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||gE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ts(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TC(r){qm=r(qm)}function SC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Rm(this),e,...n);return gE.set(s,e.sort?e.sort():[e]),ts(s)}:vC().includes(r)?function(...e){return r.apply(Rm(this),e),ts(pE.get(this))}:function(...e){return ts(r.apply(Rm(this),e))}}function wC(r){return typeof r=="function"?SC(r):(r instanceof IDBTransaction&&bC(r),yC(r,_C())?new Proxy(r,qm):r)}function ts(r){if(r instanceof IDBRequest)return EC(r);if(xm.has(r))return xm.get(r);const e=wC(r);return e!==r&&(xm.set(r,e),Tp.set(e,r)),e}const Rm=r=>Tp.get(r);function AC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ts(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ts(f.result),p.oldVersion,p.newVersion,ts(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const xC=["get","getKey","getAll","getAllKeys","count"],RC=["put","add","delete","clear"],Cm=new Map;function sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||xC.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Cm.set(e,u),u}TC(r=>({...r,get:(e,n,s)=>sv(e,n)||r.get(e,n,s),has:(e,n)=>!!sv(e,n)||r.has(e,n)}));class CC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function NC(r){return r.getComponent()?.type==="VERSION"}const Fm="@firebase/app",av="0.14.8";const cr=new bp("@firebase/app"),IC="@firebase/app-compat",DC="@firebase/analytics-compat",MC="@firebase/analytics",OC="@firebase/app-check-compat",kC="@firebase/app-check",VC="@firebase/auth",PC="@firebase/auth-compat",LC="@firebase/database",UC="@firebase/data-connect",jC="@firebase/database-compat",zC="@firebase/functions",BC="@firebase/functions-compat",HC="@firebase/installations",qC="@firebase/installations-compat",FC="@firebase/messaging",GC="@firebase/messaging-compat",YC="@firebase/performance",$C="@firebase/performance-compat",QC="@firebase/remote-config",KC="@firebase/remote-config-compat",XC="@firebase/storage",WC="@firebase/storage-compat",JC="@firebase/firestore",ZC="@firebase/ai",eN="@firebase/firestore-compat",tN="firebase",nN="12.9.0";const Gm="[DEFAULT]",iN={[Fm]:"fire-core",[IC]:"fire-core-compat",[MC]:"fire-analytics",[DC]:"fire-analytics-compat",[kC]:"fire-app-check",[OC]:"fire-app-check-compat",[VC]:"fire-auth",[PC]:"fire-auth-compat",[LC]:"fire-rtdb",[UC]:"fire-data-connect",[jC]:"fire-rtdb-compat",[zC]:"fire-fn",[BC]:"fire-fn-compat",[HC]:"fire-iid",[qC]:"fire-iid-compat",[FC]:"fire-fcm",[GC]:"fire-fcm-compat",[YC]:"fire-perf",[$C]:"fire-perf-compat",[QC]:"fire-rc",[KC]:"fire-rc-compat",[XC]:"fire-gcs",[WC]:"fire-gcs-compat",[JC]:"fire-fst",[eN]:"fire-fst-compat",[ZC]:"fire-vertex","fire-js":"fire-js",[tN]:"fire-js-all"};const wh=new Map,rN=new Map,Ym=new Map;function ov(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if(Ym.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Ym.set(e,r);for(const n of wh.values())ov(n,r);for(const n of rN.values())ov(n,r);return!0}function Sp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ti(r){return r==null?!1:r.settings!==void 0}const sN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new hu("app","Firebase",sN);class aN{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}const bo=nN;function yE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Gm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(n||(n=hE()),!n)throw ns.create("no-options");const u=wh.get(o);if(u){if(Xs(n,u.options)&&Xs(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const f=new fC(o);for(const p of Ym.values())f.addComponent(p);const m=new aN(n,s,f);return wh.set(o,m),m}function _E(r=Gm){const e=wh.get(r);if(!e&&r===Gm&&hE())return yE();if(!e)throw ns.create("no-app",{appName:r});return e}function is(r,e,n){let s=iN[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(f.join(" "));return}ho(new Ws(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const oN="firebase-heartbeat-database",lN=1,Wl="firebase-heartbeat-store";let Nm=null;function vE(){return Nm||(Nm=AC(oN,lN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),Nm}async function uN(r){try{const n=(await vE()).transaction(Wl),s=await n.objectStore(Wl).get(EE(r));return await n.done,s}catch(e){if(e instanceof pr)cr.warn(e.message);else{const n=ns.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function lv(r,e){try{const s=(await vE()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,EE(r)),await s.done}catch(n){if(n instanceof pr)cr.warn(n.message);else{const s=ns.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function EE(r){return`${r.name}!${r.options.appId}`}const cN=1024,hN=30;class fN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>hN){const o=pN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uv(),{heartbeatsToSend:n,unsentEntries:s}=dN(this._heartbeatsCache.heartbeats),o=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cr.warn(e),""}}}function uv(){return new Date().toISOString().substring(0,10)}function dN(r,e=cN){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),cv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),cv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class mN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eC()?tC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await uN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return lv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cv(r){return Sh(JSON.stringify({version:2,heartbeats:r})).length}function pN(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function gN(r){ho(new Ws("platform-logger",e=>new CC(e),"PRIVATE")),ho(new Ws("heartbeat",e=>new fN(e),"PRIVATE")),is(Fm,av,r),is(Fm,av,"esm2020"),is("fire-js","")}gN("");function bE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yN=bE,TE=new hu("auth","Firebase",bE());const Ah=new bp("@firebase/auth");function _N(r,...e){Ah.logLevel<=je.WARN&&Ah.warn(`Auth (${bo}): ${r}`,...e)}function oh(r,...e){Ah.logLevel<=je.ERROR&&Ah.error(`Auth (${bo}): ${r}`,...e)}function Vi(r,...e){throw Ap(r,...e)}function si(r,...e){return Ap(r,...e)}function wp(r,e,n){const s={...yN(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:r.name})}function $s(r){return wp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vN(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Vi(r,"argument-error"),wp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ap(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return TE.create(r,...e)}function Te(r,e,...n){if(!r)throw Ap(e,...n)}function sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function hr(r,e){r||sr(e)}function $m(){return typeof self<"u"&&self.location?.href||""}function EN(){return hv()==="http:"||hv()==="https:"}function hv(){return typeof self<"u"&&self.location?.protocol||null}function bN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(EN()||XR()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=$R()||WR()}get(){return bN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function xp(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class SE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const SN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AN=new du(3e4,6e4);function Rp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function To(r,e,n,s,o={}){return wE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return KR()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),SE.fetch()(await AE(r,r.config.apiHost,n,m),g)})}async function wE(r,e,n){r._canInitEmulator=!1;const s={...SN,...e};try{const o=new RN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw wp(r,E,g);Vi(r,E)}}catch(o){if(o instanceof pr)throw o;Vi(r,"network-request-failed",{message:String(o)})}}async function xN(r,e,n,s,o={}){const u=await To(r,e,n,s,o);return"mfaPendingCredential"in u&&Vi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function AE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?xp(r.config,o):`${r.config.apiScheme}://${o}`;return wN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class RN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(si(this.auth,"network-request-failed")),AN.get())})}}function Zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=si(r,e,s);return o.customData._tokenResponse=n,o}async function CN(r,e){return To(r,"POST","/v1/accounts:delete",e)}async function xh(r,e){return To(r,"POST","/v1/accounts:lookup",e)}function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NN(r,e=!1){const n=xn(r),s=await n.getIdToken(e),o=Cp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(Im(o.auth_time)),issuedAtTime:Gl(Im(o.iat)),expirationTime:Gl(Im(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Im(r){return Number(r)*1e3}function Cp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=uE(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function fv(r){const e=Cp(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&IN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function IN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class DN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Rh(r){const e=r.auth,n=await r.getIdToken(),s=await Jl(r,xh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?xE(o.providerUserInfo):[],f=ON(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function MN(r){const e=xn(r);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ON(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function xE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function kN(r,e){const n=await wE(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await AE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),SE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VN(r,e){return To(r,"POST","/v2/accounts:revokeToken",Rp(r,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=fv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await kN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ro;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Xr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new DN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Qm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return NN(this,e)}reload(){return MN(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject($s(this.auth));const e=await this.getIdToken();return await Jl(this,CN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:C,isAnonymous:L,providerData:X,stsTokenManager:W}=n;Te(b&&W,e,"internal-error");const V=ro.fromJSON(this.name,W);Te(typeof b=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),Te(typeof C=="boolean",e,"internal-error"),Te(typeof L=="boolean",e,"internal-error"),Xr(u,e.name),Xr(f,e.name),Xr(m,e.name),Xr(p,e.name),Xr(g,e.name),Xr(E,e.name);const K=new ii({uid:b,auth:e,email:o,emailVerified:C,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:g,lastLoginAt:E});return X&&Array.isArray(X)&&(K.providerData=X.map(j=>({...j}))),p&&(K._redirectEventId=p),K}static async _fromIdTokenResponse(e,n,s=!1){const o=new ro;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ro;m.updateFromIdToken(s);const p=new ii({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const dv=new Map;function ar(r){hr(r instanceof Function,"Expected a class definition");let e=dv.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,dv.set(r,e),e)}class RE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RE.type="NONE";const mv=RE;function lh(r,e,n){return`firebase:${r}:${e}:${n}`}class so{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new so(ar(mv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ar(mv);const f=lh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const C=await xh(e,{idToken:E}).catch(()=>{});if(!C)break;b=await ii._fromGetAccountInfoResponse(e,C,E)}else b=ii._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new so(u,e,s))}}function pv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OE(e))return"Blackberry";if(kE(e))return"Webos";if(NE(e))return"Safari";if((e.includes("chrome/")||IE(e))&&!e.includes("edge/"))return"Chrome";if(ME(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function CE(r=rn()){return/firefox\//i.test(r)}function NE(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IE(r=rn()){return/crios\//i.test(r)}function DE(r=rn()){return/iemobile/i.test(r)}function ME(r=rn()){return/android/i.test(r)}function OE(r=rn()){return/blackberry/i.test(r)}function kE(r=rn()){return/webos/i.test(r)}function Np(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function PN(r=rn()){return Np(r)&&!!window.navigator?.standalone}function LN(){return JR()&&document.documentMode===10}function VE(r=rn()){return Np(r)||ME(r)||kE(r)||OE(r)||/windows phone/i.test(r)||DE(r)}function PE(r,e=[]){let n;switch(r){case"Browser":n=pv(rn());break;case"Worker":n=`${pv(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class UN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function jN(r,e={}){return To(r,"GET","/v2/passwordPolicy",Rp(r,e))}const zN=6;class BN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class HN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new UN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ti(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ti(this.app))return Promise.reject($s(this));const n=e?xn(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ti(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jN(this),n=new BN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await VN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&_N(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Jh(r){return xn(r)}class gv{constructor(e){this.auth=e,this.observer=null,this.addObserver=aC(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ip={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qN(r){Ip=r}function FN(r){return Ip.loadJS(r)}function GN(){return Ip.gapiScript}function YN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function $N(r,e){const n=Sp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Xs(u,e??{}))return o;Vi(o,"already-initialized")}return n.initialize({options:e})}function QN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function KN(r,e,n){const s=Jh(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=LE(e),{host:f,port:m}=XN(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Xs(g,s.config.emulator)&&Xs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(dE(`${u}//${f}${p}`),mE("Auth",!0)):WN()}function LE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function XN(r){const e=LE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:yv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:yv(f)}}}function yv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function WN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class UE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function ao(r,e){return xN(r,"POST","/v1/accounts:signInWithIdp",Rp(r,e))}const JN="http://localhost";class Js extends UE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:JN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}class Dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends Dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Wr extends mu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Wr.PROVIDER_ID="facebook.com";class rr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rr.credential(n,s)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class Jr extends mu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";class Zr extends mu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),f=_v(s);return new fo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_v(s);return new fo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _v(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Ch extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ch(e,n,s,o)}}function jE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,e,s):u})}async function ZN(r,e,n=!1){const s=await Jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return fo._forOperation(r,"link",s)}async function eI(r,e,n=!1){const{auth:s}=r;if(ti(s.app))return Promise.reject($s(s));const o="reauthenticate";try{const u=await Jl(r,jE(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=Cp(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(r.uid===m,s,"user-mismatch"),fo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Vi(s,"user-mismatch"),u}}async function tI(r,e,n=!1){if(ti(r.app))return Promise.reject($s(r));const s="signIn",o=await jE(r,s,e),u=await fo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function nI(r,e,n,s){return xn(r).onIdTokenChanged(e,n,s)}function iI(r,e,n){return xn(r).beforeAuthStateChanged(e,n)}function rI(r,e,n,s){return xn(r).onAuthStateChanged(e,n,s)}function sI(r){return xn(r).signOut()}const Nh="__sak";class zE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const aI=1e3,oI=10;class BE extends zE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=VE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);LN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,oI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},aI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BE.type="LOCAL";const lI=BE;class HE extends zE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}HE.type="SESSION";const qE=HE;function uI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await uI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];function Mp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class cI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Mp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const C=b;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Di(){return window}function hI(r){Di().location.href=r}function FE(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function fI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dI(){return navigator?.serviceWorker?.controller||null}function mI(){return FE()?self:null}const GE="firebaseLocalStorageDb",pI=1,Ih="firebaseLocalStorage",YE="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ef(r,e){return r.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function gI(){const r=indexedDB.deleteDatabase(GE);return new pu(r).toPromise()}function Km(){const r=indexedDB.open(GE,pI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ih,{keyPath:YE})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ih)?e(s):(s.close(),await gI(),e(await Km()))})})}async function vv(r,e,n){const s=ef(r,!0).put({[YE]:e,value:n});return new pu(s).toPromise()}async function yI(r,e){const n=ef(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function Ev(r,e){const n=ef(r,!0).delete(e);return new pu(n).toPromise()}const _I=800,vI=3;class $E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>vI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return FE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(mI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fI(),!this.activeServiceWorker)return;this.sender=new cI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Km();return await vv(e,Nh,"1"),await Ev(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>vv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>yI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Ev(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ef(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$E.type="LOCAL";const EI=$E;new du(3e4,6e4);function QE(r,e){return e?ar(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Op extends UE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bI(r){return tI(r.auth,new Op(r),r.bypassAuthState)}function TI(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),eI(n,new Op(r),r.bypassAuthState)}async function SI(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),ZN(n,new Op(r),r.bypassAuthState)}class KE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bI;case"linkViaPopup":case"linkViaRedirect":return SI;case"reauthViaPopup":case"reauthViaRedirect":return TI;default:Vi(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wI=new du(2e3,1e4);async function AI(r,e,n){if(ti(r.app))return Promise.reject(si(r,"operation-not-supported-in-this-environment"));const s=Jh(r);vN(r,e,Dp);const o=QE(s,n);return new Gs(s,"signInViaPopup",e,o).executeNotNull()}class Gs extends KE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wI.get())};e()}}Gs.currentPopupAction=null;const xI="pendingRedirect",uh=new Map;class RI extends KE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await CI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CI(r,e){const n=DI(e),s=II(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function NI(r,e){uh.set(r._key(),e)}function II(r){return ar(r._redirectPersistence)}function DI(r){return lh(xI,r.config.apiKey,r.name)}async function MI(r,e,n=!1){if(ti(r.app))return Promise.reject($s(r));const s=Jh(r),o=QE(s,e),f=await new RI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const OI=600*1e3;class kI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!XE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(si(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OI&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function XE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function VI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XE(r);default:return!1}}async function PI(r,e={}){return To(r,"GET","/v1/projects",e)}const LI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UI=/^https?/;async function jI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await PI(r);for(const n of e)try{if(zI(n))return}catch{}Vi(r,"unauthorized-domain")}function zI(r){const e=$m(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!UI.test(n))return!1;if(LI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const BI=new du(3e4,6e4);function Tv(){const r=Di().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function HI(r){return new Promise((e,n)=>{function s(){Tv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tv(),n(si(r,"network-request-failed"))},timeout:BI.get()})}if(Di().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Di().gapi?.load)s();else{const o=YN("iframefcb");return Di()[o]=()=>{gapi.load?s():n(si(r,"network-request-failed"))},FN(`${GN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw ch=null,e})}let ch=null;function qI(r){return ch=ch||HI(r),ch}const FI=new du(5e3,15e3),GI="__/auth/iframe",YI="emulator/auth/iframe",$I={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KI(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?xp(e,YI):`https://${r.config.authDomain}/${GI}`,s={apiKey:e.apiKey,appName:r.name,v:bo},o=QI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function XI(r){const e=await qI(r),n=Di().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:KI(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$I,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=si(r,"network-request-failed"),m=Di().setTimeout(()=>{u(f)},FI.get());function p(){Di().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const WI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JI=500,ZI=600,eD="_blank",tD="http://localhost";class Sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nD(r,e,n,s=JI,o=ZI){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...WI,width:s.toString(),height:o.toString(),top:u,left:f},g=rn().toLowerCase();n&&(m=IE(g)?eD:n),CE(g)&&(e=e||tD,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[L,X])=>`${C}${L}=${X},`,"");if(PN(g)&&m!=="_self")return iD(e||"",m),new Sv(null);const b=window.open(e||"",m,E);Te(b,r,"popup-blocked");try{b.focus()}catch{}return new Sv(b)}function iD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const rD="__/auth/handler",sD="emulator/auth/handler",aD=encodeURIComponent("fac");async function wv(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bo,eventId:o};if(e instanceof Dp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",sC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof mu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${aD}=${encodeURIComponent(p)}`:"";return`${oD(r)}?${fu(m).slice(1)}${g}`}function oD({config:r}){return r.emulator?xp(r,sD):`https://${r.authDomain}/${rD}`}const Dm="webStorageSupport";class lD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qE,this._completeRedirectFn=MI,this._overrideRedirectResult=NI}async _openPopup(e,n,s,o){hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await wv(e,n,s,$m(),o);return nD(e,u,Mp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await wv(e,n,s,$m(),o);return hI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await XI(e),s=new kI(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},o=>{const u=o?.[0]?.[Dm];u!==void 0&&n(!!u),Vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return VE()||NE()||Np()}}const uD=lD;var Av="@firebase/auth",xv="1.12.0";class cD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function hD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fD(r){ho(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PE(r)},g=new HN(s,o,u,p);return QN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new Ws("auth-internal",e=>{const n=Jh(e.getProvider("auth").getImmediate());return(s=>new cD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),is(Av,xv,hD(r)),is(Av,xv,"esm2020")}const dD=300,mD=fE("authIdTokenMaxAge")||dD;let Rv=null;const pD=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>mD)return;const o=n?.token;Rv!==o&&(Rv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gD(r=_E()){const e=Sp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=$N(r,{popupRedirectResolver:uD,persistence:[EI,lI,qE]}),s=fE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=pD(u.toString());iI(n,f,()=>f(n.currentUser)),nI(n,m=>f(m))}}const o=cE("auth");return o&&KN(n,`http://${o}`),n}function yD(){return document.getElementsByTagName("head")?.[0]??document}qN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=si("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",yD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fD("Browser");var _D="firebase",vD="12.9.0";is(_D,vD,"app");var Cv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var rs,WE;(function(){var r;function e(R,A){function x(){}x.prototype=A.prototype,R.F=A.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(M,D,P){for(var N=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)N[Oe-2]=arguments[Oe];return A.prototype[D].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,x){x||(x=0);const M=Array(16);if(typeof A=="string")for(var D=0;D<16;++D)M[D]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(D=0;D<16;++D)M[D]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=R.g[0],x=R.g[1],D=R.g[2];let P=R.g[3],N;N=A+(P^x&(D^P))+M[0]+3614090360&4294967295,A=x+(N<<7&4294967295|N>>>25),N=P+(D^A&(x^D))+M[1]+3905402710&4294967295,P=A+(N<<12&4294967295|N>>>20),N=D+(x^P&(A^x))+M[2]+606105819&4294967295,D=P+(N<<17&4294967295|N>>>15),N=x+(A^D&(P^A))+M[3]+3250441966&4294967295,x=D+(N<<22&4294967295|N>>>10),N=A+(P^x&(D^P))+M[4]+4118548399&4294967295,A=x+(N<<7&4294967295|N>>>25),N=P+(D^A&(x^D))+M[5]+1200080426&4294967295,P=A+(N<<12&4294967295|N>>>20),N=D+(x^P&(A^x))+M[6]+2821735955&4294967295,D=P+(N<<17&4294967295|N>>>15),N=x+(A^D&(P^A))+M[7]+4249261313&4294967295,x=D+(N<<22&4294967295|N>>>10),N=A+(P^x&(D^P))+M[8]+1770035416&4294967295,A=x+(N<<7&4294967295|N>>>25),N=P+(D^A&(x^D))+M[9]+2336552879&4294967295,P=A+(N<<12&4294967295|N>>>20),N=D+(x^P&(A^x))+M[10]+4294925233&4294967295,D=P+(N<<17&4294967295|N>>>15),N=x+(A^D&(P^A))+M[11]+2304563134&4294967295,x=D+(N<<22&4294967295|N>>>10),N=A+(P^x&(D^P))+M[12]+1804603682&4294967295,A=x+(N<<7&4294967295|N>>>25),N=P+(D^A&(x^D))+M[13]+4254626195&4294967295,P=A+(N<<12&4294967295|N>>>20),N=D+(x^P&(A^x))+M[14]+2792965006&4294967295,D=P+(N<<17&4294967295|N>>>15),N=x+(A^D&(P^A))+M[15]+1236535329&4294967295,x=D+(N<<22&4294967295|N>>>10),N=A+(D^P&(x^D))+M[1]+4129170786&4294967295,A=x+(N<<5&4294967295|N>>>27),N=P+(x^D&(A^x))+M[6]+3225465664&4294967295,P=A+(N<<9&4294967295|N>>>23),N=D+(A^x&(P^A))+M[11]+643717713&4294967295,D=P+(N<<14&4294967295|N>>>18),N=x+(P^A&(D^P))+M[0]+3921069994&4294967295,x=D+(N<<20&4294967295|N>>>12),N=A+(D^P&(x^D))+M[5]+3593408605&4294967295,A=x+(N<<5&4294967295|N>>>27),N=P+(x^D&(A^x))+M[10]+38016083&4294967295,P=A+(N<<9&4294967295|N>>>23),N=D+(A^x&(P^A))+M[15]+3634488961&4294967295,D=P+(N<<14&4294967295|N>>>18),N=x+(P^A&(D^P))+M[4]+3889429448&4294967295,x=D+(N<<20&4294967295|N>>>12),N=A+(D^P&(x^D))+M[9]+568446438&4294967295,A=x+(N<<5&4294967295|N>>>27),N=P+(x^D&(A^x))+M[14]+3275163606&4294967295,P=A+(N<<9&4294967295|N>>>23),N=D+(A^x&(P^A))+M[3]+4107603335&4294967295,D=P+(N<<14&4294967295|N>>>18),N=x+(P^A&(D^P))+M[8]+1163531501&4294967295,x=D+(N<<20&4294967295|N>>>12),N=A+(D^P&(x^D))+M[13]+2850285829&4294967295,A=x+(N<<5&4294967295|N>>>27),N=P+(x^D&(A^x))+M[2]+4243563512&4294967295,P=A+(N<<9&4294967295|N>>>23),N=D+(A^x&(P^A))+M[7]+1735328473&4294967295,D=P+(N<<14&4294967295|N>>>18),N=x+(P^A&(D^P))+M[12]+2368359562&4294967295,x=D+(N<<20&4294967295|N>>>12),N=A+(x^D^P)+M[5]+4294588738&4294967295,A=x+(N<<4&4294967295|N>>>28),N=P+(A^x^D)+M[8]+2272392833&4294967295,P=A+(N<<11&4294967295|N>>>21),N=D+(P^A^x)+M[11]+1839030562&4294967295,D=P+(N<<16&4294967295|N>>>16),N=x+(D^P^A)+M[14]+4259657740&4294967295,x=D+(N<<23&4294967295|N>>>9),N=A+(x^D^P)+M[1]+2763975236&4294967295,A=x+(N<<4&4294967295|N>>>28),N=P+(A^x^D)+M[4]+1272893353&4294967295,P=A+(N<<11&4294967295|N>>>21),N=D+(P^A^x)+M[7]+4139469664&4294967295,D=P+(N<<16&4294967295|N>>>16),N=x+(D^P^A)+M[10]+3200236656&4294967295,x=D+(N<<23&4294967295|N>>>9),N=A+(x^D^P)+M[13]+681279174&4294967295,A=x+(N<<4&4294967295|N>>>28),N=P+(A^x^D)+M[0]+3936430074&4294967295,P=A+(N<<11&4294967295|N>>>21),N=D+(P^A^x)+M[3]+3572445317&4294967295,D=P+(N<<16&4294967295|N>>>16),N=x+(D^P^A)+M[6]+76029189&4294967295,x=D+(N<<23&4294967295|N>>>9),N=A+(x^D^P)+M[9]+3654602809&4294967295,A=x+(N<<4&4294967295|N>>>28),N=P+(A^x^D)+M[12]+3873151461&4294967295,P=A+(N<<11&4294967295|N>>>21),N=D+(P^A^x)+M[15]+530742520&4294967295,D=P+(N<<16&4294967295|N>>>16),N=x+(D^P^A)+M[2]+3299628645&4294967295,x=D+(N<<23&4294967295|N>>>9),N=A+(D^(x|~P))+M[0]+4096336452&4294967295,A=x+(N<<6&4294967295|N>>>26),N=P+(x^(A|~D))+M[7]+1126891415&4294967295,P=A+(N<<10&4294967295|N>>>22),N=D+(A^(P|~x))+M[14]+2878612391&4294967295,D=P+(N<<15&4294967295|N>>>17),N=x+(P^(D|~A))+M[5]+4237533241&4294967295,x=D+(N<<21&4294967295|N>>>11),N=A+(D^(x|~P))+M[12]+1700485571&4294967295,A=x+(N<<6&4294967295|N>>>26),N=P+(x^(A|~D))+M[3]+2399980690&4294967295,P=A+(N<<10&4294967295|N>>>22),N=D+(A^(P|~x))+M[10]+4293915773&4294967295,D=P+(N<<15&4294967295|N>>>17),N=x+(P^(D|~A))+M[1]+2240044497&4294967295,x=D+(N<<21&4294967295|N>>>11),N=A+(D^(x|~P))+M[8]+1873313359&4294967295,A=x+(N<<6&4294967295|N>>>26),N=P+(x^(A|~D))+M[15]+4264355552&4294967295,P=A+(N<<10&4294967295|N>>>22),N=D+(A^(P|~x))+M[6]+2734768916&4294967295,D=P+(N<<15&4294967295|N>>>17),N=x+(P^(D|~A))+M[13]+1309151649&4294967295,x=D+(N<<21&4294967295|N>>>11),N=A+(D^(x|~P))+M[4]+4149444226&4294967295,A=x+(N<<6&4294967295|N>>>26),N=P+(x^(A|~D))+M[11]+3174756917&4294967295,P=A+(N<<10&4294967295|N>>>22),N=D+(A^(P|~x))+M[2]+718787259&4294967295,D=P+(N<<15&4294967295|N>>>17),N=x+(P^(D|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+D&4294967295,R.g[3]=R.g[3]+P&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const x=A-this.blockSize,M=this.C;let D=this.h,P=0;for(;P<A;){if(D==0)for(;P<=x;)o(this,R,P),P+=this.blockSize;if(typeof R=="string"){for(;P<A;)if(M[D++]=R.charCodeAt(P++),D==this.blockSize){o(this,M),D=0;break}}else for(;P<A;)if(M[D++]=R[P++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)R[A++]=this.g[x]>>>M&255;return R};function u(R,A){var x=m;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=A(R)}function f(R,A){this.h=A;const x=[];let M=!0;for(let D=R.length-1;D>=0;D--){const P=R[D]|0;M&&P==A||(x[D]=P,M=!1)}this.g=x}var m={};function p(R){return-128<=R&&R<128?u(R,function(A){return new f([A|0],A<0?-1:0)}):new f([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return b;if(R<0)return V(g(-R));const A=[];let x=1;for(let M=0;R>=x;M++)A[M]=R/x|0,x*=4294967296;return new f(A,0)}function E(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return V(E(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(A,8));let M=b;for(let P=0;P<R.length;P+=8){var D=Math.min(8,R.length-P);const N=parseInt(R.substring(P,P+D),A);D<8?(D=g(Math.pow(A,D)),M=M.j(D).add(g(N))):(M=M.j(x),M=M.add(g(N)))}return M}var b=p(0),C=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(W(this))return-V(this).m();let R=0,A=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);R+=(M>=0?M:4294967296+M)*A,A*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(X(this))return"0";if(W(this))return"-"+V(this).toString(R);const A=g(Math.pow(R,6));var x=this;let M="";for(;;){const D=le(x,A).g;x=K(x,D.j(A));let P=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=D,X(x))return P+M;for(;P.length<6;)P="0"+P;M=P+M}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function X(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function W(R){return R.h==-1}r.l=function(R){return R=K(this,R),W(R)?-1:X(R)?0:1};function V(R){const A=R.g.length,x=[];for(let M=0;M<A;M++)x[M]=~R.g[M];return new f(x,~R.h).add(C)}r.abs=function(){return W(this)?V(this):this},r.add=function(R){const A=Math.max(this.g.length,R.g.length),x=[];let M=0;for(let D=0;D<=A;D++){let P=M+(this.i(D)&65535)+(R.i(D)&65535),N=(P>>>16)+(this.i(D)>>>16)+(R.i(D)>>>16);M=N>>>16,P&=65535,N&=65535,x[D]=N<<16|P}return new f(x,x[x.length-1]&-2147483648?-1:0)};function K(R,A){return R.add(V(A))}r.j=function(R){if(X(this)||X(R))return b;if(W(this))return W(R)?V(this).j(V(R)):V(V(this).j(R));if(W(R))return V(this.j(V(R)));if(this.l(L)<0&&R.l(L)<0)return g(this.m()*R.m());const A=this.g.length+R.g.length,x=[];for(var M=0;M<2*A;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<R.g.length;D++){const P=this.i(M)>>>16,N=this.i(M)&65535,Oe=R.i(D)>>>16,Ne=R.i(D)&65535;x[2*M+2*D]+=N*Ne,j(x,2*M+2*D),x[2*M+2*D+1]+=P*Ne,j(x,2*M+2*D+1),x[2*M+2*D+1]+=N*Oe,j(x,2*M+2*D+1),x[2*M+2*D+2]+=P*Oe,j(x,2*M+2*D+2)}for(R=0;R<A;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=A;R<2*A;R++)x[R]=0;return new f(x,0)};function j(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function J(R,A){this.g=R,this.h=A}function le(R,A){if(X(A))throw Error("division by zero");if(X(R))return new J(b,b);if(W(R))return A=le(V(R),A),new J(V(A.g),V(A.h));if(W(A))return A=le(R,V(A)),new J(V(A.g),A.h);if(R.g.length>30){if(W(R)||W(A))throw Error("slowDivide_ only works with positive integers.");for(var x=C,M=A;M.l(R)<=0;)x=se(x),M=se(M);var D=ce(x,1),P=ce(M,1);for(M=ce(M,2),x=ce(x,2);!X(M);){var N=P.add(M);N.l(R)<=0&&(D=D.add(x),P=N),M=ce(M,1),x=ce(x,1)}return A=K(R,D.j(A)),new J(D,A)}for(D=b;R.l(A)>=0;){for(x=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),P=g(x),N=P.j(A);W(N)||N.l(R)>0;)x-=M,P=g(x),N=P.j(A);X(P)&&(P=C),D=D.add(P),R=K(R,N)}return new J(D,R)}r.B=function(R){return le(this,R).h},r.and=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)&R.i(M);return new f(x,this.h&R.h)},r.or=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)|R.i(M);return new f(x,this.h|R.h)},r.xor=function(R){const A=Math.max(this.g.length,R.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)^R.i(M);return new f(x,this.h^R.h)};function se(R){const A=R.g.length+1,x=[];for(let M=0;M<A;M++)x[M]=R.i(M)<<1|R.i(M-1)>>>31;return new f(x,R.h)}function ce(R,A){const x=A>>5;A%=32;const M=R.g.length-x,D=[];for(let P=0;P<M;P++)D[P]=A>0?R.i(P+x)>>>A|R.i(P+x+1)<<32-A:R.i(P+x);return new f(D,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,WE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,rs=f}).apply(typeof Cv<"u"?Cv:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var JE,zl,ZE,hh,Xm,eb,tb,nb;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,z,Y){for(var ue=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)ue[Re-2]=arguments[Re];return y.prototype[z].apply(S,ue)}}var C=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function X(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const Y=z.length||0;c.length=v+Y;for(let ue=0;ue<Y;ue++)c[v+ue]=z[ue]}else c.push(z)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(c){f.setTimeout(()=>{throw c},0)}function K(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class j{constructor(){this.h=this.g=null}add(y,v){const S=J.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var J=new W(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let se,ce=!1,R=new j,A=()=>{const c=Promise.resolve(void 0);se=()=>{c.then(x)}};function x(){for(var c;c=K();){try{c.h.call(c.g)}catch(v){V(v)}var y=J;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ce=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var P=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Oe(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(Oe,D),Oe.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ne="closure_listenable_"+(Math.random()*1e6|0),$=0;function oe(c,y,v,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++$,this.da=this.fa=!1}function de(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pe(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Ie(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function O(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(c,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let Y=0;Y<ee.length;Y++)v=ee[Y],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ae(c){this.src=c,this.g={},this.h=0}ae.prototype.add=function(c,y,v,S,z){const Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);const ue=we(c,y,S,z);return ue>-1?(y=c[ue],v||(y.fa=!1)):(y=new oe(y,this.src,Y,!!S,z),y.fa=v,c.push(y)),y};function ve(c,y){const v=y.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=z>=0)&&Array.prototype.splice.call(S,z,1),Y&&(de(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function we(c,y,v,S){for(let z=0;z<c.length;++z){const Y=c[z];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==S)return z}return-1}var ke="closure_lm_"+(Math.random()*1e6|0),mt={};function Qe(c,y,v,S,z){if(Array.isArray(y)){for(let Y=0;Y<y.length;Y++)Qe(c,y[Y],v,S,z);return null}return v=No(v),c&&c[Ne]?c.J(y,v,m(S)?!!S.capture:!1,z):Ui(c,y,v,!1,S,z)}function Ui(c,y,v,S,z,Y){if(!y)throw Error("Invalid event type");const ue=m(z)?!!z.capture:!!z;let Re=ds(c);if(Re||(c[ke]=Re=new ae(c)),v=Re.add(y,v,S,ue,Y),v.proxy)return v;if(S=oa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)P||(z=ue),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(li(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function oa(){function c(v){return y.call(c.src,c.listener,v)}const y=Ro;return c}function la(c,y,v,S,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)la(c,y[Y],v,S,z);else S=m(S)?!!S.capture:!!S,v=No(v),c&&c[Ne]?(c=c.i,Y=String(y).toString(),Y in c.g&&(y=c.g[Y],v=we(y,v,S,z),v>-1&&(de(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Y],c.h--)))):c&&(c=ds(c))&&(y=c.g[y.toString()],c=-1,y&&(c=we(y,v,S,z)),(v=c>-1?y[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ne])ve(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(li(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=ds(y))?(ve(v,c),v.h==0&&(v.src=null,y[ke]=null)):de(c)}}}function li(c){return c in mt?mt[c]:mt[c]="on"+c}function Ro(c,y){if(c.da)c=!0;else{y=new Oe(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&ua(c),c=v.call(S,y)}return c}function ds(c){return c=c[ke],c instanceof ae?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(y){return c.handleEvent(y)}),c[Co])}function Tt(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}b(Tt,M),Tt.prototype[Ne]=!0,Tt.prototype.removeEventListener=function(c,y,v,S){la(this,c,y,v,S)};function kt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var z=y;y=new D(S,c),G(y,z)}z=!0;let Y,ue;if(v)for(ue=v.length-1;ue>=0;ue--)Y=y.g=v[ue],z=gr(Y,S,!0,y)&&z;if(Y=y.g=c,z=gr(Y,S,!0,y)&&z,z=gr(Y,S,!1,y)&&z,v)for(ue=0;ue<v.length;ue++)Y=y.g=v[ue],z=gr(Y,S,!1,y)&&z}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)de(v[S]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Tt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function gr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Y=0;Y<y.length;++Y){const ue=y[Y];if(ue&&!ue.da&&ue.capture==v){const Re=ue.listener,_t=ue.ha||ue.src;ue.fa&&ve(c.i,ue),z=Re.call(_t,S)!==!1&&z}}return z&&!S.defaultPrevented}function pf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function bu(c){c.g=pf(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){M.call(this),this.h=c,this.g={}}b(ms,M);var Io=[];function Do(c){pe(c.g,function(y,v){this.g.hasOwnProperty(v)&&ua(y)},c),c.g={}}ms.prototype.N=function(){ms.Z.N.call(this),Do(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yr=f.JSON.stringify,gf=f.JSON.parse,Tu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Su(){}function wu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){D.call(this,"d")}b(qt,D);function Rn(){D.call(this,"c")}b(Rn,D);var yt={},Au=null;function ca(){return Au=Au||new Tt}yt.Ia="serverreachability";function xu(c){D.call(this,yt.Ia,c)}b(xu,D);function ui(c){const y=ca();kt(y,new xu(y))}yt.STAT_EVENT="statevent";function ps(c,y){D.call(this,yt.STAT_EVENT,c),this.stat=y}b(ps,D);function St(c){const y=ca();kt(y,new ps(y,c))}yt.Ja="timingevent";function ci(c,y){D.call(this,yt.Ja,c),this.size=y}b(ci,D);function hi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Fn(){this.g=!0}Fn.prototype.ua=function(){this.g=!1};function yf(c,y,v,S,z,Y){c.info(function(){if(c.g)if(Y){var ue="",Re=Y.split("&");for(let Ye=0;Ye<Re.length;Ye++){var _t=Re[Ye].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const Dn=ut.split("_");ue=Dn.length>=2&&Dn[1]=="type"?ue+(ut+"="+_t+"&"):ue+(ut+"=redacted&")}}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+ue})}function Ru(c,y,v,S,z,Y,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+Y+" "+ue})}function fi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_f(c,v)+(S?" "+S:"")})}function gs(c,y){c.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function _f(c,y){if(!c.g)return y;if(!y)return null;try{const Y=JSON.parse(y);if(Y){for(c=0;c<Y.length;c++)if(Array.isArray(Y[c])){var v=Y[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let ue=1;ue<S.length;ue++)S[ue]=""}}}}return yr(Y)}catch{return y}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function _s(){}b(_s,Su),_s.prototype.g=function(){return new XMLHttpRequest},Oo=new _s;function ji(c){return encodeURIComponent(String(c))}function Cu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Gn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new ms(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var wt={},Ut={};function di(c,y,v){c.M=1,c.A=vs(xt(y)),c.u=v,c.R=!0,ha(c,null)}function ha(c,y){c.F=Date.now(),mi(c),c.B=xt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),pa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Yn,c.g=qu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new sn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Io[0]=z.toString()),z=Io);for(let Y=0;Y<z.length;Y++){const ue=Qe(v,z[Y],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ui(),yf(c.i,c.v,c.B,c.l,c.S,c.u)}Gn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Kn(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const Re=Kn(this.g),_t=this.g.ya(),Ye=this.g.ca();if(!(Re<3)&&(Re!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Re!=4||_t==7||(_t==8||Ye<=0?ui(3):ui(2)),pi(this);var y=this.g.ca();this.X=y;var v=vf(this);if(this.o=y==200,Ru(this.i,this.v,this.B,this.l,this.S,Re,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var Y=S;break t}}Y=null}if(c=Y)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,St(12),yn(this),Cn(this);break e}}if(this.R){c=!0;let ut;for(;!this.K&&this.C<v.length;)if(ut=Iu(this,v),ut==Ut){Re==4&&(this.m=4,St(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==wt){this.m=4,St(15),fi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,ut,null),gi(this,ut);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Re!=4||v.length!=0||this.h.h||(this.m=1,St(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,v,"[Invalid Chunked Response]"),yn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var ue=this.j;ue.g==this&&ue.aa&&!ue.P&&(ue.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(ue),ue.P=!0,St(11))}}else fi(this.i,this.l,v,null),gi(this,v);Re==4&&yn(this),this.o&&!this.K&&(Re==4?ju(this.j,this):(this.o=!1,mi(this)))}else Bi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),yn(this),Cn(this)}}}catch{}};function vf(c){if(!Nu(c))return c.g.la();const y=Ft(c.g);if(y==="")return"";let v="";const S=y.length,z=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return yn(c),Cn(c),"";c.h.i=new f.TextDecoder}for(let Y=0;Y<S;Y++)c.h.h=!0,v+=c.h.i.decode(y[Y],{stream:!(z&&Y==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Nu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Iu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Ut:(v=Number(y.substring(v,S)),isNaN(v)?wt:(S+=1,S+v>y.length?Ut:(y=y.slice(S,S+v),c.C=S+v,y)))}Gn.prototype.cancel=function(){this.K=!0,yn(this)};function mi(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(g(c.aa,c),y)}function pi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Gn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gs(this.i,this.B),this.M!=2&&(ui(),St(17)),yn(this),this.m=2,Cn(this)):fa(this,this.T-c)};function Cn(c){c.j.I==0||c.K||ju(c.j,c)}function yn(c){pi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Do(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function gi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||_i(v.h,c))){if(!c.L&&_i(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),Ar(v);else break e;xs(v),St(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=hi(g(v.Va,v),6e3));yi(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((c.L||v.g==c)&&Ea(v),!N(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let Ye=z[y];const ut=Ye[0];if(!(ut<=v.K))if(v.K=ut,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const Dn=Ye[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ai=Ye[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Xn=Ye[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Wn=c.g;if(Wn){const Rs=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rs){var Y=S.h;Y.g||Rs.indexOf("spdy")==-1&&Rs.indexOf("quic")==-1&&Rs.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Po(Y,Y.h),Y.h=null))}if(S.G){const ba=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(S.wa=ba,Xe(S.J,S.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ue=c;if(S.na=Hu(S,S.L?S.ba:null,S.W),ue.L){Lo(S.h,ue);var Re=ue,_t=S.O;_t&&(Re.H=_t),Re.D&&(pi(Re),mi(Re)),S.g=ue}else Lu(S);v.i.length>0&&Si(v)}else Ye[0]!="stop"&&Ye[0]!="close"||wi(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?wi(v,7):Yo(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}ui(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function ko(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Po(c,y){c.g?c.g.add(y):c.h=y}function Lo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ko.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return L(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let z,Y=null;S>=0?(z=c[v].substring(0,S),Y=c[v].substring(S+1)):z=c[v],y(z,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof _n?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.u),this.h=c.h,jo(this,Vu(c.i)),this.m=c.m):c&&(y=String(c).match(Du))?(this.l=!1,jt(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),_r(this,y[4]),this.h=vi(y[5]||"",!0),jo(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new Er(null,this.l))}_n.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Es(y,ma,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,ma,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?zo:Mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,Ou)),c.join("")},_n.prototype.resolve=function(c){const y=xt(this);let v=!!c.j;v?jt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)_r(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const Y=[];for(let ue=0;ue<z.length;){const Re=z[ue++];Re=="."?S&&ue==z.length&&Y.push(""):Re==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&ue==z.length&&Y.push("")):(Y.push(Re),S=!0)}S=Y.join("/")}else S=z}return v?y.h=S:v=c.i.toString()!=="",v?jo(y,Vu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function xt(c){return new _n(c)}function jt(c,y,v){c.j=v?vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function jo(c,y,v){y instanceof Er?(c.i=y,ga(c.i,c.l)):(v||(y=Es(y,vr)),c.i=new Er(y,c.l))}function Xe(c,y,v){c.i.set(y,v)}function vs(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Mu=/[#\?:]/g,zo=/[#\?]/g,vr=/[#\?@]/g,Ou=/#/g;function Er(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Er.prototype,r.add=function(c,y){cn(this),this.i=null,c=br(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ku(c,y){cn(c),y=br(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bo(c,y){return cn(c),y=br(c,y),c.g.has(y)}r.forEach=function(c,y){cn(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(y,z,S,this)},this)},this)};function Ho(c,y){cn(c);let v=[];if(typeof y=="string")Bo(c,y)&&(v=v.concat(c.g.get(br(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return cn(this),this.i=null,c=br(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Ho(this,c),c.length>0?String(c[0]):y):y};function pa(c,y,v){ku(c,y),v.length>0&&(c.i=null,c.g.set(br(c,y),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=ji(v);v=Ho(this,v);for(let Y=0;Y<v.length;Y++){let ue=z;v[Y]!==""&&(ue+="="+ji(v[Y])),c.push(ue)}}return this.i=c.join("&")};function Vu(c){const y=new Er;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function br(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ga(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(ku(this,S),pa(this,z,v))},c)),c.j=y}function $n(c,y){const v=new Fn;if(f.Image){const S=new Image;S.onload=E(Nn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(Nn,v,"TestLoadImage: error",!1,y,S),S.onabort=E(Nn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(Nn,v,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function qo(c,y){const v=new Fn,S=new AbortController,z=setTimeout(()=>{S.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(z),Y.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Nn(v,"TestPingServer: error",!1,y)})}function Nn(c,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Tr(){this.g=new Tu}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ei,Su),Ei.prototype.g=function(){return new bs(this.i,this.h)};function bs(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(bs,Tt),r=bs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Sr(this):Qn(this),this.readyState==3&&ya(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},r.Na=function(c){this.g&&(this.response=c,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(bs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function In(c){let y="";return pe(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ts(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=In(v),typeof c=="string"?v!=null&&ji(v):Xe(c,y,v))}function et(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(et,Tt);var bi=/^https?$/i,Fo=["POST","PUT"];r=et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=C(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Ss(this,Y);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())v.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of v)this.g.setRequestHeader(Y,ue);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Y){Ss(this,Y)}};function Ss(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Go(c),zi(c)}function Go(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?ws(this):this.Xa())},r.Xa=function(){ws(this)};function ws(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const Y=c.ca();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=Y===0){let ue=String(c.D).match(Du)[1]||null;!ue&&f.self&&f.self.location&&(ue=f.self.location.protocol.slice(0,-1)),S=!bi.test(ue?ue.toLowerCase():"")}v=S}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var z=Kn(c)>2?c.g.statusText:""}catch{z=""}c.l=z+" ["+c.ca()+"]",Go(c)}}finally{zi(c)}}}}function zi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),gf(y)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const y={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var v=Cu(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[z]||[];y[z]=Y,Y.push(v)}Ie(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function wr(c){this.za=0,this.i=[],this.j=new Fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,c),this.Za=Ti("retryDelaySeedMs",1e4,c),this.Ta=Ti("forwardChannelMaxRetries",2,c),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new Tr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){St(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Hu(this,null,this.W),Si(this)};function Yo(c){if(_a(c),c.I==3){var y=c.V++,v=xt(c.J);if(Xe(v,"SID",c.M),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),As(c,v),y=new Gn(c,c.j,y),y.M=2,y.A=vs(xt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}Bu(c)}function Ar(c){c.g&&(Qo(c),c.g.cancel(),c.g=null)}function _a(c){Ar(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!Vo(c.h)&&!c.m){c.m=!0;var y=c.Ea;se||A(),ce||(se(),ce=!0),R.add(y,c),c.D=0}}function va(c,y){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(g(c.Ea,c,y),zu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Gn(this,this.j,c);let Y=this.o;if(this.U&&(Y?(Y=O(Y),G(Y,this.U)):Y=this.U),this.u!==null||this.R||(z.J=Y,Y=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Pu(this,z,y),v=xt(this.J),Xe(v,"RID",c),Xe(v,"CVER",22),this.G&&Xe(v,"X-HTTP-Session-Id",this.G),As(this,v),Y&&(this.R?y="headers="+ji(In(Y))+"&"+y:this.u&&Ts(v,this.u,Y)),Po(this.h,z),this.Ra&&Xe(v,"TYPE","init"),this.S?(Xe(v,"$req",y),Xe(v,"SID","null"),z.U=!0,di(z,v,null)):di(z,v,y),this.I=2}}else this.I==3&&(c?$o(this,c):this.i.length==0||Vo(this.h)||$o(this))};function $o(c,y){var v;y?v=y.l:v=c.V++;const S=xt(c.J);Xe(S,"SID",c.M),Xe(S,"RID",v),Xe(S,"AID",c.K),As(c,S),c.u&&c.o&&Ts(S,c.u,c.o),v=new Gn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Pu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),di(v,S,y)}function As(c,y){c.H&&pe(c.H,function(v,S){Xe(y,S,v)}),c.l&&pe({},function(v,S){Xe(y,S,v)})}function Pu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let Re=-1;for(;;){const _t=["count="+v];Re==-1?v>0?(Re=z[0].g,_t.push("ofs="+Re)):Re=0:_t.push("ofs="+Re);let Ye=!0;for(let ut=0;ut<v;ut++){var Y=z[ut].g;const Dn=z[ut].map;if(Y-=Re,Y<0)Re=Math.max(0,z[ut].g-100),Ye=!1;else try{Y="req"+Y+"_"||"";try{var ue=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ai,Xn]of ue){let Wn=Xn;m(Xn)&&(Wn=yr(Xn)),_t.push(Y+Ai+"="+encodeURIComponent(Wn))}}catch(Ai){throw _t.push(Y+"type="+encodeURIComponent("_badmap")),Ai}}catch{S&&S(Dn)}}if(Ye){ue=_t.join("&");break e}}ue=void 0}return c=c.i.splice(0,v),y.G=c,ue}function Lu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;se||A(),ce||(se(),ce=!0),R.add(y,c),c.A=0}}function xs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(g(c.Da,c),zu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Ar(this),Uu(this))};function Qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);Xe(y,"RID","rpc"),Xe(y,"SID",c.M),Xe(y,"AID",c.K),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(y,"TO",c.ia),Xe(y,"TYPE","xmlhttp"),As(c,y),c.u&&c.o&&Ts(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=vs(xt(y)),v.u=null,v.R=!0,ha(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Ar(this),xs(this),St(19))};function Ea(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ju(c,y){var v=null;if(c.g==y){Ea(c),Qo(c),c.g=null;var S=2}else if(_i(c.h,y))v=y.G,Lo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=ca(),kt(S,new ci(S,v)),Si(c)}else Lu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&va(c,y)||S==2&&xs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:wi(c,5);break;case 4:wi(c,10);break;case 3:wi(c,6);break;default:wi(c,2)}}}function zu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function wi(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const z=!S;S=new _n(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(S,"https"),vs(S),z?$n(S.toString(),v):qo(S.toString(),v)}else St(2);c.I=0,c.l&&c.l.pa(y),Bu(c),_a(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Bu(c){if(c.I=0,c.ja=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(X(c.ja,y),X(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Hu(c,y,v){var S=v instanceof _n?xt(v):new _n(v);if(S.g!="")y&&(S.g=y+"."+S.g),_r(S,S.u);else{var z=f.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Y=new _n(null);S&&jt(Y,S),y&&(Y.g=y),z&&_r(Y,z),v&&(Y.h=v),S=Y}return v=c.G,y=c.wa,v&&y&&Xe(S,v,y),Xe(S,"VER",c.ka),As(c,S),S}function qu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new et(new Ei({ab:v})):new et(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}r=Fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function xr(){}xr.prototype.g=function(c,y){return new an(c,y)};function an(c,y){Tt.call(this),this.g=new wr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hi(this)}b(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Yo(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=yr(c),c=v);y.i.push(new At(y.Ya++,c)),y.I==3&&Si(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,an.Z.N.call(this)};function Gu(c){qt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Gu,qt);function Yu(){Rn.call(this),this.status=1}b(Yu,Rn);function Hi(c){this.g=c}b(Hi,Fu),Hi.prototype.ra=function(){kt(this.g,"a")},Hi.prototype.qa=function(c){kt(this.g,new Gu(c))},Hi.prototype.pa=function(c){kt(this.g,new Yu)},Hi.prototype.oa=function(){kt(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,nb=function(){return new xr},tb=function(){return ca()},eb=yt,Xm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,hh=ys,Mo.COMPLETE="complete",ZE=Mo,wu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,zl=wu,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,JE=et}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let So="12.9.0";function ED(r){So=r}const Zs=new bp("@firebase/firestore");function Za(){return Zs.logLevel}function he(r,...e){if(Zs.logLevel<=je.DEBUG){const n=e.map(kp);Zs.debug(`Firestore (${So}): ${r}`,...n)}}function fr(r,...e){if(Zs.logLevel<=je.ERROR){const n=e.map(kp);Zs.error(`Firestore (${So}): ${r}`,...n)}}function ea(r,...e){if(Zs.logLevel<=je.WARN){const n=e.map(kp);Zs.warn(`Firestore (${So}): ${r}`,...n)}}function kp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ib(r,s,n)}function ib(r,e,n){let s=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ib(e,o,s)}function xe(r,e){return r}const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class rb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class TD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class SD{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Qs,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Qs)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new rb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class wD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class AD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new wD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,he("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Vp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=RD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function ze(r,e){return r<e?-1:r>e?1:0}function Wm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Mm(o)===Mm(u)?ze(o,u):Mm(o)?1:-1}return ze(r.length,e.length)}const CD=55296,ND=57343;function Mm(r){const e=r.charCodeAt(0);return e>=CD&&e<=ND}function mo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Iv="__name__";class Ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return ze(e.length,n.length)}static compareSegments(e,n){const s=Ii.isNumericId(e),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Wm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return rs.fromString(e.substring(4,e.length-2))}}class ht extends Ii{construct(e,n,s){return new ht(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(re.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ht(n)}static emptyPath(){return new ht([])}}const ID=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ii{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return ID.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Wt([Iv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ge(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ge(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ht.fromString(e))}static fromName(e){return new _e(ht.fromString(e).popFirst(5))}static empty(){return new _e(ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ht.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ht.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ht(e.slice()))}}function DD(r,e,n){if(!n)throw new ge(re.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function MD(r,e,n,s){if(e===!0&&s===!0)throw new ge(re.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Dv(r){if(!_e.isDocumentKey(r))throw new ge(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function sb(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Pp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function oo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ge(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pp(r);throw new ge(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function gu(r,e){if(!sb(r))throw new ge(re.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ge(re.INVALID_ARGUMENT,n);return!0}const Mv=-62135596800,Ov=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Ov);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mv)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ov}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Mt("string",lt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new lt(0,0))}static max(){return new Se(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function OD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new as(o,_e.empty(),e)}function kD(r){return new as(r.readTime,r.key,Zl)}class as{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new as(Se.min(),_e.empty(),Zl)}static max(){return new as(Se.max(),_e.empty(),Zl)}}function VD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(r.documentKey,e.documentKey),n!==0?n:ze(r.largestBatchId,e.largestBatchId))}const PD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function wo(r){if(r.code!==re.FAILED_PRECONDITION||r.message!==PD)throw r;he("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function UD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(r){return r.name==="IndexedDbTransactionError"}class tf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}tf.ce=-1;const Lp=-1;function nf(r){return r==null}function Dh(r){return r===0&&1/r==-1/0}function jD(r){return typeof r=="number"&&Number.isInteger(r)&&!Dh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const ab="";function zD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=kv(e)),e=BD(r.get(n),e);return kv(e)}function BD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ab:n+="";break;default:n+=u}}return n}function kv(r){return r+ab+""}function Vv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ia(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ob(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class dt{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ri{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new ri([])}unionWith(e){let n=new Lt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new ri(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class lb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new lb("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const HD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=HD.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ls(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}const ub="server_timestamp",cb="__type__",hb="__previous_value__",fb="__local_write_time__";function Up(r){return(r?.mapValue?.fields||{})[cb]?.stringValue===ub}function rf(r){const e=r.mapValue.fields[hb];return Up(e)?rf(e):e}function eu(r){const e=os(r.mapValue.fields[fb].timestampValue);return new lt(e.seconds,e.nanos)}class qD{constructor(e,n,s,o,u,f,m,p,g,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=b}}const Mh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}function FD(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ge(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(r.options.projectId,e)}const db="__type__",GD="__max__",nh={mapValue:{}},mb="__vector__",Oh="value";function us(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Up(r)?4:$D(r)?9007199254740991:YD(r)?10:11:be(28295,{value:r})}function Pi(r,e){if(r===e)return!0;const n=us(r);if(n!==us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=os(o.timestampValue),m=os(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return ls(o.bytesValue).isEqual(ls(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?Dh(f)===Dh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Pi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Vv(f)!==Vv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Pi(f[p],m[p])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function nu(r,e){return(r.values||[]).find((n=>Pi(n,e)))!==void 0}function po(r,e){if(r===e)return 0;const n=us(r),s=us(e);if(n!==s)return ze(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ze(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=bt(u.integerValue||u.doubleValue),p=bt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return Lv(r.timestampValue,e.timestampValue);case 4:return Lv(eu(r),eu(e));case 5:return Wm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=ls(u),p=ls(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=ze(m[g],p[g]);if(E!==0)return E}return ze(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=ze(bt(u.latitude),bt(f.latitude));return m!==0?m:ze(bt(u.longitude),bt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Uv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Oh]?.arrayValue,E=p[Oh]?.arrayValue,b=ze(g?.values?.length||0,E?.values?.length||0);return b!==0?b:Uv(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const C=Wm(p[b],E[b]);if(C!==0)return C;const L=po(m[p[b]],g[E[b]]);if(L!==0)return L}return ze(p.length,E.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function Lv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return ze(r,e);const n=os(r),s=os(e),o=ze(n.seconds,s.seconds);return o!==0?o:ze(n.nanos,s.nanos)}function Uv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return ze(n.length,s.length)}function go(r){return Jm(r)}function Jm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=os(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ls(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return _e.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Jm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Jm(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function fh(r){switch(us(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rf(r);return e?16+fh(e):16;case 5:return 2*r.stringValue.length;case 6:return ls(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+fh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ia(s.fields,((u,f)=>{o+=u.length+fh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function Zm(r){return!!r&&"integerValue"in r}function jp(r){return!!r&&"arrayValue"in r}function jv(r){return!!r&&"nullValue"in r}function zv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function dh(r){return!!r&&"mapValue"in r}function YD(r){return(r?.mapValue?.fields||{})[db]?.stringValue===mb}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ia(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function $D(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===GD}class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Pi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ia(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new zn(Yl(this.value))}}function pb(r){const e=[];return ia(r.fields,((n,s)=>{const o=new Wt([n]);if(dh(s)){const u=pb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new ri(e)}class nn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Se.min(),Se.min(),Se.min(),zn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Se.min(),Se.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Se.min(),Se.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class kh{constructor(e,n){this.position=e,this.inclusive=n}}function Bv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Pi(r.position[n],e.position[n]))return!1;return!0}class Vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function QD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class gb{}class Pt extends gb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new XD(e,n,s):n==="array-contains"?new ZD(e,s):n==="in"?new eM(e,s):n==="not-in"?new tM(e,s):n==="array-contains-any"?new nM(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new WD(e,s):new JD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&us(this.value)===us(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends gb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Li(e,n)}matches(e){return yb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yb(r){return r.op==="and"}function _b(r){return KD(r)&&yb(r)}function KD(r){for(const e of r.filters)if(e instanceof Li)return!1;return!0}function ep(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+go(r.value);if(_b(r))return r.filters.map((e=>ep(e))).join(",");{const e=r.filters.map((n=>ep(n))).join(",");return`${r.op}(${e})`}}function vb(r,e){return r instanceof Pt?(function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&Pi(s.value,o.value)})(r,e):r instanceof Li?(function(s,o){return o instanceof Li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&vb(f,o.filters[m])),!0):!1})(r,e):void be(19439)}function Eb(r){return r instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`})(r):r instanceof Li?(function(n){return n.op.toString()+" {"+n.getFilters().map(Eb).join(" ,")+"}"})(r):"Filter"}class XD extends Pt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class WD extends Pt{constructor(e,n){super(e,"in",n),this.keys=bb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class JD extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=bb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function bb(r,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class ZD extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jp(n)&&nu(n.arrayValue,this.value)}}class eM extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class tM extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class nM extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class iM{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function qv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new iM(r,e,n,s,o,u,f)}function zp(r){const e=xe(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>ep(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),nf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>go(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>go(s))).join(",")),e.Te=n}return e.Te}function Bp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!QD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!vb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Hv(r.startAt,e.startAt)&&Hv(r.endAt,e.endAt)}function tp(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class sf{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function rM(r,e,n,s,o,u,f,m){return new sf(r,e,n,s,o,u,f,m)}function Hp(r){return new sf(r)}function Fv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function sM(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function aM(r){return r.collectionGroup!==null}function $l(r){const e=xe(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt(Wt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Vh(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Vh(Wt.keyField(),s))}return e.Ie}function Mi(r){const e=xe(r);return e.Ee||(e.Ee=oM(e,$l(r))),e.Ee}function oM(r,e){if(r.limitType==="F")return qv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)}));const n=r.endAt?new kh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new kh(r.startAt.position,r.startAt.inclusive):null;return qv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function np(r,e,n){return new sf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function af(r,e){return Bp(Mi(r),Mi(e))&&r.limitType===e.limitType}function Tb(r){return`${zp(Mi(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>Eb(o))).join(", ")}]`),nf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>go(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>go(o))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function of(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=Bv(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(f,m,p){const g=Bv(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(r,e)}function lM(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Sb(r){return(e,n)=>{let s=!1;for(const o of $l(r)){const u=uM(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function uM(r,e,n){const s=r.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?po(p,g):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return ob(this.inner)}size(){return this.innerSize}}const cM=new dt(_e.comparator);function dr(){return cM}const wb=new dt(_e.comparator);function Bl(...r){let e=wb;for(const n of r)e=e.insert(n.key,n);return e}function Ab(r){let e=wb;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ys(){return Ql()}function xb(){return Ql()}function Ql(){return new ra((r=>r.toString()),((r,e)=>r.isEqual(e)))}const hM=new dt(_e.comparator),fM=new Lt(_e.comparator);function Be(...r){let e=fM;for(const n of r)e=e.add(n);return e}const dM=new Lt(ze);function mM(){return dM}function qp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function Rb(r){return{integerValue:""+r}}function pM(r,e){return jD(e)?Rb(e):qp(r,e)}class lf{constructor(){this._=void 0}}function gM(r,e,n){return r instanceof Ph?(function(o,u){const f={fields:{[cb]:{stringValue:ub},[fb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Up(u)&&(u=rf(u)),u&&(f.fields[hb]=u),{mapValue:f}})(n,e):r instanceof iu?Nb(r,e):r instanceof ru?Ib(r,e):(function(o,u){const f=Cb(o,u),m=Gv(f)+Gv(o.Ae);return Zm(f)&&Zm(o.Ae)?Rb(m):qp(o.serializer,m)})(r,e)}function yM(r,e,n){return r instanceof iu?Nb(r,e):r instanceof ru?Ib(r,e):n}function Cb(r,e){return r instanceof Lh?(function(s){return Zm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ph extends lf{}class iu extends lf{constructor(e){super(),this.elements=e}}function Nb(r,e){const n=Db(e);for(const s of r.elements)n.some((o=>Pi(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends lf{constructor(e){super(),this.elements=e}}function Ib(r,e){let n=Db(e);for(const s of r.elements)n=n.filter((o=>!Pi(o,s)));return{arrayValue:{values:n}}}class Lh extends lf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gv(r){return bt(r.integerValue||r.doubleValue)}function Db(r){return jp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function _M(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof iu&&o instanceof iu||s instanceof ru&&o instanceof ru?mo(s.elements,o.elements,Pi):s instanceof Lh&&o instanceof Lh?Pi(s.Ae,o.Ae):s instanceof Ph&&o instanceof Ph})(r.transform,e.transform)}class vM{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function mh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class uf{}function Mb(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new kb(r.key,lr.none()):new yu(r.key,r.data,lr.none());{const n=r.data,s=zn.empty();let o=new Lt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new sa(r.key,s,new ri(o.toArray()),lr.none())}}function EM(r,e,n){r instanceof yu?(function(o,u,f){const m=o.value.clone(),p=$v(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof sa?(function(o,u,f){if(!mh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$v(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(Ob(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Kl(r,e,n,s){return r instanceof yu?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=u.value.clone(),E=Qv(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof sa?(function(u,f,m,p){if(!mh(u.precondition,f))return m;const g=Qv(u.fieldTransforms,p,f),E=f.data;return E.setAll(Ob(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return mh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function bM(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Cb(s.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function Yv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,((u,f)=>_M(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yu extends uf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sa extends uf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ob(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function $v(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,yM(f,m,n[o]))}return s}function Qv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,gM(u,f,e))}return s}class kb extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TM extends uf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class SM{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&EM(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Mb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Be())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,s)=>Yv(n,s)))&&mo(this.baseMutations,e.baseMutations,((n,s)=>Yv(n,s)))}}class Fp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return hM})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Fp(e,n,s,o)}}class wM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class AM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,qe;function xM(r){switch(r){case re.OK:return be(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function Vb(r){if(r===void 0)return fr("GRPC error has no .code"),re.UNKNOWN;switch(r){case Dt.OK:return re.OK;case Dt.CANCELLED:return re.CANCELLED;case Dt.UNKNOWN:return re.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return re.INTERNAL;case Dt.UNAVAILABLE:return re.UNAVAILABLE;case Dt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Dt.NOT_FOUND:return re.NOT_FOUND;case Dt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Dt.ABORTED:return re.ABORTED;case Dt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Dt.DATA_LOSS:return re.DATA_LOSS;default:return be(39323,{code:r})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function RM(){return new TextEncoder}const CM=new rs([4294967295,4294967295],0);function Kv(r){const e=RM().encode(r),n=new WE;return n.update(e),new Uint8Array(n.digest())}function Xv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new rs([n,s],0),new rs([o,u],0)]}class Gp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=rs.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(rs.fromNumber(s)));return o.compare(CM)===1&&(o=new rs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Kv(e),[s,o]=Xv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Gp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Kv(e),[s,o]=Xv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cf(Se.min(),o,new dt(ze),dr(),Be())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Be(),Be(),Be())}}class ph{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Pb{constructor(e,n){this.targetId=e,this.Ce=n}}class Lb{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Wv{constructor(){this.ve=0,this.Fe=Jv(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),n=Be(),s=Be();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Jv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class NM{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.He=ih(),this.Je=ih(),this.Ze=new dt(ze)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(tp(u))if(s===0){const f=new _e(u.path);this.et(n,f,nn.newNoDocument(f,Se.min()))}else Ke(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ls(s).toUint8Array()}catch(p){if(p instanceof lb)return ea("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Gp(f,o,u)}catch(p){return ea(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&tp(m.target)){const p=new _e(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,nn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=Be();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new cf(e,n,this.Ze,this.je,s);return this.je=dr(),this.He=ih(),this.Je=ih(),this.Ze=new dt(ze),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Wv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(ze),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(ze),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Wv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new dt(_e.comparator)}function Jv(){return new dt(_e.comparator)}const IM={asc:"ASCENDING",desc:"DESCENDING"},DM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MM={and:"AND",or:"OR"};class OM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ip(r,e){return r.useProto3Json||nf(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ub(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kM(r,e){return Uh(r,e.toTimestamp())}function Oi(r){return Ke(!!r,49232),Se.fromTimestamp((function(n){const s=os(n);return new lt(s.seconds,s.nanos)})(r))}function Yp(r,e){return rp(r,e).canonicalString()}function rp(r,e){const n=(function(o){return new ht(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function jb(r){const e=ht.fromString(r);return Ke(Fb(e),10190,{key:e.toString()}),e}function sp(r,e){return Yp(r.databaseId,e.path)}function Om(r,e){const n=jb(e);if(n.get(1)!==r.databaseId.projectId)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ge(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new _e(Bb(n))}function zb(r,e){return Yp(r.databaseId,e)}function VM(r){const e=jb(r);return e.length===4?ht.emptyPath():Bb(e)}function ap(r){return new ht(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Bb(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Zv(r,e,n){return{name:sp(r,e),fields:n.value.mapValue.fields}}function PM(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Jt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?re.UNKNOWN:Vb(g.code);return new ge(E,g.message||"")})(f);n=new Lb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(r,s.document.name),u=Oi(s.document.updateTime),f=s.document.createTime?Oi(s.document.createTime):Se.min(),m=new zn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ph(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(r,s.document),u=s.readTime?Oi(s.readTime):Se.min(),f=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ph([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(r,s.document),u=s.removedTargetIds||[];n=new ph([],u,o,null)}else{if(!("filter"in e))return be(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new AM(o,u),m=s.targetId;n=new Pb(m,f)}}return n}function LM(r,e){let n;if(e instanceof yu)n={update:Zv(r,e.key,e.value)};else if(e instanceof kb)n={delete:sp(r,e.key)};else if(e instanceof sa)n={update:Zv(r,e.key,e.data),updateMask:YM(e.fieldMask)};else{if(!(e instanceof TM))return be(16599,{dt:e.type});n={verify:sp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Ph)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:kM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function UM(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?Oi(o.updateTime):Oi(u);return f.isEqual(Se.min())&&(f=Oi(u)),new vM(f,o.transformResults||[])})(n,e)))):[]}function jM(r,e){return{documents:[zb(r,e.path)]}}function zM(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=zb(r,o);const u=(function(g){if(g.length!==0)return qb(Li.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(C){return{field:to(C.field),direction:qM(C.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ip(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function BM(r){let e=VM(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const C=Hb(b);return C instanceof Li&&_b(C)?C.getFilters():[C]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((C=>(function(X){return new Vh(no(X.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(X.direction))})(C)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let C;return C=typeof b=="object"?b.value:b,nf(C)?null:C})(n.limit));let p=null;n.startAt&&(p=(function(b){const C=!!b.before,L=b.values||[];return new kh(L,C)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const C=!b.before,L=b.values||[];return new kh(L,C)})(n.endAt)),rM(e,o,f,u,m,"F",p,g)}function HM(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Hb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return Pt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pt.create(no(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Li.create(n.compositeFilter.filters.map((s=>Hb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function qM(r){return IM[r]}function FM(r){return DM[r]}function GM(r){return MM[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Wt.fromServerFormat(r.fieldPath)}function qb(r){return r instanceof Pt?(function(n){if(n.op==="=="){if(zv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(jv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(jv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:FM(n.op),value:n.value}}})(r):r instanceof Li?(function(n){const s=n.getFilters().map((o=>qb(o)));return s.length===1?s[0]:{compositeFilter:{op:GM(n.op),filters:s}}})(r):be(54877,{filter:r})}function YM(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Fb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Gb(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class es{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $M{constructor(e){this.yt=e}}function QM(r){const e=BM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?np(e,e.limit,"L"):e}class KM{constructor(){this.Sn=new XM}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(as.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(as.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class XM{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(ht.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(ht.comparator)).toArray()}}const e1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yb=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(Yb,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}const t1="LruGarbageCollector",WM=1048576;function n1([r,e],[n,s]){const o=ze(r,n);return o===0?ze(e,s):o}class JM{constructor(e){this.Pr=e,this.buffer=new Lt(n1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();n1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZM{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){he(t1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?he(t1,"Ignoring IndexedDB error during garbage collection: ",n):await wo(n)}await this.Ar(3e5)}))}}class e4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(tf.ce);const s=new JM(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(e1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Za()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function t4(r,e){return new e4(r,e)}class n4{constructor(){this.changes=new ra((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class i4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class r4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Kl(s.mutation,o,ri.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Be()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Be()){const o=Ys();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Bl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ys();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Be())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=dr();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof sa)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Kl(E.mutation,g,E.mutation.getFieldMask(),lt.now())):f.set(g.key,ri.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new i4(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new dt(((f,m)=>f-m)),u=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||ri.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||Be()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=xb();E.forEach((C=>{if(!u.has(C)){const L=Mb(n.get(C),s.get(C));L!==null&&b.set(C,L),u=u.add(C)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return sM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Ys());let m=Zl,p=u;return f.next((g=>ie.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((C=>{p=p.insert(E,C)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Be()))).next((E=>({batchId:m,changes:Ab(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(b,C){return new sf(C,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((b,C)=>{f=f.insert(b,C)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,nn.newInvalidDocument(E)))}));let m=Bl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,g,ri.empty(),lt.now()),of(n,g)&&(m=m.insert(p,g))})),m}))}}class s4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:QM(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),ie.resolve()}}class a4{constructor(){this.overlays=new dt(_e.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ys();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Ys(),u=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new dt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ys(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ys(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new wM(n,s));let u=this.Lr.get(n);u===void 0&&(u=Be(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class o4{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class $p{constructor(){this.kr=new Lt(Bt.Kr),this.qr=new Lt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new _e(new ht([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new ht([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Be();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||ze(e.Hr,n.Hr)}static Ur(e,n){return ze(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}class l4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Bt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SM(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Lp:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(ze);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new _e(u),0);let m=new Lt(ze);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class u4{constructor(e){this.ti=e,this.docs=(function(){return new dt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=dr();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||VD(kD(E),s)<=0||(o.has(E.key)||of(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new c4(this)}getSize(e){return ie.resolve(this.size)}}class c4 extends n4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class h4{constructor(e){this.persistence=e,this.ri=new ra((n=>zp(n)),Bp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new $p,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class $b{constructor(e,n){this._i={},this.overlays={},this.ai=new tf(0),this.ui=!1,this.ui=!0,this.ci=new o4,this.referenceDelegate=e(this),this.li=new h4(this),this.indexManager=new KM,this.remoteDocumentCache=(function(o){return new u4(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new $M(n),this.Pi=new s4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new a4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new l4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){he("MemoryPersistence","Starting transaction:",e);const o=new f4(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class f4 extends LD{constructor(e){super(),this.currentSequenceNumber=e}}class Qp{constructor(e){this.persistence=e,this.Ri=new $p,this.Ai=null}static Vi(e){return new Qp(e)}get di(){if(this.Ai)return this.Ai;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=_e.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.fi=new ra((s=>zD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=t4(this,n)}static Vi(e,n){return new jh(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=fh(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Kp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=Be(),o=Be();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Kp(e,n.fromCache,s,o)}}class d4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class m4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return ZR()?8:UD(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new d4;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Za()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Za()<=je.DEBUG&&he("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Za()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ie.resolve())}gs(e,n){if(Fv(n))return ie.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=np(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Be(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,f,p.readTime)?this.gs(e,np(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return Fv(n)||o.isEqual(Se.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ie.resolve(null):(Za()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.Ds(e,f,n,OD(o,Zl)).next((m=>m)))}))}bs(e,n){let s=new Lt(Sb(e));return n.forEach(((o,u)=>{of(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Za()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",eo(n)),this.fs.getDocumentsMatchingQuery(e,n,as.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Xp="LocalStore",p4=3e8;class g4{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new dt(ze),this.Fs=new ra((u=>zp(u)),Bp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function y4(r,e,n,s){return new g4(r,e,n,s)}async function Qb(r,e){const n=xe(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Be();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function _4(r,e){const n=xe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const b=g.batch,C=b.keys();let L=ie.resolve();return C.forEach((X=>{L=L.next((()=>E.getEntry(p,X))).next((W=>{const V=g.docVersions.get(X);Ke(V!==null,48541),W.version.compareTo(V)<0&&(b.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),E.addEntry(W)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Be();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Kb(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function v4(r,e){const n=xe(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const C=o.get(b);if(!C)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let L=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),(function(W,V,K){return W.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=p4?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(C,L,E)&&m.push(n.li.updateTargetData(u,L))}));let p=dr(),g=Be();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(E4(u,f,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(Se.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function E4(r,e,n){let s=Be(),o=Be();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=dr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):he(Xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function b4(r,e){const n=xe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function T4(r,e){const n=xe(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new es(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function op(r,e,n){const s=xe(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;he(Xp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function i1(r,e,n){const s=xe(r);let o=Se.min(),u=Be();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const b=xe(p),C=b.Fs.get(E);return C!==void 0?ie.resolve(b.vs.get(C)):b.li.getTargetData(g,E)})(s,f,Mi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Be()))).next((m=>(S4(s,lM(e),m),{documents:m,ks:u})))))}function S4(r,e,n){let s=r.Ms.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class r1{constructor(){this.activeTargetIds=mM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w4{constructor(){this.vo=new r1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new r1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class A4{Mo(e){}shutdown(){}}const s1="ConnectivityMonitor";class a1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){he(s1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){he(s1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function lp(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const km="RestConnection",x4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class R4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=lp(),m=this.Qo(e,n.toUriEncodedString());he(km,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=Eo(g);return this.zo(e,m,p,s,E).then((b=>(he(km,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw ea(km,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=x4[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class C4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Ul=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class lo extends R4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!lo.c_){const e=tb();Ul(e,eb.STAT_EVENT,(n=>{n.stat===Xm.PROXY?he(en,"STAT_EVENT: detected buffering proxy"):n.stat===Xm.NOPROXY&&he(en,"STAT_EVENT: detected no buffering proxy")})),lo.c_=!0}}zo(e,n,s,o,u){const f=lp();return new Promise(((m,p)=>{const g=new JE;g.setWithCredentials(!0),g.listenOnce(ZE.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case hh.NO_ERROR:const b=g.getResponseJson();he(en,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case hh.TIMEOUT:he(en,`RPC '${e}' ${f} timed out`),p(new ge(re.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const C=g.getStatus();if(he(en,`RPC '${e}' ${f} failed with status:`,C,"response text:",g.getResponseText()),C>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const X=L?.error;if(X&&X.status&&X.message){const W=(function(K){const j=K.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(j)>=0?j:re.UNKNOWN})(X.status);p(new ge(W,X.message))}else p(new ge(re.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ge(re.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{he(en,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);he(en,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=lp(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");he(en,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=f.createWebChannel(g,m);this.I_(E);let b=!1,C=!1;const L=new C4({Ho:X=>{C?he(en,`Not sending because RPC '${e}' stream ${o} is closed:`,X):(b||(he(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),he(en,`RPC '${e}' stream ${o} sending:`,X),E.send(X))},Jo:()=>E.close()});return Ul(E,zl.EventType.OPEN,(()=>{C||(he(en,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Ul(E,zl.EventType.CLOSE,(()=>{C||(C=!0,he(en,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),Ul(E,zl.EventType.ERROR,(X=>{C||(C=!0,ea(en,`RPC '${e}' stream ${o} transport errored. Name:`,X.name,"Message:",X.message),L.o_(new ge(re.UNAVAILABLE,"The operation could not be completed")))})),Ul(E,zl.EventType.MESSAGE,(X=>{if(!C){const W=X.data[0];Ke(!!W,16349);const V=W,K=V?.error||V[0]?.error;if(K){he(en,`RPC '${e}' stream ${o} received error:`,K);const j=K.status;let J=(function(ce){const R=Dt[ce];if(R!==void 0)return Vb(R)})(j),le=K.message;j==="NOT_FOUND"&&le.includes("database")&&le.includes("does not exist")&&le.includes(this.databaseId.database)&&ea(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),J===void 0&&(J=re.INTERNAL,le="Unknown error status: "+j+" with message "+K.message),C=!0,L.o_(new ge(J,le)),E.close()}else he(en,`RPC '${e}' stream ${o} received:`,W),L.__(W)}})),lo.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nb()}}function N4(r){return new lo(r)}function Vm(){return typeof document<"u"?document:null}function hf(r){return new OM(r,!0)}lo.c_=!1;class Xb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&he("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const o1="PersistentStream";class Wb{constructor(e,n,s,o,u,f,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Xb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ge(re.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return he(o1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(he(o1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class I4 extends Wb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=PM(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Oi(f.readTime):Se.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=ap(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=tp(p)?{documents:jM(u,p)}:{query:zM(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Ub(u,f.resumeToken);const g=ip(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Uh(u,f.snapshotVersion.toTimestamp());const g=ip(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=HM(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=ap(this.serializer),n.removeTarget=e,this.K_(n)}}class D4 extends Wb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=UM(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=ap(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>LM(this.serializer,s)))};this.K_(n)}}class M4{}class O4 extends M4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,rp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(re.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,rp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(re.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function k4(r,e,n,s){return new O4(r,e,n,s)}class V4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):he("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ta="RemoteStore";class P4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{aa(this)&&(he(ta,"Restarting streams for network reachability change."),await(async function(p){const g=xe(p);g.Ea.add(4),await vu(g),g.Va.set("Unknown"),g.Ea.delete(4),await ff(g)})(this))}))})),this.Va=new V4(s,o)}}async function ff(r){if(aa(r))for(const e of r.Ra)await e(!0)}async function vu(r){for(const e of r.Ra)await e(!1)}function Jb(r,e){const n=xe(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),eg(n)?Zp(n):xo(n).O_()&&Jp(n,e))}function Wp(r,e){const n=xe(r),s=xo(n);n.Ia.delete(e),s.O_()&&Zb(n,e),n.Ia.size===0&&(s.O_()?s.L_():aa(n)&&n.Va.set("Unknown"))}function Jp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(r).Z_(e)}function Zb(r,e){r.da.$e(e),xo(r).X_(e)}function Zp(r){r.da=new NM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.Va.ua()}function eg(r){return aa(r)&&!xo(r).x_()&&r.Ia.size>0}function aa(r){return xe(r).Ea.size===0}function eT(r){r.da=void 0}async function L4(r){r.Va.set("Online")}async function U4(r){r.Ia.forEach(((e,n)=>{Jp(r,e)}))}async function j4(r,e){eT(r),eg(r)?(r.Va.ha(e),Zp(r)):r.Va.set("Unknown")}async function z4(r,e,n){if(r.Va.set("Online"),e instanceof Lb&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){he(ta,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await zh(r,s)}else if(e instanceof ph?r.da.Xe(e):e instanceof Pb?r.da.st(e):r.da.tt(e),!n.isEqual(Se.min()))try{const s=await Kb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Jt.EMPTY_BYTE_STRING,E.snapshotVersion)),Zb(u,p);const b=new es(E.target,p,g,E.sequenceNumber);Jp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){he(ta,"Failed to raise snapshot:",s),await zh(r,s)}}async function zh(r,e,n){if(!Ao(e))throw e;r.Ea.add(1),await vu(r),r.Va.set("Offline"),n||(n=()=>Kb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{he(ta,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await ff(r)}))}function tT(r,e){return e().catch((n=>zh(r,n,e)))}async function df(r){const e=xe(r),n=cs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;B4(e);)try{const o=await b4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,H4(e,o)}catch(o){await zh(e,o)}nT(e)&&iT(e)}function B4(r){return aa(r)&&r.Ta.length<10}function H4(r,e){r.Ta.push(e);const n=cs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function nT(r){return aa(r)&&!cs(r).x_()&&r.Ta.length>0}function iT(r){cs(r).start()}async function q4(r){cs(r).ra()}async function F4(r){const e=cs(r);for(const n of r.Ta)e.ea(n.mutations)}async function G4(r,e,n){const s=r.Ta.shift(),o=Fp.from(s,e,n);await tT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await df(r)}async function Y4(r,e){e&&cs(r).Y_&&await(async function(s,o){if((function(f){return xM(f)&&f!==re.ABORTED})(o.code)){const u=s.Ta.shift();cs(s).B_(),await tT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await df(s)}})(r,e),nT(r)&&iT(r)}async function l1(r,e){const n=xe(r);n.asyncQueue.verifyOperationInProgress(),he(ta,"RemoteStore received new credentials");const s=aa(n);n.Ea.add(3),await vu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ff(n)}async function $4(r,e){const n=xe(r);e?(n.Ea.delete(2),await ff(n)):e||(n.Ea.add(2),await vu(n),n.Va.set("Unknown"))}function xo(r){return r.ma||(r.ma=(function(n,s,o){const u=xe(n);return u.sa(),new I4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:L4.bind(null,r),Yo:U4.bind(null,r),t_:j4.bind(null,r),J_:z4.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),eg(r)?Zp(r):r.Va.set("Unknown")):(await r.ma.stop(),eT(r))}))),r.ma}function cs(r){return r.fa||(r.fa=(function(n,s,o){const u=xe(n);return u.sa(),new D4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:q4.bind(null,r),t_:Y4.bind(null,r),ta:F4.bind(null,r),na:G4.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await df(r)):(await r.fa.stop(),r.Ta.length>0&&(he(ta,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new tg(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(r,e){if(fr("AsyncQueue",`${e}: ${r}`),Ao(r))return new ge(re.UNAVAILABLE,`${e}: ${r}`);throw r}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class u1{constructor(){this.ga=new dt(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new _o(e,n,uo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&af(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class Q4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class K4{constructor(){this.queries=c1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=c1(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new ge(re.ABORTED,"Firestore shutting down"))}}function c1(){return new ra((r=>Tb(r)),af)}async function X4(r,e){const n=xe(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new Q4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ng(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&ig(n)}async function W4(r,e){const n=xe(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function J4(r,e){const n=xe(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&ig(n)}function Z4(r,e,n){const s=xe(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function ig(r){r.Ca.forEach((e=>{e.next()}))}var up,h1;(h1=up||(up={})).Ma="default",h1.Cache="cache";class eO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==up.Cache}}class rT{constructor(e){this.key=e}}class sT{constructor(e){this.key=e}}class tO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Be(),this.mutatedKeys=Be(),this.eu=Sb(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new u1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const C=o.get(E),L=of(this.query,b)?b:null,X=!!C&&this.mutatedKeys.has(C.key),W=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let V=!1;C&&L?C.data.isEqual(L.data)?X!==W&&(s.track({type:3,doc:L}),V=!0):this.su(C,L)||(s.track({type:2,doc:L}),V=!0,(p&&this.eu(L,p)>0||g&&this.eu(L,g)<0)&&(m=!0)):!C&&L?(s.track({type:0,doc:L}),V=!0):C&&!L&&(s.track({type:1,doc:C}),V=!0,(p||g)&&(m=!0)),V&&(L?(f=f.add(L),u=W?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(L,X){const W=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Vt:V})}};return W(L)-W(X)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,f.length!==0||g?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new u1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Be(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new sT(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new rT(s))})),n}cu(e){this.Za=e.ks,this.Ya=Be();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const rg="SyncEngine";class nO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class iO{constructor(e){this.key=e,this.hu=!1}}class rO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ra((m=>Tb(m)),af),this.Iu=new Map,this.Eu=new Set,this.Ru=new dt(_e.comparator),this.Au=new Map,this.Vu=new $p,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sO(r,e,n=!0){const s=hT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await aT(s,e,n,!0),o}async function aO(r,e){const n=hT(r);await aT(n,e,!0,!1)}async function aT(r,e,n,s){const o=await T4(r.localStore,Mi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await oO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Jb(r.remoteStore,o),m}async function oO(r,e,n,s,o){r.pu=(b,C,L)=>(async function(W,V,K,j){let J=V.view.ru(K);J.Ss&&(J=await i1(W.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,J))));const le=j&&j.targetChanges.get(V.targetId),se=j&&j.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(J,W.isPrimaryClient,le,se);return d1(W,V.targetId,ce.au),ce.snapshot})(r,b,C,L);const u=await i1(r.localStore,e,!0),f=new tO(e,u.ks),m=f.ru(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);d1(r,n,g.au);const E=new nO(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function lO(r,e,n){const s=xe(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!af(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await op(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Wp(s.remoteStore,o.targetId),cp(s,o.targetId)})).catch(wo)):(cp(s,o.targetId),await op(s.localStore,o.targetId,!0))}async function uO(r,e){const n=xe(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Wp(n.remoteStore,s.targetId))}async function cO(r,e,n){const s=yO(r);try{const o=await(function(f,m){const p=xe(f),g=lt.now(),E=m.reduce(((L,X)=>L.add(X.key)),Be());let b,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let X=dr(),W=Be();return p.xs.getEntries(L,E).next((V=>{X=V,X.forEach(((K,j)=>{j.isValidDocument()||(W=W.add(K))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,X))).next((V=>{b=V;const K=[];for(const j of m){const J=bM(j,b.get(j.key).overlayedDocument);J!=null&&K.push(new sa(j.key,J,pb(J.value.mapValue),lr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,K,m)})).next((V=>{C=V;const K=V.applyToLocalDocumentSet(b,W);return p.documentOverlayCache.saveOverlays(L,V.batchId,K)}))})).then((()=>({batchId:C.batchId,changes:Ab(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.du[f.currentUser.toKey()];g||(g=new dt(ze)),g=g.insert(m,p),f.du[f.currentUser.toKey()]=g})(s,o.batchId,n),await Eu(s,o.changes),await df(s.remoteStore)}catch(o){const u=ng(o,"Failed to persist write");n.reject(u)}}async function oT(r,e){const n=xe(r);try{const s=await v4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ke(f.hu,14607):o.removedDocuments.size>0&&(Ke(f.hu,42227),f.hu=!1))})),await Eu(n,s,e)}catch(s){await wo(s)}}function f1(r,e,n){const s=xe(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=xe(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,b)=>{for(const C of b.ba)C.va(m)&&(g=!0)})),g&&ig(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function hO(r,e,n){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new dt(_e.comparator);f=f.insert(u,nn.newNoDocument(u,Se.min()));const m=Be().add(u),p=new cf(Se.min(),new Map,new dt(ze),f,m);await oT(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),sg(s)}else await op(s.localStore,e,!1).then((()=>cp(s,e,n))).catch(wo)}async function fO(r,e){const n=xe(r),s=e.batch.batchId;try{const o=await _4(n.localStore,e);uT(n,s,null),lT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await wo(o)}}async function dO(r,e,n){const s=xe(r);try{const o=await(function(f,m){const p=xe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Ke(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);uT(s,e,n),lT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await wo(o)}}function lT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function uT(r,e,n){const s=xe(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function cp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||cT(r,s)}))}function cT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Wp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),sg(r))}function d1(r,e,n){for(const s of n)s instanceof rT?(r.Vu.addReference(s.key,e),mO(r,s)):s instanceof sT?(he(rg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||cT(r,s.key)):be(19791,{wu:s})}function mO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(he(rg,"New document in limbo: "+n),r.Eu.add(s),sg(r))}function sg(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new _e(ht.fromString(e)),s=r.fu.next();r.Au.set(s,new iO(n)),r.Ru=r.Ru.insert(n,s),Jb(r.remoteStore,new es(Mi(Hp(n.path)),s,"TargetPurposeLimboResolution",tf.ce))}}async function Eu(r,e,n){const s=xe(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Kp.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(C=>ie.forEach(C.Ts,(L=>E.persistence.referenceDelegate.addReference(b,C.targetId,L))).next((()=>ie.forEach(C.Is,(L=>E.persistence.referenceDelegate.removeReference(b,C.targetId,L)))))))))}catch(b){if(!Ao(b))throw b;he(Xp,"Failed to update sequence numbers: "+b)}for(const b of g){const C=b.targetId;if(!b.fromCache){const L=E.vs.get(C),X=L.snapshotVersion,W=L.withLastLimboFreeSnapshotVersion(X);E.vs=E.vs.insert(C,W)}}})(s.localStore,u))}async function pO(r,e){const n=xe(r);if(!n.currentUser.isEqual(e)){he(rg,"User change. New user:",e.toKey());const s=await Qb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ge(re.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Ns)}}function gO(r,e){const n=xe(r),s=n.Au.get(e);if(s&&s.hu)return Be().add(s.key);{let o=Be();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function hT(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=oT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=gO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hO.bind(null,e),e.Pu.J_=J4.bind(null,e.eventManager),e.Pu.yu=Z4.bind(null,e.eventManager),e}function yO(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dO.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return y4(this.persistence,new m4,e.initialUser,this.serializer)}Cu(e){return new $b(Qp.Vi,this.serializer)}Du(e){return new w4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class _O extends Bh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof jh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new ZM(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new $b((s=>jh.Vi(s,n)),this.serializer)}}class hp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>f1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pO.bind(null,this.syncEngine),await $4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new K4})()}createDatastore(e){const n=hf(e.databaseInfo.databaseId),s=N4(e.databaseInfo);return k4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new P4(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>f1(this.syncEngine,n,0)),(function(){return a1.v()?new a1:new A4})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const b=new rO(o,u,f,m,p,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=xe(n);he(ta,"RemoteStore shutting down."),s.Ea.add(5),await vu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}hp.provider={build:()=>new hp};class vO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const hs="FirestoreClient";class EO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Vp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{he(hs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(he(hs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ng(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Pm(r,e){r.asyncQueue.verifyOperationInProgress(),he(hs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Qb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function m1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await bO(r);he(hs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>l1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>l1(e.remoteStore,o))),r._onlineComponents=e}async function bO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){he(hs,"Using user provided OfflineComponentProvider");try{await Pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await Pm(r,new Bh)}}else he(hs,"Using default OfflineComponentProvider"),await Pm(r,new _O(void 0));return r._offlineComponents}async function fT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(he(hs,"Using user provided OnlineComponentProvider"),await m1(r,r._uninitializedComponentsProvider._online)):(he(hs,"Using default OnlineComponentProvider"),await m1(r,new hp))),r._onlineComponents}function TO(r){return fT(r).then((e=>e.syncEngine))}async function p1(r){const e=await fT(r),n=e.eventManager;return n.onListen=sO.bind(null,e.syncEngine),n.onUnlisten=lO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=uO.bind(null,e.syncEngine),n}function SO(r,e,n,s){const o=new vO(s),u=new eO(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>X4(await p1(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>W4(await p1(r),u)))}}function wO(r,e){const n=new Qs;return r.asyncQueue.enqueueAndForget((async()=>cO(await TO(r),e,n))),n.promise}function dT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const AO="ComponentProvider",g1=new Map;function xO(r,e,n,s,o){return new qD(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,dT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const mT="firestore.googleapis.com",y1=!0;class _1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mT,this.ssl=y1}else this.host=e.host,this.ssl=e.ssl??y1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<WM)throw new ge(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(re.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ag{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new bD;switch(s.type){case"firstParty":return new AD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=g1.get(n);s&&(he(AO,"Removing Datastore"),g1.delete(n),s.terminate())})(this),Promise.resolve()}}function RO(r,e,n,s={}){r=oo(r,ag);const o=Eo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(dE(`https://${m}`),mE("Firestore",!0)),u.host!==mT&&u.host!==m&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Xs(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=tn.MOCK_USER;else{g=FR(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ge(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(b)}r._authCredentials=new TD(new rb(g,E))}}class mf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new mf(this.firestore,e,this._query)}}class Ht{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ht(this.firestore,e,this._key)}toJSON(){return{type:Ht._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gu(n,Ht._jsonSchema))return new Ht(e,s||null,new _e(ht.fromString(n.referencePath)))}}Ht._jsonSchemaVersion="firestore/documentReference/1.0",Ht._jsonSchema={type:Mt("string",Ht._jsonSchemaVersion),referencePath:Mt("string")};class su extends mf{constructor(e,n,s){super(e,n,Hp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ht(this.firestore,null,new _e(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function CO(r,e,...n){if(r=xn(r),arguments.length===1&&(e=Vp.newId()),DD("doc","path",e),r instanceof ag){const s=ht.fromString(e,...n);return Dv(s),new Ht(r,null,new _e(s))}{if(!(r instanceof Ht||r instanceof su))throw new ge(re.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ht.fromString(e,...n));return Dv(s),new Ht(r.firestore,r instanceof su?r.converter:null,new _e(s))}}const v1="AsyncQueue";class E1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Xb(this,"async_queue_retry"),this._c=()=>{const s=Vm();s&&he(v1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Qs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;he(v1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",b1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=tg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:b1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function b1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Hh extends ag{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new E1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new E1(e),this._firestoreClient=void 0,await e}}}function NO(r,e){const n=typeof r=="object"?r:_E(),s=typeof r=="string"?r:Mh,o=Sp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=HR("firestore");u&&RO(o,...u)}return o}function pT(r){if(r._terminated)throw new ge(re.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IO(r),r._firestoreClient}function IO(r){const e=r._freezeSettings(),n=xO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new EO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Jt.fromBase64String(e))}catch(n){throw new ge(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Mt("string",Bn._jsonSchemaVersion),bytes:Mt("string")};class gT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yT{constructor(e){this._methodName=e}}class ki{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(e){if(gu(e,ki._jsonSchema))return new ki(e.latitude,e.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Mt("string",ki._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class ai{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ai._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,ai._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ai(e.vectorValues);throw new ge(re.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ai._jsonSchemaVersion="firestore/vectorValue/1.0",ai._jsonSchema={type:Mt("string",ai._jsonSchemaVersion),vectorValues:Mt("object")};const DO=/^__.*__$/;class MO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}function _T(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{dataSource:r})}}class og{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return qh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(_T(this.dataSource)&&DO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class OO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hf(e)}createContext(e,n,s,o=!1){return new og({dataSource:e,methodName:n,targetDoc:s,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kO(r){const e=r._freezeSettings(),n=hf(r._databaseId);return new OO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function VO(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);TT("Data must be an object, but it was:",f,s);const m=ET(s,f);let p,g;if(u.merge)p=new ri(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const C=lg(e,b,n);if(!f.contains(C))throw new ge(re.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);UO(E,C)||E.push(C)}p=new ri(E),g=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=f.fieldTransforms;return new MO(new zn(m),p,g)}function vT(r,e){if(bT(r=xn(r)))return TT("Unsupported field value:",e,r),ET(r,e);if(r instanceof yT)return(function(s,o){if(!_T(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=vT(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=xn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return pM(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=lt.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof lt){const u=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof ki)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:Ub(o.serializer,s._byteString)};if(s instanceof Ht){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Yp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ai)return(function(f,m){const p=f instanceof ai?f.toArray():f;return{mapValue:{fields:{[db]:{stringValue:mb},[Oh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return qp(m.serializer,E)}))}}}}}})(s,o);if(Gb(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Pp(s)}`)})(r,e)}function ET(r,e){const n={};return ob(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(r,((s,o)=>{const u=vT(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function bT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof ki||r instanceof Bn||r instanceof Ht||r instanceof yT||r instanceof ai||Gb(r))}function TT(r,e,n){if(!bT(n)||!sb(n)){const s=Pp(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function lg(r,e,n){if((e=xn(e))instanceof gT)return e._internalPath;if(typeof e=="string")return LO(r,e);throw qh("Field path arguments must be of type string or ",r,!1,void 0,n)}const PO=new RegExp("[~\\*/\\[\\]]");function LO(r,e,n){if(e.search(PO)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gT(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function qh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(re.INVALID_ARGUMENT,m+r+p)}function UO(r,e){return r.some((n=>n.isEqual(e)))}class jO{convertValue(e,n="none"){switch(us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ls(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ia(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Oh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new ai(n)}convertGeoPoint(e){return new ki(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=rf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=os(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ht.fromString(e);Ke(Fb(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class ST extends jO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ht(this.firestore,null,n)}}const T1="@firebase/firestore",S1="4.11.0";function w1(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class wT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ht(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(lg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zO extends wT{data(){return super.data()}}function BO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ge(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function HO(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ks extends wT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(lg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ks._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:Mt("string",Ks._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class gh extends Ks{data(e={}){return super.data(e)}}class co{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new gh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:qO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(re.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Vp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function qO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Mt("string",co._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function FO(r,e,n){r=oo(r,Ht);const s=oo(r.firestore,Hh),o=HO(r.converter,e,n),u=kO(s);return YO(s,[VO(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,lr.none())])}function GO(r,...e){r=xn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||w1(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(w1(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof Ht)f=oo(r.firestore,Hh),m=Hp(r._key.path),u={next:g=>{e[s]&&e[s]($O(f,r,g))},error:e[s+1],complete:e[s+2]};else{const g=oo(r,mf);f=oo(g.firestore,Hh),m=g._query;const E=new ST(f);u={next:b=>{e[s]&&e[s](new co(f,E,g,b))},error:e[s+1],complete:e[s+2]},BO(r._query)}const p=pT(f);return SO(p,m,o,u)}function YO(r,e){const n=pT(r);return wO(n,e)}function $O(r,e,n){const s=n.docs.get(e._key),o=new ST(r);return new Ks(r,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){ED(bo),ho(new Ws("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Hh(new SD(s.getProvider("auth-internal")),new xD(f,s.getProvider("app-check-internal")),FD(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),is(T1,S1,e),is(T1,S1,"esm2020")})();const QO={apiKey:"AIzaSyDkO9uuozHTfwWZ4dmQi-f2PnMga5sqEjs",authDomain:"gangneung-db-1218.firebaseapp.com",projectId:"gangneung-db-1218",storageBucket:"gangneung-db-1218.firebasestorage.app",messagingSenderId:"677101711159",appId:"1:677101711159:web:6276ff64df631dd23134b2"},AT=yE(QO),KO=NO(AT),Lm=gD(AT),XO=new rr;let yh=null,_h=null,Um=!1;const WO=r=>{xT();const e=CO(KO,"users",r);yh=GO(e,n=>{if(n.exists()){const s=n.data();Um=!0,Xt.setState({todos:s.todos||[],drawings:s.drawings||{},monthlyNotes:s.monthlyNotes||{},appPin:s.appPin!==void 0?s.appPin:null}),setTimeout(()=>{Um=!1},50)}}),_h=Xt.subscribe((n,s)=>{if(Um)return;const o={todos:n.todos,drawings:n.drawings,monthlyNotes:n.monthlyNotes,appPin:n.appPin},u={todos:s.todos,drawings:s.drawings,monthlyNotes:s.monthlyNotes,appPin:s.appPin};if(JSON.stringify(o)!==JSON.stringify(u)){console.log("[Sync] Local changes detected, syncing to Firestore..."),Xt.setState({isSyncing:!0});try{const f=JSON.parse(JSON.stringify(o));FO(e,{...f,updatedAt:new Date().toISOString()},{merge:!0}).then(()=>console.log("[Sync] Successfully synced to Firestore!")).catch(m=>console.error("[Sync] Firebase sync error:",m)).finally(()=>Xt.setState({isSyncing:!1}))}catch(f){console.error("[Sync] Synchronous error preparing/sending to Firestore:",f),Xt.setState({isSyncing:!1})}}})},xT=()=>{yh&&(yh(),yh=null),_h&&(_h(),_h=null)},JO=()=>{const{isSyncing:r}=Xt(),[e,n]=F.useState(null),[s,o]=F.useState(!0);F.useEffect(()=>{const m=rI(Lm,p=>{n(p),o(!1),p?(Xt.setState({currentUserUid:p.uid}),WO(p.uid)):(Xt.setState({currentUserUid:null}),xT())});return()=>m()},[]);const u=async()=>{o(!0);try{await AI(Lm,XO)}catch(m){console.error("Login failed:",m),alert(" .")}finally{o(!1)}},f=async()=>{if(o(!0),window.confirm(" ?    ."))try{await sI(Lm)}catch(m){console.error("Logout failed:",m)}o(!1)};return s?w.jsx("button",{disabled:!0,className:"p-2 ml-2 bg-white rounded-full border border-[var(--color-paper-200)] text-[var(--color-ink-300)] flex items-center justify-center",children:w.jsx(Z_,{size:18,className:"animate-spin"})}):e?w.jsxs("div",{className:"flex items-center gap-2 ml-2 relative group",children:[w.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${r?"bg-orange-100 text-orange-600":"bg-green-100 text-green-700"} flex items-center gap-1 transition-colors duration-300`,children:[r?w.jsx(Z_,{size:12,className:"animate-spin"}):w.jsx($x,{size:12}),r?" ...":" "]}),w.jsxs("button",{onClick:f,className:"p-1 px-3 bg-white rounded-full border border-[var(--color-paper-200)] text-[var(--color-ink-500)] hover:text-red-500 hover:border-red-200 hover:shadow-sm transition-all flex items-center gap-2",title:" ( )",children:[e.photoURL&&w.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-5 h-5 rounded-full"}),w.jsx(aR,{size:16})]})]}):w.jsxs("button",{onClick:u,className:"p-1.5 px-3 ml-2 bg-[var(--color-ink-900)] text-white rounded-full border border-[var(--color-ink-900)] hover:bg-[var(--color-ink-700)] hover:shadow-sm transition-all flex items-center gap-2 text-sm font-bold",title:"       ",children:[w.jsx(Gx,{size:16}),w.jsx(rR,{size:16}),w.jsx("span",{children:"  "})]})},ZO=()=>{const e=fs().pathname,n=[{name:"Yearly",path:"/yearly",icon:w.jsx(Lx,{size:16}),label:""},{name:"Monthly",path:"/",icon:w.jsx(jx,{size:16}),label:""},{name:"Weekly",path:"/weekly",icon:w.jsx(iE,{size:16}),label:""},{name:"Daily",path:"/daily",icon:w.jsx(Zx,{size:16}),label:""}];return w.jsx("nav",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-[var(--color-paper-200)] shadow-sm",children:n.map(s=>{const o=e===s.path||e==="/"&&s.path==="/";return w.jsxs(_p,{to:s.path,className:`
              relative flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all duration-200 
              ${o?"bg-[var(--color-paper-50)] text-[var(--color-ink-900)] shadow-sm":"text-[var(--color-ink-400)] hover:text-[var(--color-ink-600)] hover:bg-[var(--color-paper-50)]/50"}
            `,children:[s.icon,w.jsx("span",{children:s.label})]},s.name)})})},A1="1.5.1";function ek(){const{isLocked:r}=Xt(),[e,n]=F.useState(!1);return w.jsxs("div",{className:"min-h-screen bg-[var(--color-paper-50)] flex flex-col items-center py-6 px-4 md:py-10",children:[r&&w.jsx(MR,{}),w.jsxs("header",{className:"w-full max-w-6xl mb-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsx("h1",{className:"text-3xl font-bold text-[var(--color-ink-900)] tracking-tight",children:" "}),w.jsxs("span",{className:"text-xs font-black text-accent-blue bg-blue-50 border border-blue-200 px-2 py-0.5 rounded-full shadow-sm",children:["v",A1]})]}),w.jsx("p",{className:"text-sm text-[var(--color-ink-500)] mt-1 font-medium",children:"Gangneung Branch Work Diary"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(ZO,{}),w.jsx(JO,{}),w.jsx("button",{onClick:()=>n(!0),className:"p-2 ml-1 bg-white rounded-full border border-[var(--color-paper-200)] text-[var(--color-ink-500)] hover:text-accent-blue hover:border-blue-200 hover:shadow-sm transition-all",title:" (PIN ) ",children:w.jsx(rE,{size:18})})]})]}),w.jsx("main",{className:`w-full max-w-6xl flex-1 diary-page p-6 md:p-8 relative ${r?"blur-md pointer-events-none opacity-50":""}`,children:w.jsxs(c2,{children:[w.jsx(jl,{path:"/",element:w.jsx(RR,{})}),w.jsx(jl,{path:"/yearly",element:w.jsx(xR,{})}),w.jsx(jl,{path:"/weekly",element:w.jsx(IR,{})}),w.jsx(jl,{path:"/daily",element:w.jsx(DR,{})})]})}),w.jsxs("div",{className:"fixed bottom-4 right-4 px-2 py-1 text-[11px] font-bold text-ink-300 font-mono tracking-wider pointer-events-none select-none z-50 opacity-60",children:["v",A1]}),w.jsx(OR,{isOpen:e,onClose:()=>n(!1)})]})}dw.createRoot(document.getElementById("root")).render(w.jsx(F.StrictMode,{children:w.jsx(k2,{children:w.jsx(ek,{})})}));
