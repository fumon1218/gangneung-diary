(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function rS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var mm={exports:{}},Dl={};var I_;function sS(){if(I_)return Dl;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Dl.Fragment=e,Dl.jsx=n,Dl.jsxs=n,Dl}var D_;function aS(){return D_||(D_=1,mm.exports=sS()),mm.exports}var w=aS(),pm={exports:{}},Re={};var M_;function oS(){if(M_)return Re;M_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),R=Symbol.iterator;function L(k){return k===null||typeof k!="object"?null:(k=R&&k[R]||k["@@iterator"],typeof k=="function"?k:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K=Object.assign,P={};function X(k,J,oe){this.props=k,this.context=J,this.refs=P,this.updater=oe||Q}X.prototype.isReactComponent={},X.prototype.setState=function(k,J){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,J,"setState")},X.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=X.prototype;function re(k,J,oe){this.props=k,this.context=J,this.refs=P,this.updater=oe||Q}var ue=re.prototype=new Y;ue.constructor=re,K(ue,X.prototype),ue.isPureReactComponent=!0;var ne=Array.isArray;function le(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function x(k,J,oe){var he=oe.ref;return{$$typeof:r,type:k,key:J,ref:he!==void 0?he:null,props:oe}}function M(k,J){return x(k.type,J,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function O(k){var J={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(oe){return J[oe]})}var N=/\/+/g;function De(k,J){return typeof k=="object"&&k!==null&&k.key!=null?O(""+k.key):J.toString(36)}function He(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(le,le):(k.status="pending",k.then(function(J){k.status==="pending"&&(k.status="fulfilled",k.value=J)},function(J){k.status==="pending"&&(k.status="rejected",k.reason=J)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function F(k,J,oe,he,Z){var de=typeof k;(de==="undefined"||de==="boolean")&&(k=null);var Se=!1;if(k===null)Se=!0;else switch(de){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(k.$$typeof){case r:case e:Se=!0;break;case E:return Se=k._init,F(Se(k._payload),J,oe,he,Z)}}if(Se)return Z=Z(k),Se=he===""?"."+De(k,0):he,ne(Z)?(oe="",Se!=null&&(oe=Se.replace(N,"$&/")+"/"),F(Z,J,oe,"",function(yn){return yn})):Z!=null&&(I(Z)&&(Z=M(Z,oe+(Z.key==null||k&&k.key===Z.key?"":(""+Z.key).replace(N,"$&/")+"/")+Se)),J.push(Z)),1;Se=0;var ut=he===""?".":he+":";if(ne(k))for(var rt=0;rt<k.length;rt++)he=k[rt],de=ut+De(he,rt),Se+=F(he,J,oe,de,Z);else if(rt=L(k),typeof rt=="function")for(k=rt.call(k),rt=0;!(he=k.next()).done;)he=he.value,de=ut+De(he,rt++),Se+=F(he,J,oe,de,Z);else if(de==="object"){if(typeof k.then=="function")return F(He(k),J,oe,he,Z);throw J=String(k),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Se}function ae(k,J,oe){if(k==null)return k;var he=[],Z=0;return F(k,he,"","",function(de){return J.call(oe,de,Z++)}),he}function pe(k){if(k._status===-1){var J=k._result;J=J(),J.then(function(oe){(k._status===0||k._status===-1)&&(k._status=1,k._result=oe)},function(oe){(k._status===0||k._status===-1)&&(k._status=2,k._result=oe)}),k._status===-1&&(k._status=0,k._result=J)}if(k._status===1)return k._result.default;throw k._result}var Me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},ve={map:ae,forEach:function(k,J,oe){ae(k,function(){J.apply(this,arguments)},oe)},count:function(k){var J=0;return ae(k,function(){J++}),J},toArray:function(k){return ae(k,function(J){return J})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Re.Activity=b,Re.Children=ve,Re.Component=X,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Re.__COMPILER_RUNTIME={__proto__:null,c:function(k){return C.H.useMemoCache(k)}},Re.cache=function(k){return function(){return k.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(k,J,oe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var he=K({},k.props),Z=k.key;if(J!=null)for(de in J.key!==void 0&&(Z=""+J.key),J)!A.call(J,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&J.ref===void 0||(he[de]=J[de]);var de=arguments.length-2;if(de===1)he.children=oe;else if(1<de){for(var Se=Array(de),ut=0;ut<de;ut++)Se[ut]=arguments[ut+2];he.children=Se}return x(k.type,Z,he)},Re.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Re.createElement=function(k,J,oe){var he,Z={},de=null;if(J!=null)for(he in J.key!==void 0&&(de=""+J.key),J)A.call(J,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Z[he]=J[he]);var Se=arguments.length-2;if(Se===1)Z.children=oe;else if(1<Se){for(var ut=Array(Se),rt=0;rt<Se;rt++)ut[rt]=arguments[rt+2];Z.children=ut}if(k&&k.defaultProps)for(he in Se=k.defaultProps,Se)Z[he]===void 0&&(Z[he]=Se[he]);return x(k,de,Z)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(k){return{$$typeof:m,render:k}},Re.isValidElement=I,Re.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:pe}},Re.memo=function(k,J){return{$$typeof:g,type:k,compare:J===void 0?null:J}},Re.startTransition=function(k){var J=C.T,oe={};C.T=oe;try{var he=k(),Z=C.S;Z!==null&&Z(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(le,Me)}catch(de){Me(de)}finally{J!==null&&oe.types!==null&&(J.types=oe.types),C.T=J}},Re.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Re.use=function(k){return C.H.use(k)},Re.useActionState=function(k,J,oe){return C.H.useActionState(k,J,oe)},Re.useCallback=function(k,J){return C.H.useCallback(k,J)},Re.useContext=function(k){return C.H.useContext(k)},Re.useDebugValue=function(){},Re.useDeferredValue=function(k,J){return C.H.useDeferredValue(k,J)},Re.useEffect=function(k,J){return C.H.useEffect(k,J)},Re.useEffectEvent=function(k){return C.H.useEffectEvent(k)},Re.useId=function(){return C.H.useId()},Re.useImperativeHandle=function(k,J,oe){return C.H.useImperativeHandle(k,J,oe)},Re.useInsertionEffect=function(k,J){return C.H.useInsertionEffect(k,J)},Re.useLayoutEffect=function(k,J){return C.H.useLayoutEffect(k,J)},Re.useMemo=function(k,J){return C.H.useMemo(k,J)},Re.useOptimistic=function(k,J){return C.H.useOptimistic(k,J)},Re.useReducer=function(k,J,oe){return C.H.useReducer(k,J,oe)},Re.useRef=function(k){return C.H.useRef(k)},Re.useState=function(k){return C.H.useState(k)},Re.useSyncExternalStore=function(k,J,oe){return C.H.useSyncExternalStore(k,J,oe)},Re.useTransition=function(){return C.H.useTransition()},Re.version="19.2.4",Re}var O_;function dp(){return O_||(O_=1,pm.exports=oS()),pm.exports}var H=dp();const Xc=rS(H);var gm={exports:{}},Ml={},ym={exports:{}},_m={};var k_;function lS(){return k_||(k_=1,(function(r){function e(F,ae){var pe=F.length;F.push(ae);e:for(;0<pe;){var Me=pe-1>>>1,ve=F[Me];if(0<o(ve,ae))F[Me]=ae,F[pe]=ve,pe=Me;else break e}}function n(F){return F.length===0?null:F[0]}function s(F){if(F.length===0)return null;var ae=F[0],pe=F.pop();if(pe!==ae){F[0]=pe;e:for(var Me=0,ve=F.length,k=ve>>>1;Me<k;){var J=2*(Me+1)-1,oe=F[J],he=J+1,Z=F[he];if(0>o(oe,pe))he<ve&&0>o(Z,oe)?(F[Me]=Z,F[he]=pe,Me=he):(F[Me]=oe,F[J]=pe,Me=J);else if(he<ve&&0>o(Z,pe))F[Me]=Z,F[he]=pe,Me=he;else break e}}return ae}function o(F,ae){var pe=F.sortIndex-ae.sortIndex;return pe!==0?pe:F.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,b=null,R=3,L=!1,Q=!1,K=!1,P=!1,X=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ue(F){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=F)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ne(F){if(K=!1,ue(F),!Q)if(n(p)!==null)Q=!0,le||(le=!0,O());else{var ae=n(g);ae!==null&&He(ne,ae.startTime-F)}}var le=!1,C=-1,A=5,x=-1;function M(){return P?!0:!(r.unstable_now()-x<A)}function I(){if(P=!1,le){var F=r.unstable_now();x=F;var ae=!0;try{e:{Q=!1,K&&(K=!1,Y(C),C=-1),L=!0;var pe=R;try{t:{for(ue(F),b=n(p);b!==null&&!(b.expirationTime>F&&M());){var Me=b.callback;if(typeof Me=="function"){b.callback=null,R=b.priorityLevel;var ve=Me(b.expirationTime<=F);if(F=r.unstable_now(),typeof ve=="function"){b.callback=ve,ue(F),ae=!0;break t}b===n(p)&&s(p),ue(F)}else s(p);b=n(p)}if(b!==null)ae=!0;else{var k=n(g);k!==null&&He(ne,k.startTime-F),ae=!1}}break e}finally{b=null,R=pe,L=!1}ae=void 0}}finally{ae?O():le=!1}}}var O;if(typeof re=="function")O=function(){re(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,De=N.port2;N.port1.onmessage=I,O=function(){De.postMessage(null)}}else O=function(){X(I,0)};function He(F,ae){C=X(function(){F(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(F){F.callback=null},r.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(F){switch(R){case 1:case 2:case 3:var ae=3;break;default:ae=R}var pe=R;R=ae;try{return F()}finally{R=pe}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(F,ae){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var pe=R;R=F;try{return ae()}finally{R=pe}},r.unstable_scheduleCallback=function(F,ae,pe){var Me=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,F){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=pe+ve,F={id:E++,callback:ae,priorityLevel:F,startTime:pe,expirationTime:ve,sortIndex:-1},pe>Me?(F.sortIndex=pe,e(g,F),n(p)===null&&F===n(g)&&(K?(Y(C),C=-1):K=!0,He(ne,pe-Me))):(F.sortIndex=ve,e(p,F),Q||L||(Q=!0,le||(le=!0,O()))),F},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(F){var ae=R;return function(){var pe=R;R=ae;try{return F.apply(this,arguments)}finally{R=pe}}}})(_m)),_m}var V_;function uS(){return V_||(V_=1,ym.exports=lS()),ym.exports}var vm={exports:{}},Zt={};var P_;function cS(){if(P_)return Zt;P_=1;var r=dp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Zt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,L=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:L}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:L,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.2.4",Zt}var L_;function hS(){if(L_)return vm.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),vm.exports=cS(),vm.exports}var U_;function fS(){if(U_)return Ml;U_=1;var r=uS(),e=dp(),n=hS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===l)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function E(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=E(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,R=Symbol.for("react.element"),L=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),K=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),X=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function De(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case K:return"Fragment";case X:return"Profiler";case P:return"StrictMode";case ne:return"Suspense";case le:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Q:return"Portal";case re:return t.displayName||"Context";case Y:return(t._context.displayName||"Context")+".Consumer";case ue:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return i=t.displayName||null,i!==null?i:De(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return De(t(i))}catch{}}return null}var He=Array.isArray,F=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Me=[],ve=-1;function k(t){return{current:t}}function J(t){0>ve||(t.current=Me[ve],Me[ve]=null,ve--)}function oe(t,i){ve++,Me[ve]=t.current,t.current=i}var he=k(null),Z=k(null),de=k(null),Se=k(null);function ut(t,i){switch(oe(de,i),oe(Z,t),oe(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Z0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Z0(i),t=e_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(he),oe(he,t)}function rt(){J(he),J(Z),J(de)}function yn(t){t.memoizedState!==null&&oe(Se,t);var i=he.current,a=e_(i,t.type);i!==a&&(oe(Z,t),oe(he,a))}function gr(t){Z.current===t&&(J(he),J(Z)),Se.current===t&&(J(Se),Rl._currentValue=pe)}var la,ua;function ui(t){if(la===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);la=i&&i[1]||"",ua=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+t+ua}var Ro=!1;function ms(t,i){if(!t||Ro)return"";Ro=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var q=$}Reflect.construct(t,[],te)}else{try{te.call()}catch($){q=$}t.call(te.prototype)}}else{try{throw Error()}catch($){q=$}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var D=_.split(`
`),B=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{Ro=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ui(a):""}function Co(t,i){switch(t.tag){case 26:case 27:case 5:return ui(t.type);case 16:return ui("Lazy");case 13:return t.child!==i&&i!==null?ui("Suspense Fallback"):ui("Suspense");case 19:return ui("SuspenseList");case 0:case 15:return ms(t.type,!1);case 11:return ms(t.type.render,!1);case 1:return ms(t.type,!0);case 31:return ui("Activity");default:return""}}function No(t){try{var i="",a=null;do i+=Co(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,kt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,gf=r.unstable_shouldYield,bu=r.unstable_requestPaint,sn=r.unstable_now,ps=r.unstable_getCurrentPriorityLevel,Io=r.unstable_ImmediatePriority,Do=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,yf=r.unstable_LowPriority,Tu=r.unstable_IdlePriority,wu=r.log,Su=r.unstable_setDisableYieldValue,Gn=null,Ft=null;function Cn(t){if(typeof wu=="function"&&Su(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Gn,t)}catch{}}var yt=Math.clz32?Math.clz32:xu,Au=Math.log,ca=Math.LN2;function xu(t){return t>>>=0,t===0?32:31-(Au(t)/ca|0)|0}var ci=256,gs=262144,wt=4194304;function hi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=hi(l):(_&=T,_!==0?h=hi(_):a||(a=T&~t,a!==0&&(h=hi(a))))):(T=l&~d,T!==0?h=hi(T):_!==0?h=hi(_):a||(a=l&~t,a!==0&&(h=hi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function _f(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function di(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function ys(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function vf(t,i,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var W=31-yt(a),te=1<<W;T[W]=0,D[W]=-1;var q=B[W];if(q!==null)for(B[W]=null,W=0;W<q.length;W++){var $=q[W];$!==null&&($.lane&=-536870913)}a&=~te}l!==0&&_s(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function _s(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Mo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Oo(t,i){var a=i&-i;return a=(a&42)!==0?1:vs(a),(a&(t.suspendedLanes|i))!==0?0:a}function vs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ji(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Cu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:w_(t.type))}function $n(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Qn=Math.random().toString(36).slice(2),St="__reactFiber$"+Qn,Ut="__reactProps$"+Qn,mi="__reactContainer$"+Qn,ha="__reactEvents$"+Qn,Ef="__reactListeners$"+Qn,Nu="__reactHandles$"+Qn,Iu="__reactResources$"+Qn,pi="__reactMarker$"+Qn;function fa(t){delete t[St],delete t[Ut],delete t[ha],delete t[Ef],delete t[Nu]}function gi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[mi]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=o_(t);t!==null;){if(a=t[St])return a;t=o_(t)}return i}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[St]||t[mi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function yi(t){var i=t[Iu];return i||(i=t[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[pi]=!0}var ko=new Set,Vo={};function _i(t,i){vi(t,i),vi(t+"Capture",i)}function vi(t,i){for(Vo[t]=i,t=0;t<i.length;t++)ko.add(i[t])}var Po=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lo={},Uo={};function Du(t){return Tt.call(Uo,t)?!0:Tt.call(Lo,t)?!1:Po.test(t)?Uo[t]=!0:(Lo[t]=!0,!1)}function da(t,i,a){if(Du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function jo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ke(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=jo(t,i,""+t[i])}}function Es(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ei(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bs=/[\n"\\]/g;function un(t){return t.replace(bs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ma(t,i,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+jt(i)):t.value!==""+jt(i)&&(t.value=""+jt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?zo(t,_,jt(i)):a!=null?zo(t,_,jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+jt(T):t.removeAttribute("name")}function Mu(t,i,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ke(t);return}a=a!=null?""+jt(a):"",i=i!=null?""+jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ke(t)}function zo(t,i,a){i==="number"&&Ei(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ou(t,i,a){if(i!=null&&(i=""+jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+jt(a):""}function br(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(He(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Ke(t)}function cn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ku=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ku.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ho(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Bo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Bo(t,d,i[d])}function pa(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(t){return Tr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Kn(){}var qo=null;function In(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wr=null,bi=null;function Ts(t){var i=Nn(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(ma(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(s(90));ma(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Es(l)}break e;case"textarea":Ou(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var ya=!1;function Sr(t,i,a){if(ya)return t(i,a);ya=!0;try{var l=t(i);return l}finally{if(ya=!1,(wr!==null||bi!==null)&&(Cc(),wr&&(i=wr,t=bi,bi=wr=null,Ts(i),t)))for(i=0;i<t.length;i++)Ts(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=!1;if(Dn)try{var et={};Object.defineProperty(et,"passive",{get:function(){ws=!0}}),window.addEventListener("test",et,et),window.removeEventListener("test",et,et)}catch{ws=!1}var Ti=null,Fo=null,Ss=null;function Go(){if(Ss)return Ss;var t,i=Fo,a=i.length,l,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&i[a-l]===h[d-l];l++);return Ss=h.slice(t,1<l?1-l:void 0)}function As(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function zi(){return!0}function Wn(){return!1}function Gt(t){function i(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zi:Wn,this.isPropagationStopped=Wn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wi=Gt(Bi),Ar=b({},Bi,{view:0,detail:0}),Yo=Gt(Ar),xr,_a,Si,va=b({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(xr=t.screenX-Si.screenX,_a=t.screenY-Si.screenY):_a=xr=0,Si=t),xr)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),$o=Gt(va),xs=b({},va,{dataTransfer:0}),Pu=Gt(xs),Lu=b({},Ar,{relatedTarget:0}),Rs=Gt(Lu),Qo=b({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Uu=Gt(Qo),Ea=b({},Bi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ju=Gt(Ea),zu=b({},Bi,{data:0}),Ai=Gt(zu),Bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=qu[t])?!!i[t]:!1}function Rr(){return Fu}var an=b({},Ar,{key:function(t){if(t.key){var i=Bu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=As(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(t){return t.type==="keypress"?As(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?As(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gu=Gt(an),Yu=b({},va,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Gt(Yu),c=b({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr}),y=Gt(c),v=b({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Gt(v),j=b({},va,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Gt(j),ce=b({},Bi,{newState:0,oldState:0}),Ne=Gt(ce),_t=[9,13,27,32],Ye=Dn&&"CompositionEvent"in window,ct=null;Dn&&"documentMode"in document&&(ct=document.documentMode);var Mn=Dn&&"TextEvent"in window&&!ct,xi=Dn&&(!Ye||ct&&8<ct&&11>=ct),Jn=" ",Zn=!1;function Cs(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ba(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ta=!1;function CT(t,i){switch(t){case"compositionend":return ba(i);case"keypress":return i.which!==32?null:(Zn=!0,Jn);case"textInput":return t=i.data,t===Jn&&Zn?null:t;default:return null}}function NT(t,i){if(Ta)return t==="compositionend"||!Ye&&Cs(t,i)?(t=Go(),Ss=Fo=Ti=null,Ta=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return xi&&i.locale!=="ko"?null:i.data;default:return null}}var IT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!IT[t.type]:i==="textarea"}function hg(t,i,a,l){wr?bi?bi.push(l):bi=[l]:wr=l,i=Vc(i,"onChange"),0<i.length&&(a=new wi("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ko=null,Xo=null;function DT(t){$0(t,0)}function $u(t){var i=_n(t);if(Es(i))return t}function fg(t,i){if(t==="change")return i}var dg=!1;if(Dn){var bf;if(Dn){var Tf="oninput"in document;if(!Tf){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),Tf=typeof mg.oninput=="function"}bf=Tf}else bf=!1;dg=bf&&(!document.documentMode||9<document.documentMode)}function pg(){Ko&&(Ko.detachEvent("onpropertychange",gg),Xo=Ko=null)}function gg(t){if(t.propertyName==="value"&&$u(Xo)){var i=[];hg(i,Xo,t,In(t)),Sr(DT,i)}}function MT(t,i,a){t==="focusin"?(pg(),Ko=i,Xo=a,Ko.attachEvent("onpropertychange",gg)):t==="focusout"&&pg()}function OT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(Xo)}function kT(t,i){if(t==="click")return $u(i)}function VT(t,i){if(t==="input"||t==="change")return $u(i)}function PT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:PT;function Wo(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function yg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _g(t,i){var a=yg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yg(a)}}function vg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?vg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ei(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ei(t.document)}return i}function wf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var LT=Dn&&"documentMode"in document&&11>=document.documentMode,wa=null,Sf=null,Jo=null,Af=!1;function bg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||wa==null||wa!==Ei(l)||(l=wa,"selectionStart"in l&&wf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Wo(Jo,l)||(Jo=l,l=Vc(Sf,"onSelect"),0<l.length&&(i=new wi("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=wa)))}function Ns(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Sa={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},xf={},Tg={};Dn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Sa.animationend.animation,delete Sa.animationiteration.animation,delete Sa.animationstart.animation),"TransitionEvent"in window||delete Sa.transitionend.transition);function Is(t){if(xf[t])return xf[t];if(!Sa[t])return t;var i=Sa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tg)return xf[t]=i[a];return t}var wg=Is("animationend"),Sg=Is("animationiteration"),Ag=Is("animationstart"),UT=Is("transitionrun"),jT=Is("transitionstart"),zT=Is("transitioncancel"),xg=Is("transitionend"),Rg=new Map,Rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rf.push("scrollEnd");function ei(t,i){Rg.set(t,i),_i(i,[t])}var Qu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},On=[],Aa=0,Cf=0;function Ku(){for(var t=Aa,i=Cf=Aa=0;i<t;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var h=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&Cg(a,h,d)}}function Xu(t,i,a,l){On[Aa++]=t,On[Aa++]=i,On[Aa++]=a,On[Aa++]=l,Cf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Nf(t,i,a,l){return Xu(t,i,a,l),Wu(t)}function Ds(t,i){return Xu(t,null,null,i),Wu(t)}function Cg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Wu(t){if(50<El)throw El=0,Ud=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var xa={};function BT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,i,a,l){return new BT(t,i,a,l)}function If(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Ng(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ju(t,i,a,l,h,d){var _=0;if(l=t,typeof t=="function")If(t)&&(_=1);else if(typeof t=="string")_=Yw(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=bn(31,a,i,h),t.elementType=x,t.lanes=d,t;case K:return Ms(a.children,h,d,i);case P:_=8,h|=24;break;case X:return t=bn(12,a,i,h|2),t.elementType=X,t.lanes=d,t;case ne:return t=bn(13,a,i,h),t.elementType=ne,t.lanes=d,t;case le:return t=bn(19,a,i,h),t.elementType=le,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:_=10;break e;case Y:_=9;break e;case ue:_=11;break e;case C:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=bn(_,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ms(t,i,a,l){return t=bn(7,t,l,i),t.lanes=a,t}function Df(t,i,a){return t=bn(6,t,null,i),t.lanes=a,t}function Ig(t){var i=bn(18,null,null,0);return i.stateNode=t,i}function Mf(t,i,a){return i=bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Dg=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=Dg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:No(i)},Dg.set(t,i),i)}return{value:t,source:i,stack:No(i)}}var Ra=[],Ca=0,Zu=null,Zo=0,Vn=[],Pn=0,Cr=null,Ri=1,Ci="";function Fi(t,i){Ra[Ca++]=Zo,Ra[Ca++]=Zu,Zu=t,Zo=i}function Mg(t,i,a){Vn[Pn++]=Ri,Vn[Pn++]=Ci,Vn[Pn++]=Cr,Cr=t;var l=Ri;t=Ci;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var d=32-yt(i)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ri=1<<32-yt(i)+h|a<<h|l,Ci=d+t}else Ri=1<<d|a<<h|l,Ci=t}function Of(t){t.return!==null&&(Fi(t,1),Mg(t,1,0))}function kf(t){for(;t===Zu;)Zu=Ra[--Ca],Ra[Ca]=null,Zo=Ra[--Ca],Ra[Ca]=null;for(;t===Cr;)Cr=Vn[--Pn],Vn[Pn]=null,Ci=Vn[--Pn],Vn[Pn]=null,Ri=Vn[--Pn],Vn[Pn]=null}function Og(t,i){Vn[Pn++]=Ri,Vn[Pn++]=Ci,Vn[Pn++]=Cr,Ri=i.id,Ci=i.overflow,Cr=t}var Yt=null,at=null,Be=!1,Nr=null,Ln=!1,Vf=Error(s(519));function Ir(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw el(kn(i,t)),Vf}function kg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[Ut]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)Ve(Tl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Mu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),br(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||W0(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||Ir(t,!0)}function Vg(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Yt=Yt.return}}function Na(t){if(t!==Yt)return!1;if(!Be)return Vg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Zd(t.type,t.memoizedProps)),a=!a),a&&at&&Ir(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=a_(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));at=a_(t)}else i===27?(i=at,Fr(t.type)?(t=rm,rm=null,at=t):at=i):at=Yt?jn(t.stateNode.nextSibling):null;return!0}function Os(){at=Yt=null,Be=!1}function Pf(){var t=Nr;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Nr=null),t}function el(t){Nr===null?Nr=[t]:Nr.push(t)}var Lf=k(null),ks=null,Gi=null;function Dr(t,i,a){oe(Lf,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=Lf.current,J(Lf)}function Uf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function jf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<i.length;D++)if(T.context===i[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Uf(d.return,a,t),l||(_=null);break e}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Uf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Ia(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;En(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Se.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&jf(i,t,a,l),i.flags|=262144}function ec(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){ks=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function $t(t){return Pg(ks,t)}function tc(t,i){return ks===null&&Vs(t),Pg(t,i)}function Pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var HT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},qT=r.unstable_scheduleCallback,FT=r.unstable_NormalPriority,Rt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new HT,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&qT(FT,function(){t.controller.abort()})}var nl=null,Bf=0,Da=0,Ma=null;function GT(t,i){if(nl===null){var a=nl=[];Bf=0,Da=Fd(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Bf++,i.then(Lg,Lg),i}function Lg(){if(--Bf===0&&nl!==null){Ma!==null&&(Ma.status="fulfilled");var t=nl;nl=null,Da=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function YT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ug=F.S;F.S=function(t,i){b0=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&GT(t,i),Ug!==null&&Ug(t,i)};var Ps=k(null);function Hf(){var t=Ps.current;return t!==null?t:st.pooledCache}function nc(t,i){i===null?oe(Ps,Ps.current):oe(Ps,i.pool)}function jg(){var t=Hf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Oa=Error(s(460)),qf=Error(s(474)),ic=Error(s(542)),rc={then:function(){}};function zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Bg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t}throw Us=i,Oa}}function Ls(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Us=a,Oa):a}}var Us=null;function Hg(){if(Us===null)throw Error(s(459));var t=Us;return Us=null,t}function qg(t){if(t===Oa||t===ic)throw Error(s(483))}var ka=null,il=0;function sc(t){var i=il;return il+=1,ka===null&&(ka=[]),Bg(ka,t,i)}function rl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===R?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Fg(t){function i(U,V){if(t){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=qi(U,V),U.index=0,U.sibling=null,U}function d(U,V,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=67108866,V):z):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function _(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,V,z,ee){return V===null||V.tag!==6?(V=Df(z,U.mode,ee),V.return=U,V):(V=h(V,z),V.return=U,V)}function D(U,V,z,ee){var _e=z.type;return _e===K?W(U,V,z.props.children,ee,z.key):V!==null&&(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Ls(_e)===V.type)?(V=h(V,z.props),rl(V,z),V.return=U,V):(V=Ju(z.type,z.key,z.props,null,U.mode,ee),rl(V,z),V.return=U,V)}function B(U,V,z,ee){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Mf(z,U.mode,ee),V.return=U,V):(V=h(V,z.children||[]),V.return=U,V)}function W(U,V,z,ee,_e){return V===null||V.tag!==7?(V=Ms(z,U.mode,ee,_e),V.return=U,V):(V=h(V,z),V.return=U,V)}function te(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Df(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case L:return z=Ju(V.type,V.key,V.props,null,U.mode,z),rl(z,V),z.return=U,z;case Q:return V=Mf(V,U.mode,z),V.return=U,V;case A:return V=Ls(V),te(U,V,z)}if(He(V)||O(V))return V=Ms(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return te(U,sc(V),z);if(V.$$typeof===re)return te(U,tc(U,V),z);ac(U,V)}return null}function q(U,V,z,ee){var _e=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return _e!==null?null:T(U,V,""+z,ee);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return z.key===_e?D(U,V,z,ee):null;case Q:return z.key===_e?B(U,V,z,ee):null;case A:return z=Ls(z),q(U,V,z,ee)}if(He(z)||O(z))return _e!==null?null:W(U,V,z,ee,null);if(typeof z.then=="function")return q(U,V,sc(z),ee);if(z.$$typeof===re)return q(U,V,tc(U,z),ee);ac(U,z)}return null}function $(U,V,z,ee,_e){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return U=U.get(z)||null,T(V,U,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case L:return U=U.get(ee.key===null?z:ee.key)||null,D(V,U,ee,_e);case Q:return U=U.get(ee.key===null?z:ee.key)||null,B(V,U,ee,_e);case A:return ee=Ls(ee),$(U,V,z,ee,_e)}if(He(ee)||O(ee))return U=U.get(z)||null,W(V,U,ee,_e,null);if(typeof ee.then=="function")return $(U,V,z,sc(ee),_e);if(ee.$$typeof===re)return $(U,V,z,tc(V,ee),_e);ac(V,ee)}return null}function me(U,V,z,ee){for(var _e=null,Fe=null,ge=V,Oe=V=0,Le=null;ge!==null&&Oe<z.length;Oe++){ge.index>Oe?(Le=ge,ge=null):Le=ge.sibling;var Ge=q(U,ge,z[Oe],ee);if(Ge===null){ge===null&&(ge=Le);break}t&&ge&&Ge.alternate===null&&i(U,ge),V=d(Ge,V,Oe),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge,ge=Le}if(Oe===z.length)return a(U,ge),Be&&Fi(U,Oe),_e;if(ge===null){for(;Oe<z.length;Oe++)ge=te(U,z[Oe],ee),ge!==null&&(V=d(ge,V,Oe),Fe===null?_e=ge:Fe.sibling=ge,Fe=ge);return Be&&Fi(U,Oe),_e}for(ge=l(ge);Oe<z.length;Oe++)Le=$(ge,U,Oe,z[Oe],ee),Le!==null&&(t&&Le.alternate!==null&&ge.delete(Le.key===null?Oe:Le.key),V=d(Le,V,Oe),Fe===null?_e=Le:Fe.sibling=Le,Fe=Le);return t&&ge.forEach(function(Kr){return i(U,Kr)}),Be&&Fi(U,Oe),_e}function be(U,V,z,ee){if(z==null)throw Error(s(151));for(var _e=null,Fe=null,ge=V,Oe=V=0,Le=null,Ge=z.next();ge!==null&&!Ge.done;Oe++,Ge=z.next()){ge.index>Oe?(Le=ge,ge=null):Le=ge.sibling;var Kr=q(U,ge,Ge.value,ee);if(Kr===null){ge===null&&(ge=Le);break}t&&ge&&Kr.alternate===null&&i(U,ge),V=d(Kr,V,Oe),Fe===null?_e=Kr:Fe.sibling=Kr,Fe=Kr,ge=Le}if(Ge.done)return a(U,ge),Be&&Fi(U,Oe),_e;if(ge===null){for(;!Ge.done;Oe++,Ge=z.next())Ge=te(U,Ge.value,ee),Ge!==null&&(V=d(Ge,V,Oe),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return Be&&Fi(U,Oe),_e}for(ge=l(ge);!Ge.done;Oe++,Ge=z.next())Ge=$(ge,U,Oe,Ge.value,ee),Ge!==null&&(t&&Ge.alternate!==null&&ge.delete(Ge.key===null?Oe:Ge.key),V=d(Ge,V,Oe),Fe===null?_e=Ge:Fe.sibling=Ge,Fe=Ge);return t&&ge.forEach(function(iS){return i(U,iS)}),Be&&Fi(U,Oe),_e}function it(U,V,z,ee){if(typeof z=="object"&&z!==null&&z.type===K&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case L:e:{for(var _e=z.key;V!==null;){if(V.key===_e){if(_e=z.type,_e===K){if(V.tag===7){a(U,V.sibling),ee=h(V,z.props.children),ee.return=U,U=ee;break e}}else if(V.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===A&&Ls(_e)===V.type){a(U,V.sibling),ee=h(V,z.props),rl(ee,z),ee.return=U,U=ee;break e}a(U,V);break}else i(U,V);V=V.sibling}z.type===K?(ee=Ms(z.props.children,U.mode,ee,z.key),ee.return=U,U=ee):(ee=Ju(z.type,z.key,z.props,null,U.mode,ee),rl(ee,z),ee.return=U,U=ee)}return _(U);case Q:e:{for(_e=z.key;V!==null;){if(V.key===_e)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){a(U,V.sibling),ee=h(V,z.children||[]),ee.return=U,U=ee;break e}else{a(U,V);break}else i(U,V);V=V.sibling}ee=Mf(z,U.mode,ee),ee.return=U,U=ee}return _(U);case A:return z=Ls(z),it(U,V,z,ee)}if(He(z))return me(U,V,z,ee);if(O(z)){if(_e=O(z),typeof _e!="function")throw Error(s(150));return z=_e.call(z),be(U,V,z,ee)}if(typeof z.then=="function")return it(U,V,sc(z),ee);if(z.$$typeof===re)return it(U,V,tc(U,z),ee);ac(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(a(U,V.sibling),ee=h(V,z),ee.return=U,U=ee):(a(U,V),ee=Df(z,U.mode,ee),ee.return=U,U=ee),_(U)):a(U,V)}return function(U,V,z,ee){try{il=0;var _e=it(U,V,z,ee);return ka=null,_e}catch(ge){if(ge===Oa||ge===ic)throw ge;var Fe=bn(29,ge,null,U.mode);return Fe.lanes=ee,Fe.return=U,Fe}}}var js=Fg(!0),Gg=Fg(!1),Mr=!1;function Ff(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Wu(t),Cg(t,null,a),i}return Xu(t,l,i,a),Wu(t)}function sl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}function Yf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var $f=!1;function al(){if($f){var t=Ma;if(t!==null)throw t}}function ol(t,i,a,l){$f=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,B=D.next;D.next=null,_===null?d=B:_.next=B,_=D;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==_&&(T===null?W.firstBaseUpdate=B:T.next=B,W.lastBaseUpdate=D))}if(d!==null){var te=h.baseState;_=0,W=B=D=null,T=d;do{var q=T.lane&-536870913,$=q!==T.lane;if($?(Pe&q)===q:(l&q)===q){q!==0&&q===Da&&($f=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var me=t,be=T;q=i;var it=a;switch(be.tag){case 1:if(me=be.payload,typeof me=="function"){te=me.call(it,te,q);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=be.payload,q=typeof me=="function"?me.call(it,te,q):me,q==null)break e;te=b({},te,q);break e;case 2:Mr=!0}}q=T.callback,q!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[q]:$.push(q))}else $={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(B=W=$,D=te):W=W.next=$,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;$=T,T=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);W===null&&(D=te),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=W,d===null&&(h.shared.lanes=0),jr|=_,t.lanes=_,t.memoizedState=te}}function Yg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function $g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yg(a[t],i)}var Va=k(null),oc=k(0);function Qg(t,i){t=tr,oe(oc,t),oe(Va,i),tr=t|i.baseLanes}function Qf(){oe(oc,tr),oe(Va,Va.current)}function Kf(){tr=oc.current,J(Va),J(oc)}var Tn=k(null),Un=null;function Vr(t){var i=t.alternate;oe(vt,vt.current&1),oe(Tn,t),Un===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(Un=t)}function Xf(t){oe(vt,vt.current),oe(Tn,t),Un===null&&(Un=t)}function Kg(t){t.tag===22?(oe(vt,vt.current),oe(Tn,t),Un===null&&(Un=t)):Pr()}function Pr(){oe(vt,vt.current),oe(Tn,Tn.current)}function wn(t){J(Tn),Un===t&&(Un=null),J(vt)}var vt=k(0);function lc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||nm(a)||im(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var $i=0,Ie=null,tt=null,Ct=null,uc=!1,Pa=!1,zs=!1,cc=0,ll=0,La=null,$T=0;function pt(){throw Error(s(321))}function Wf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function Jf(t,i,a,l,h,d){return $i=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,F.H=t===null||t.memoizedState===null?My:dd,zs=!1,d=a(l,h),zs=!1,Pa&&(d=Wg(i,a,l,h)),Xg(t),d}function Xg(t){F.H=hl;var i=tt!==null&&tt.next!==null;if($i=0,Ct=tt=Ie=null,uc=!1,ll=0,La=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&ec(t)&&(Nt=!0))}function Wg(t,i,a,l){Ie=t;var h=0;do{if(Pa&&(La=null),ll=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,Ct=tt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}F.H=Oy,d=i(a,l)}while(Pa);return d}function QT(){var t=F.H,i=t.useState()[0];return i=typeof i.then=="function"?ul(i):i,t=t.useState()[0],(tt!==null?tt.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Zf(){var t=cc!==0;return cc=0,t}function ed(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function td(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}$i=0,Ct=tt=Ie=null,Pa=!1,ll=cc=0,La=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Et(){if(tt===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=tt.next;var i=Ct===null?Ie.memoizedState:Ct.next;if(i!==null)Ct=i,tt=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));tt=t,t={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ul(t){var i=ll;return ll+=1,La===null&&(La=[]),t=Bg(La,t,i),i=Ie,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,F.H=i===null||i.memoizedState===null?My:dd),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ul(t);if(t.$$typeof===re)return $t(t)}throw Error(s(438,String(t)))}function nd(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Qi(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=Et();return id(i,tt,t)}function id(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=_=null,D=null,B=i,W=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(Pe&te)===te:($i&te)===te){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===Da&&(W=!0);else if(($i&q)===q){B=B.next,q===Da&&(W=!0);continue}else te={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=te,_=d):D=D.next=te,Ie.lanes|=q,jr|=q;te=B.action,zs&&a(d,te),d=B.hasEagerState?B.eagerState:a(d,te)}else q={lane:te,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(T=D=q,_=d):D=D.next=q,Ie.lanes|=te,jr|=te;B=B.next}while(B!==null&&B!==i);if(D===null?_=d:D.next=T,!En(d,t.memoizedState)&&(Nt=!0,W&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rd(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);En(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Jg(t,i,a){var l=Ie,h=Et(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!En((tt||h).memoizedState,a);if(_&&(h.memoizedState=a,Nt=!0),h=h.queue,od(ty.bind(null,l,h,t),[t]),h.getSnapshot!==i||_||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,Ua(9,{destroy:void 0},ey.bind(null,l,h,a,i),null),st===null)throw Error(s(349));d||($i&127)!==0||Zg(l,i,a)}return a}function Zg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=hc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ey(t,i,a,l){i.value=a,i.getSnapshot=l,ny(i)&&iy(t)}function ty(t,i,a){return a(function(){ny(i)&&iy(t)})}function ny(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function iy(t){var i=Ds(t,2);i!==null&&pn(i,t,2)}function sd(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),zs){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function ry(t,i,a,l){return t.baseState=a,id(t,tt,typeof l=="function"?l:Qi)}function KT(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};F.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,sy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function sy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=F.T,_={};F.T=_;try{var T=a(h,l),D=F.S;D!==null&&D(_,T),ay(t,i,T)}catch(B){ad(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),F.T=d}}else try{d=a(h,l),ay(t,i,d)}catch(B){ad(t,i,B)}}function ay(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){oy(t,i,l)},function(l){return ad(t,i,l)}):oy(t,i,a)}function oy(t,i,a){i.status="fulfilled",i.value=a,ly(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,sy(t,a)))}function ad(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,ly(i),i=i.next;while(i!==l)}t.action=null}function ly(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function uy(t,i){return i}function cy(t,i){if(Be){var a=st.formState;if(a!==null){e:{var l=Ie;if(Be){if(at){t:{for(var h=at,d=Ln;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){at=jn(h.nextSibling),l=h.data==="F!";break e}}Ir(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uy,lastRenderedState:i},a.queue=l,a=Ny.bind(null,Ie,l),l.dispatch=a,l=sd(!1),d=fd.bind(null,Ie,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=KT.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function hy(t){var i=Et();return fy(i,tt,t)}function fy(t,i,a){if(i=id(t,i,uy)[0],t=dc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ul(i)}catch(_){throw _===Oa?ic:_}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ua(9,{destroy:void 0},XT.bind(null,h,a),null)),[l,d,t]}function XT(t,i){t.action=i}function dy(t){var i=Et(),a=tt;if(a!==null)return fy(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ua(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=hc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function my(){return Et().memoizedState}function mc(t,i,a,l){var h=on();Ie.flags|=t,h.memoizedState=Ua(1|i,{destroy:void 0},a,l===void 0?null:l)}function pc(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;tt!==null&&l!==null&&Wf(l,tt.memoizedState.deps)?h.memoizedState=Ua(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ua(1|i,d,a,l))}function py(t,i){mc(8390656,8,t,i)}function od(t,i){pc(2048,8,t,i)}function WT(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=hc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function gy(t){var i=Et().memoizedState;return WT({ref:i,nextImpl:t}),function(){if(($e&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function yy(t,i){return pc(4,2,t,i)}function _y(t,i){return pc(4,4,t,i)}function vy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ey(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,vy.bind(null,i,t),a)}function ld(){}function by(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Wf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ty(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Wf(i,l[1]))return l[0];if(l=t(),zs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l}function ud(t,i,a){return a===void 0||($i&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=w0(),Ie.lanes|=t,jr|=t,a)}function wy(t,i,a,l){return En(a,i)?a:Va.current!==null?(t=ud(t,a,l),En(t,i)||(Nt=!0),t):($i&42)===0||($i&1073741824)!==0&&(Pe&261930)===0?(Nt=!0,t.memoizedState=a):(t=w0(),Ie.lanes|=t,jr|=t,i)}function Sy(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var _=F.T,T={};F.T=T,fd(t,!1,i,a);try{var D=h(),B=F.S;if(B!==null&&B(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=YT(D,l);cl(t,i,W,xn(t))}else cl(t,i,l,xn(t))}catch(te){cl(t,i,{then:function(){},status:"rejected",reason:te},xn())}finally{ae.p=d,_!==null&&T.types!==null&&(_.types=T.types),F.T=_}}function JT(){}function cd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ay(t).queue;Sy(t,h,i,pe,a===null?JT:function(){return xy(t),a(l)})}function Ay(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function xy(t){var i=Ay(t);i.next===null&&(i=t.alternate.memoizedState),cl(t,i.next.queue,{},xn())}function hd(){return $t(Rl)}function Ry(){return Et().memoizedState}function Cy(){return Et().memoizedState}function ZT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Or(a);var l=kr(i,t,a);l!==null&&(pn(l,i,a),sl(l,i,a)),i={cache:zf()},t.payload=i;return}i=i.return}}function ew(t,i,a){var l=xn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?Iy(i,a):(a=Nf(t,i,a,l),a!==null&&(pn(a,t,l),Dy(a,i,l)))}function Ny(t,i,a){var l=xn();cl(t,i,a,l)}function cl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))Iy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,En(T,_))return Xu(t,i,h,0),st===null&&Ku(),!1}catch{}if(a=Nf(t,i,h,l),a!==null)return pn(a,t,l),Dy(a,i,l),!0}return!1}function fd(t,i,a,l){if(l={lane:2,revertLane:Fd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=Nf(t,a,l,2),i!==null&&pn(i,t,2)}function gc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Iy(t,i){Pa=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Dy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Mo(t,a)}}var hl={readContext:$t,use:fc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt};hl.useEffectEvent=pt;var My={readContext:$t,use:fc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:$t,useEffect:py,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,vy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(zs){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(zs){Cn(!0);try{a(i)}finally{Cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ew.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=sd(t);var i=t.queue,a=Ny.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ld,useDeferredValue:function(t,i){var a=on();return ud(a,t,i)},useTransition:function(){var t=sd(!1);return t=Sy.bind(null,Ie,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=on();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),st===null)throw Error(s(349));(Pe&127)!==0||Zg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,py(ty.bind(null,l,d,t),[t]),l.flags|=2048,Ua(9,{destroy:void 0},ey.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=st.identifierPrefix;if(Be){var a=Ci,l=Ri;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=$T++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:hd,useFormState:cy,useActionState:cy,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=fd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:nd,useCacheRefresh:function(){return on().memoizedState=ZT.bind(null,Ie)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if(($e&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},dd={readContext:$t,use:fc,useCallback:by,useContext:$t,useEffect:od,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ty,useReducer:dc,useRef:my,useState:function(){return dc(Qi)},useDebugValue:ld,useDeferredValue:function(t,i){var a=Et();return wy(a,tt.memoizedState,t,i)},useTransition:function(){var t=dc(Qi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Jg,useId:Ry,useHostTransitionStatus:hd,useFormState:hy,useActionState:hy,useOptimistic:function(t,i){var a=Et();return ry(a,tt,t,i)},useMemoCache:nd,useCacheRefresh:Cy};dd.useEffectEvent=gy;var Oy={readContext:$t,use:fc,useCallback:by,useContext:$t,useEffect:od,useImperativeHandle:Ey,useInsertionEffect:yy,useLayoutEffect:_y,useMemo:Ty,useReducer:rd,useRef:my,useState:function(){return rd(Qi)},useDebugValue:ld,useDeferredValue:function(t,i){var a=Et();return tt===null?ud(a,t,i):wy(a,tt.memoizedState,t,i)},useTransition:function(){var t=rd(Qi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:ul(t),i]},useSyncExternalStore:Jg,useId:Ry,useHostTransitionStatus:hd,useFormState:dy,useActionState:dy,useOptimistic:function(t,i){var a=Et();return tt!==null?ry(a,tt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nd,useCacheRefresh:Cy};Oy.useEffectEvent=gy;function md(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Or(l);h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(pn(i,t,l),sl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Or(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=kr(t,h,l),i!==null&&(pn(i,t,l),sl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=kr(t,l,a),i!==null&&(pn(i,t,a),sl(i,t,a))}};function ky(t,i,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!Wo(a,l)||!Wo(h,d):!0}function Vy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&pd.enqueueReplaceState(i,i.state,null)}function Bs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Py(t){Qu(t)}function Ly(t){console.error(t)}function Uy(t){Qu(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function jy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function zy(t){return t=Or(t),t.tag=3,t}function By(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){jy(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){jy(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function tw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Ia(i,a,h,!0),a=Tn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Nc():a.alternate===null&&gt===0&&(gt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Bd(t,l,h)),!1;case 22:return a.flags|=65536,l===rc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Bd(t,l,h)),!1}throw Error(s(435,a.tag))}return Bd(t,l,h),Nc(),!1}if(Be)return i=Tn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Vf&&(t=Error(s(422),{cause:l}),el(kn(t,a)))):(l!==Vf&&(i=Error(s(423),{cause:l}),el(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=gd(t.stateNode,l,h),Yf(t,h),gt!==4&&(gt=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),vl===null?vl=[d]:vl.push(d),gt!==4&&(gt=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=gd(a.stateNode,l,t),Yf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=zy(h),By(h,t,a,l),Yf(a,h),!1}a=a.return}while(a!==null);return!1}var yd=Error(s(461)),Nt=!1;function Qt(t,i,a,l){i.child=t===null?Gg(i,null,a,l):js(i,t.child,a,l)}function Hy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Vs(i),l=Jf(t,i,a,_,d,h),T=Zf(),t!==null&&!Nt?(ed(t,i,h),Ki(t,i,h)):(Be&&T&&Of(i),i.flags|=1,Qt(t,i,l,h),i.child)}function qy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!If(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Fy(t,i,d,l,h)):(t=Ju(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ad(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(_,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=qi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Fy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Wo(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,Ad(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return _d(t,i,a,l,h)}function Gy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Yy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&nc(i,d!==null?d.cachePool:null),d!==null?Qg(i,d):Qf(),Kg(i);else return l=i.lanes=536870912,Yy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(nc(i,d.cachePool),Qg(i,d),Pr(),i.memoizedState=null):(t!==null&&nc(i,null),Qf(),Pr());return Qt(t,i,h,a),i.child}function fl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Yy(t,i,a,l,h){var d=Hf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&nc(i,null),Qf(),Kg(i),t!==null&&Ia(t,i,l,!0),i.childLanes=h,null}function _c(t,i){return i=Ec({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function $y(t,i,a){return js(i,t.child,null,a),t=_c(i,i.pendingProps),t.flags|=2,wn(i),i.memoizedState=null,t}function nw(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=_c(i,l),i.lanes=536870912,fl(null,t);if(Xf(i),(t=at)?(t=s_(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Ig(t),a.return=i,i.child=a,Yt=i,at=null)):t=null,t===null)throw Ir(i);return i.lanes=536870912,null}return _c(i,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Xf(i),h)if(i.flags&256)i.flags&=-257,i=$y(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(Nt||Ia(t,i,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=st,l!==null&&(_=Oo(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ds(t,_),pn(l,t,_),yd;Nc(),i=$y(t,i,a)}else t=d.treeContext,at=jn(_.nextSibling),Yt=i,Be=!0,Nr=null,Ln=!1,t!==null&&Og(i,t),i=_c(i,l),i.flags|=4096;return i}return t=qi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function vc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function _d(t,i,a,l,h){return Vs(i),a=Jf(t,i,a,l,void 0,h),l=Zf(),t!==null&&!Nt?(ed(t,i,h),Ki(t,i,h)):(Be&&l&&Of(i),i.flags|=1,Qt(t,i,a,h),i.child)}function Qy(t,i,a,l,h,d){return Vs(i),i.updateQueue=null,a=Wg(i,l,a,h),Xg(t),l=Zf(),t!==null&&!Nt?(ed(t,i,d),Ki(t,i,d)):(Be&&l&&Of(i),i.flags|=1,Qt(t,i,a,d),i.child)}function Ky(t,i,a,l,h){if(Vs(i),i.stateNode===null){var d=xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=$t(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Ff(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?$t(_):xa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(md(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&pd.enqueueReplaceState(d,d.state,null),ol(i,l,d,h),al(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,D=Bs(a,T);d.props=D;var B=d.context,W=a.contextType;_=xa,typeof W=="object"&&W!==null&&(_=$t(W));var te=a.getDerivedStateFromProps;W=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==_)&&Vy(i,d,l,_),Mr=!1;var q=i.memoizedState;d.state=q,ol(i,l,d,h),al(),B=i.memoizedState,T||q!==B||Mr?(typeof te=="function"&&(md(i,a,te,l),B=i.memoizedState),(D=Mr||ky(i,a,D,l,q,B,_))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Gf(t,i),_=i.memoizedProps,W=Bs(a,_),d.props=W,te=i.pendingProps,q=d.context,B=a.contextType,D=xa,typeof B=="object"&&B!==null&&(D=$t(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==te||q!==D)&&Vy(i,d,l,D),Mr=!1,q=i.memoizedState,d.state=q,ol(i,l,d,h),al();var $=i.memoizedState;_!==te||q!==$||Mr||t!==null&&t.dependencies!==null&&ec(t.dependencies)?(typeof T=="function"&&(md(i,a,T,l),$=i.memoizedState),(W=Mr||ky(i,a,W,l,q,$,D)||t!==null&&t.dependencies!==null&&ec(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=D,l=W):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,vc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=js(i,t.child,null,h),i.child=js(i,null,a,h)):Qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Xy(t,i,a,l){return Os(),i.flags|=256,Qt(t,i,a,l),i.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(t){return{baseLanes:t,cachePool:jg()}}function bd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=An),t}function Wy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Vr(i):Pr(),(t=at)?(t=s_(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Cr!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},a=Ig(t),a.return=i,i.child=a,Yt=i,at=null)):t=null,t===null)throw Ir(i);return im(t)?i.lanes=32:i.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Pr(),h=i.mode,T=Ec({mode:"hidden",children:T},h),l=Ms(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,l=i.child,l.memoizedState=Ed(a),l.childLanes=bd(t,_,a),i.memoizedState=vd,fl(null,l)):(Vr(i),Td(i,T))}var D=t.memoizedState;if(D!==null&&(T=D.dehydrated,T!==null)){if(d)i.flags&256?(Vr(i),i.flags&=-257,i=wd(t,i,a)):i.memoizedState!==null?(Pr(),i.child=t.child,i.flags|=128,i=null):(Pr(),T=l.fallback,h=i.mode,l=Ec({mode:"visible",children:l.children},h),T=Ms(T,h,a,null),T.flags|=2,l.return=i,T.return=i,l.sibling=T,i.child=l,js(i,t.child,null,a),l=i.child,l.memoizedState=Ed(a),l.childLanes=bd(t,_,a),i.memoizedState=vd,i=fl(null,l));else if(Vr(i),im(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var B=_.dgst;_=B,l=Error(s(419)),l.stack="",l.digest=_,el({value:l,source:null,stack:null}),i=wd(t,i,a)}else if(Nt||Ia(t,i,a,!1),_=(a&t.childLanes)!==0,Nt||_){if(_=st,_!==null&&(l=Oo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ds(t,l),pn(_,t,l),yd;nm(T)||Nc(),i=wd(t,i,a)}else nm(T)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,at=jn(T.nextSibling),Yt=i,Be=!0,Nr=null,Ln=!1,t!==null&&Og(i,t),i=Td(i,l.children),i.flags|=4096);return i}return h?(Pr(),T=l.fallback,h=i.mode,D=t.child,B=D.sibling,l=qi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?T=qi(B,T):(T=Ms(T,h,a,null),T.flags|=2),T.return=i,l.return=i,l.sibling=T,i.child=l,fl(null,l),l=i.child,T=t.child.memoizedState,T===null?T=Ed(a):(h=T.cachePool,h!==null?(D=Rt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=jg(),T={baseLanes:T.baseLanes|a,cachePool:h}),l.memoizedState=T,l.childLanes=bd(t,_,a),i.memoizedState=vd,fl(t.child,l)):(Vr(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Td(t,i){return i=Ec({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ec(t,i){return t=bn(22,t,null,i),t.lanes=0,t}function wd(t,i,a){return js(i,t.child,null,a),t=Td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jy(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Uf(t.return,i,a)}function Sd(t,i,a,l,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Zy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var _=vt.current,T=(_&2)!==0;if(T?(_=_&1|2,i.flags|=128):_&=1,oe(vt,_),Qt(t,i,l,a),l=Be?Zo:0,!T&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,a,i);else if(t.tag===19)Jy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Sd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Sd(i,!0,a,null,d,l);break;case"together":Sd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Ia(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ec(t)))}function iw(t,i,a){switch(i.tag){case 3:ut(i,i.stateNode.containerInfo),Dr(i,Rt,t.memoizedState.cache),Os();break;case 27:case 5:yn(i);break;case 4:ut(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Xf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wy(t,i,a):(Vr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Vr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Ia(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Zy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),oe(vt,vt.current),l)break;return null;case 22:return i.lanes=0,Gy(t,i,a,i.pendingProps);case 24:Dr(i,Rt,t.memoizedState.cache)}return Ki(t,i,a)}function e0(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!Ad(t,a)&&(i.flags&128)===0)return Nt=!1,iw(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&Mg(i,Zo,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Ls(i.elementType),i.type=t,typeof t=="function")If(t)?(l=Bs(t,l),i.tag=1,i=Ky(null,i,t,l,a)):(i.tag=0,i=_d(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===ue){i.tag=11,i=Hy(null,i,t,l,a);break e}else if(h===C){i.tag=14,i=qy(null,i,t,l,a);break e}}throw i=De(t)||t,Error(s(306,i,""))}}return i;case 0:return _d(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Bs(l,i.pendingProps),Ky(t,i,l,h,a);case 3:e:{if(ut(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Gf(t,i),ol(i,l,null,a);var _=i.memoizedState;if(l=_.cache,Dr(i,Rt,l),l!==d.cache&&jf(i,[Rt],a,!0),al(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Xy(t,i,l,a);break e}else if(l!==h){h=kn(Error(s(424)),i),el(h),i=Xy(t,i,l,a);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,at=jn(t.firstChild),Yt=i,Be=!0,Nr=null,Ln=!0,a=Gg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Os(),l===h){i=Ki(t,i,a);break e}Qt(t,i,l,a)}i=i.child}return i;case 26:return vc(t,i),t===null?(a=h_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Pc(de.current).createElement(a),l[St]=i,l[Ut]=t,Kt(l,a,t),At(l),i.stateNode=l):i.memoizedState=h_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return yn(i),t===null&&Be&&(l=i.stateNode=l_(i.type,i.pendingProps,de.current),Yt=i,Ln=!0,h=at,Fr(i.type)?(rm=h,at=jn(l.firstChild)):at=h),Qt(t,i,i.pendingProps.children,a),vc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=at)&&(l=Ow(l,i.type,i.pendingProps,Ln),l!==null?(i.stateNode=l,Yt=i,at=jn(l.firstChild),Ln=!1,h=!0):h=!1),h||Ir(i)),yn(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Zd(h,d)?l=null:_!==null&&Zd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=Jf(t,i,QT,null,null,a),Rl._currentValue=h),vc(t,i),Qt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=at)&&(a=kw(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Yt=i,at=null,t=!0):t=!1),t||Ir(i)),null;case 13:return Wy(t,i,a);case 4:return ut(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=js(i,null,l,a):Qt(t,i,l,a),i.child;case 11:return Hy(t,i,i.type,i.pendingProps,a);case 7:return Qt(t,i,i.pendingProps,a),i.child;case 8:return Qt(t,i,i.pendingProps.children,a),i.child;case 12:return Qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vs(i),h=$t(h),l=l(h),i.flags|=1,Qt(t,i,l,a),i.child;case 14:return qy(t,i,i.type,i.pendingProps,a);case 15:return Fy(t,i,i.type,i.pendingProps,a);case 19:return Zy(t,i,a);case 31:return nw(t,i,a);case 22:return Gy(t,i,a,i.pendingProps);case 24:return Vs(i),l=$t(Rt),t===null?(h=Hf(),h===null&&(h=st,d=zf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Ff(i),Dr(i,Rt,h)):((t.lanes&a)!==0&&(Gf(t,i),ol(i,null,null,a),al()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,Rt,l)):(l=d.cache,Dr(i,Rt,l),l!==h.cache&&jf(i,[Rt],a,!0))),Qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(t){t.flags|=4}function xd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(R0())t.flags|=8192;else throw Us=rc,qf}else t.flags&=-16777217}function t0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!g_(i))if(R0())t.flags|=8192;else throw Us=rc,qf}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ru():536870912,t.lanes|=i,Ha|=i)}function dl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function rw(t,i,a){var l=i.pendingProps;switch(kf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(Rt),rt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Na(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Pf())),ot(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(ot(i),t0(i,d)):(ot(i),xd(i,h,null,l,a))):d?d!==t.memoizedState?(Xi(i),ot(i),t0(i,d)):(ot(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Xi(i),ot(i),xd(i,h,t,l,a)),null;case 27:if(gr(i),a=de.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=he.current,Na(i)?kg(i):(t=l_(h,l,a),i.stateNode=t,Xi(i))}return ot(i),null;case 5:if(gr(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(d=he.current,Na(i))kg(i);else{var _=Pc(de.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(h,{is:l.is}):_.createElement(h)}}d[St]=i,d[Ut]=l;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Kt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Xi(i)}}return ot(i),xd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=de.current,Na(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Yt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W0(t.nodeValue,a)),t||Ir(i,!0)}else t=Pc(t).createTextNode(l),t[St]=i,i.stateNode=t}return ot(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Na(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[St]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),t=!1}else a=Pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(wn(i),i):(wn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Na(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=Pf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(wn(i),i):(wn(i),null)}return wn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),ot(i),null);case 4:return rt(),t===null&&Qd(i.stateNode.containerInfo),ot(i),null;case 10:return Yi(i.type),ot(i),null;case 19:if(J(vt),l=i.memoizedState,l===null)return ot(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)dl(l,!1);else{if(gt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=lc(t),d!==null){for(i.flags|=128,dl(l,!1),t=d.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Ng(a,t),a=a.sibling;return oe(vt,vt.current&1|2),Be&&Fi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>xc&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304)}else{if(!h)if(t=lc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),dl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return ot(i),null}else 2*sn()-l.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,h=!0,dl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=vt.current,oe(vt,h?a&1|2:a&1),Be&&Fi(i,l.treeForkCount),t):(ot(i),null);case 22:case 23:return wn(i),Kf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&J(Ps),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(Rt),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function sw(t,i){switch(kf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(Rt),rt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gr(i),null;case 31:if(i.memoizedState!==null){if(wn(i),i.alternate===null)throw Error(s(340));Os()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(wn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Os()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return J(vt),null;case 4:return rt(),null;case 10:return Yi(i.type),null;case 22:case 23:return wn(i),Kf(),t!==null&&J(Ps),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(Rt),null;case 25:return null;default:return null}}function n0(t,i){switch(kf(i),i.tag){case 3:Yi(Rt),rt();break;case 26:case 27:case 5:gr(i);break;case 4:rt();break;case 31:i.memoizedState!==null&&wn(i);break;case 13:wn(i);break;case 19:J(vt);break;case 10:Yi(i.type);break;case 22:case 23:wn(i),Kf(),t!==null&&J(Ps);break;case 24:Yi(Rt)}}function ml(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function Lr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=i;var D=a,B=T;try{B()}catch(W){We(h,D,W)}}}l=l.next}while(l!==d)}}catch(W){We(i,i.return,W)}}function i0(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$g(i,a)}catch(l){We(t,t.return,l)}}}function r0(t,i,a){a.props=Bs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function pl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function s0(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Rd(t,i,a){try{var l=t.stateNode;Rw(l,t.type,a,i),l[Ut]=i}catch(h){We(t,t.return,h)}}function a0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function Cd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||a0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Nd(t,i,a),t=t.sibling;t!==null;)Nd(t,i,a),t=t.sibling}function Tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}function o0(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Kt(i,l,a),i[St]=t,i[Ut]=a}catch(d){We(t,t.return,d)}}var Wi=!1,It=!1,Id=!1,l0=typeof WeakSet=="function"?WeakSet:Set,zt=null;function aw(t,i){if(t=t.containerInfo,Wd=qc,t=Eg(t),wf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,T=-1,D=-1,B=0,W=0,te=t,q=null;t:for(;;){for(var $;te!==a||h!==0&&te.nodeType!==3||(T=_+h),te!==d||l!==0&&te.nodeType!==3||(D=_+l),te.nodeType===3&&(_+=te.nodeValue.length),($=te.firstChild)!==null;)q=te,te=$;for(;;){if(te===t)break t;if(q===a&&++B===h&&(T=_),q===d&&++W===l&&(D=_),($=te.nextSibling)!==null)break;te=q,q=te.parentNode}te=$}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},qc=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var me=Bs(a.type,h);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){We(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)tm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":tm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function u0(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&ml(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var h=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&i0(a),l&512&&pl(a,a.return);break;case 3:if(Zi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$g(t,i)}catch(_){We(a,a.return,_)}}break;case 27:i===null&&l&4&&o0(a);case 26:case 5:Zi(t,a),i===null&&l&4&&s0(a),l&512&&pl(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),l&4&&f0(t,a);break;case 13:Zi(t,a),l&4&&d0(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=pw.bind(null,a),Vw(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){i=i!==null&&i.memoizedState!==null||It,h=Wi;var d=It;Wi=l,(It=i)&&!d?er(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),Wi=h,It=d}break;case 30:break;default:Zi(t,a)}}function c0(t){var i=t.alternate;i!==null&&(t.alternate=null,c0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&fa(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,hn=!1;function Ji(t,i,a){for(a=a.child;a!==null;)h0(t,i,a),a=a.sibling}function h0(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:It||Ni(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:It||Ni(a,i);var l=ht,h=hn;Fr(a.type)&&(ht=a.stateNode,hn=!1),Ji(t,i,a),Sl(a.stateNode),ht=l,hn=h;break;case 5:It||Ni(a,i);case 6:if(l=ht,h=hn,ht=null,Ji(t,i,a),ht=l,hn=h,ht!==null)if(hn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{ht.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:ht!==null&&(hn?(t=ht,i_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):i_(ht,a.stateNode));break;case 4:l=ht,h=hn,ht=a.stateNode.containerInfo,hn=!0,Ji(t,i,a),ht=l,hn=h;break;case 0:case 11:case 14:case 15:Lr(2,a,i),It||Lr(4,a,i),Ji(t,i,a);break;case 1:It||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&r0(a,i,l)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:It=(l=It)||a.memoizedState!==null,Ji(t,i,a),It=l;break;default:Ji(t,i,a)}}function f0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Xa(t)}catch(a){We(i,i.return,a)}}}function d0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){We(i,i.return,a)}}function ow(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new l0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new l0),i;default:throw Error(s(435,t.tag))}}function wc(t,i){var a=ow(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=gw.bind(null,t,l);l.then(h,h)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=i,T=_;e:for(;T!==null;){switch(T.tag){case 27:if(Fr(T.type)){ht=T.stateNode,hn=!1;break e}break;case 5:ht=T.stateNode,hn=!1;break e;case 3:case 4:ht=T.stateNode.containerInfo,hn=!0;break e}T=T.return}if(ht===null)throw Error(s(160));h0(d,_,h),ht=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)m0(i,t),i=i.sibling}var ti=null;function m0(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Lr(3,t,t.return),ml(3,t),Lr(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(It||a===null||Ni(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(fn(i,t),dn(t),l&512&&(It||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[pi]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Kt(d,l,a),d[St]=t,At(d),l=d;break e;case"link":var _=m_("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;case"meta":if(_=m_("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break t}}d=h.createElement(l),Kt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,At(d),l=d}t.stateNode=l}else p_(h,t.type,t.stateNode);else t.stateNode=d_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?p_(h,t.type,t.stateNode):d_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(It||a===null||Ni(a,a.return)),a!==null&&l&4&&Rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(It||a===null||Ni(a,a.return)),t.flags&32){h=t.stateNode;try{cn(h,"")}catch(me){We(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Rd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Id=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){We(t,t.return,me)}}break;case 3:if(jc=null,h=ti,ti=Lc(i.containerInfo),fn(i,t),ti=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(i.containerInfo)}catch(me){We(t,t.return,me)}Id&&(Id=!1,p0(t));break;case 4:l=ti,ti=Lc(t.stateNode.containerInfo),fn(i,t),dn(t),ti=l;break;case 12:fn(i,t),dn(t);break;case 31:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ac=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Wi,W=It;if(Wi=B||h,It=W||D,fn(i,t),It=W,Wi=B,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Wi||It||Hs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=D.stateNode;var te=D.memoizedProps.style,q=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(me){We(D,D.return,me)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(me){We(D,D.return,me)}}}else if(i.tag===18){if(a===null){D=i;try{var $=D.stateNode;h?r_($,!0):r_(D.stateNode,!1)}catch(me){We(D,D.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wc(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wc(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(a0(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Cd(t);Tc(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(cn(_,""),a.flags&=-33);var T=Cd(t);Tc(t,T,_);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Cd(t);Nd(t,B,D);break;default:throw Error(s(161))}}catch(W){We(t,t.return,W)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function p0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;p0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)u0(t,i.alternate,i),i=i.sibling}function Hs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Lr(4,i,i.return),Hs(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&r0(i,i.return,a),Hs(i);break;case 27:Sl(i.stateNode);case 26:case 5:Ni(i,i.return),Hs(i);break;case 22:i.memoizedState===null&&Hs(i);break;case 30:Hs(i);break;default:Hs(i)}t=t.sibling}}function er(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:er(h,d,a),ml(4,d);break;case 1:if(er(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Yg(D[h],T)}catch(B){We(l,l.return,B)}}a&&_&64&&i0(d),pl(d,d.return);break;case 27:o0(d);case 26:case 5:er(h,d,a),a&&l===null&&_&4&&s0(d),pl(d,d.return);break;case 12:er(h,d,a);break;case 31:er(h,d,a),a&&_&4&&f0(h,d);break;case 13:er(h,d,a),a&&_&4&&d0(h,d);break;case 22:d.memoizedState===null&&er(h,d,a),pl(d,d.return);break;case 30:break;default:er(h,d,a)}i=i.sibling}}function Dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function Md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)g0(t,i,a,l),i=i.sibling}function g0(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),h&2048&&ml(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){We(i,i.return,D)}}else ni(t,i,a,l);break;case 31:ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):gl(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,ja(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Dd(_,i);break;case 24:ni(t,i,a,l),h&2048&&Md(i.alternate,i);break;default:ni(t,i,a,l)}}function ja(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,T=a,D=l,B=_.flags;switch(_.tag){case 0:case 11:case 15:ja(d,_,T,D,h),ml(8,_);break;case 23:break;case 22:var W=_.stateNode;_.memoizedState!==null?W._visibility&2?ja(d,_,T,D,h):gl(d,_):(W._visibility|=2,ja(d,_,T,D,h)),h&&B&2048&&Dd(_.alternate,_);break;case 24:ja(d,_,T,D,h),h&&B&2048&&Md(_.alternate,_);break;default:ja(d,_,T,D,h)}i=i.sibling}}function gl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:gl(a,l),h&2048&&Dd(l.alternate,l);break;case 24:gl(a,l),h&2048&&Md(l.alternate,l);break;default:gl(a,l)}i=i.sibling}}var yl=8192;function za(t,i,a){if(t.subtreeFlags&yl)for(t=t.child;t!==null;)y0(t,i,a),t=t.sibling}function y0(t,i,a){switch(t.tag){case 26:za(t,i,a),t.flags&yl&&t.memoizedState!==null&&$w(a,ti,t.memoizedState,t.memoizedProps);break;case 5:za(t,i,a);break;case 3:case 4:var l=ti;ti=Lc(t.stateNode.containerInfo),za(t,i,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=yl,yl=16777216,za(t,i,a),yl=l):za(t,i,a));break;default:za(t,i,a)}}function _0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function _l(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,E0(l,t)}_0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)v0(t),t=t.sibling}function v0(t){switch(t.tag){case 0:case 11:case 15:_l(t),t.flags&2048&&Lr(9,t,t.return);break;case 3:_l(t);break;case 12:_l(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Sc(t)):_l(t);break;default:_l(t)}}function Sc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,E0(l,t)}_0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Lr(8,i,i.return),Sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Sc(i));break;default:Sc(i)}t=t.sibling}}function E0(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Lr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(c0(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var lw={getCacheForType:function(t){var i=$t(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return $t(Rt).controller.signal}},uw=typeof WeakMap=="function"?WeakMap:Map,$e=0,st=null,ke=null,Pe=0,Xe=0,Sn=null,Ur=!1,Ba=!1,Od=!1,tr=0,gt=0,jr=0,qs=0,kd=0,An=0,Ha=0,vl=null,mn=null,Vd=!1,Ac=0,b0=0,xc=1/0,Rc=null,zr=null,Vt=0,Br=null,qa=null,nr=0,Pd=0,Ld=null,T0=null,El=0,Ud=null;function xn(){return($e&2)!==0&&Pe!==0?Pe&-Pe:F.T!==null?Fd():Cu()}function w0(){if(An===0)if((Pe&536870912)===0||Be){var t=gs;gs<<=1,(gs&3932160)===0&&(gs=262144),An=t}else An=536870912;return t=Tn.current,t!==null&&(t.flags|=32),An}function pn(t,i,a){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Hr(t,Pe,An,!1)),ys(t,a),(($e&2)===0||t!==st)&&(t===st&&(($e&2)===0&&(qs|=a),gt===4&&Hr(t,Pe,An,!1)),Ii(t))}function S0(t,i,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Yn(t,i),h=l?fw(t,i):zd(t,i,!0),d=l;do{if(h===0){Ba&&!l&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!cw(a)){h=zd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var T=t;h=vl;var D=T.current.memoizedState.isDehydrated;if(D&&(Fa(T,_).flags|=256),_=zd(T,_,!1),_!==2){if(Od&&!D){T.errorRecoveryDisabledLanes|=d,qs|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),Hr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(l,i,An,!Ur);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ac+300-sn(),10<h)){if(Hr(l,i,An,!Ur),fi(l,0,!0)!==0)break e;nr=i,l.timeoutHandle=t_(A0.bind(null,l,a,mn,Rc,Vd,i,An,qs,Ha,Ur,d,"Throttled",-0,0),h);break e}A0(l,a,mn,Rc,Vd,i,An,qs,Ha,Ur,d,null,-0,0)}}break}while(!0);Ii(t)}function A0(t,i,a,l,h,d,_,T,D,B,W,te,q,$){if(t.timeoutHandle=-1,te=i.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},y0(i,d,te);var me=(d&62914560)===d?Ac-sn():(d&4194048)===d?b0-sn():0;if(me=Qw(te,me),me!==null){nr=d,t.cancelPendingCommit=me(O0.bind(null,t,i,d,a,l,h,_,T,D,W,te,null,q,$)),Hr(t,d,_,!B);return}}O0(t,i,d,a,l,h,_,T,D)}function cw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,l){i&=~kd,i&=~qs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-yt(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&_s(t,a,i)}function Cc(){return($e&6)===0?(bl(0),!1):!0}function jd(){if(ke!==null){if(Xe===0)var t=ke.return;else t=ke,Gi=ks=null,td(t),ka=null,il=0,t=ke;for(;t!==null;)n0(t.alternate,t),t=t.return;ke=null}}function Fa(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Iw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),nr=0,jd(),st=t,ke=a=qi(t.current,null),Pe=i,Xe=0,Sn=null,Ur=!1,Ba=Yn(t,i),Od=!1,Ha=An=kd=qs=jr=gt=0,mn=vl=null,Vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-yt(l),d=1<<h;i|=t[h],l&=~d}return tr=i,Ku(),a}function x0(t,i){Ie=null,F.H=hl,i===Oa||i===ic?(i=Hg(),Xe=3):i===qf?(i=Hg(),Xe=4):Xe=i===yd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,ke===null&&(gt=1,yc(t,kn(i,t.current)))}function R0(){var t=Tn.current;return t===null?!0:(Pe&4194048)===Pe?Un===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Un:!1}function C0(){var t=F.H;return F.H=hl,t===null?hl:t}function N0(){var t=F.A;return F.A=lw,t}function Nc(){gt=4,Ur||(Pe&4194048)!==Pe&&Tn.current!==null||(Ba=!0),(jr&134217727)===0&&(qs&134217727)===0||st===null||Hr(st,Pe,An,!1)}function zd(t,i,a){var l=$e;$e|=2;var h=C0(),d=N0();(st!==t||Pe!==i)&&(Rc=null,Fa(t,i)),i=!1;var _=gt;e:do try{if(Xe!==0&&ke!==null){var T=ke,D=Sn;switch(Xe){case 8:jd(),_=6;break e;case 3:case 2:case 9:case 6:Tn.current===null&&(i=!0);var B=Xe;if(Xe=0,Sn=null,Ga(t,T,D,B),a&&Ba){_=0;break e}break;default:B=Xe,Xe=0,Sn=null,Ga(t,T,D,B)}}hw(),_=gt;break}catch(W){x0(t,W)}while(!0);return i&&t.shellSuspendCounter++,Gi=ks=null,$e=l,F.H=h,F.A=d,ke===null&&(st=null,Pe=0,Ku()),_}function hw(){for(;ke!==null;)I0(ke)}function fw(t,i){var a=$e;$e|=2;var l=C0(),h=N0();st!==t||Pe!==i?(Rc=null,xc=sn()+500,Fa(t,i)):Ba=Yn(t,i);e:do try{if(Xe!==0&&ke!==null){i=ke;var d=Sn;t:switch(Xe){case 1:Xe=0,Sn=null,Ga(t,i,d,1);break;case 2:case 9:if(zg(d)){Xe=0,Sn=null,D0(i);break}i=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),Ii(t)},d.then(i,i);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:zg(d)?(Xe=0,Sn=null,D0(i)):(Xe=0,Sn=null,Ga(t,i,d,7));break;case 5:var _=null;switch(ke.tag){case 26:_=ke.memoizedState;case 5:case 27:var T=ke;if(_?g_(_):T.stateNode.complete){Xe=0,Sn=null;var D=T.sibling;if(D!==null)ke=D;else{var B=T.return;B!==null?(ke=B,Ic(B)):ke=null}break t}}Xe=0,Sn=null,Ga(t,i,d,5);break;case 6:Xe=0,Sn=null,Ga(t,i,d,6);break;case 8:jd(),gt=6;break e;default:throw Error(s(462))}}dw();break}catch(W){x0(t,W)}while(!0);return Gi=ks=null,F.H=l,F.A=h,$e=a,ke!==null?0:(st=null,Pe=0,Ku(),gt)}function dw(){for(;ke!==null&&!gf();)I0(ke)}function I0(t){var i=e0(t.alternate,t,tr);t.memoizedProps=t.pendingProps,i===null?Ic(t):ke=i}function D0(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Qy(a,i,i.pendingProps,i.type,void 0,Pe);break;case 11:i=Qy(a,i,i.pendingProps,i.type.render,i.ref,Pe);break;case 5:td(i);default:n0(a,i),i=ke=Ng(i,tr),i=e0(a,i,tr)}t.memoizedProps=t.pendingProps,i===null?Ic(t):ke=i}function Ga(t,i,a,l){Gi=ks=null,td(i),ka=null,il=0;var h=i.return;try{if(tw(t,h,i,a,Pe)){gt=1,yc(t,kn(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;gt=1,yc(t,kn(a,t.current)),ke=null;return}i.flags&32768?(Be||l===1?t=!0:Ba||(Pe&536870912)!==0?t=!1:(Ur=t=!0,(l===2||l===9||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),M0(i,t)):Ic(i)}function Ic(t){var i=t;do{if((i.flags&32768)!==0){M0(i,Ur);return}t=i.return;var a=rw(i.alternate,i,tr);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=t}while(i!==null);gt===0&&(gt=5)}function M0(t,i){do{var a=sw(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);gt=6,ke=null}function O0(t,i,a,l,h,d,_,T,D){t.cancelPendingCommit=null;do Dc();while(Vt!==0);if(($e&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Cf,vf(t,a,d,_,T,D),t===st&&(ke=st=null,Pe=0),qa=i,Br=t,nr=a,Pd=d,Ld=h,T0=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yw(_r,function(){return U0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=F.T,F.T=null,h=ae.p,ae.p=2,_=$e,$e|=4;try{aw(t,i,a)}finally{$e=_,ae.p=h,F.T=l}}Vt=1,k0(),V0(),P0()}}function k0(){if(Vt===1){Vt=0;var t=Br,i=qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{m0(i,t);var d=Jd,_=Eg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(_!==T&&T&&T.ownerDocument&&vg(T.ownerDocument.documentElement,T)){if(D!==null&&wf(T)){var B=D.start,W=D.end;if(W===void 0&&(W=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(W,T.value.length);else{var te=T.ownerDocument||document,q=te&&te.defaultView||window;if(q.getSelection){var $=q.getSelection(),me=T.textContent.length,be=Math.min(D.start,me),it=D.end===void 0?be:Math.min(D.end,me);!$.extend&&be>it&&(_=it,it=be,be=_);var U=_g(T,be),V=_g(T,it);if(U&&V&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==V.node||$.focusOffset!==V.offset)){var z=te.createRange();z.setStart(U.node,U.offset),$.removeAllRanges(),be>it?($.addRange(z),$.extend(V.node,V.offset)):(z.setEnd(V.node,V.offset),$.addRange(z))}}}}for(te=[],$=T;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var ee=te[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}qc=!!Wd,Jd=Wd=null}finally{$e=h,ae.p=l,F.T=a}}t.current=i,Vt=2}}function V0(){if(Vt===2){Vt=0;var t=Br,i=qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var l=ae.p;ae.p=2;var h=$e;$e|=4;try{u0(t,i.alternate,i)}finally{$e=h,ae.p=l,F.T=a}}Vt=3}}function P0(){if(Vt===4||Vt===3){Vt=0,bu();var t=Br,i=qa,a=nr,l=T0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Vt=5:(Vt=0,qa=Br=null,L0(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),ji(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=F.T,h=ae.p,ae.p=2,F.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];d(T.value,{componentStack:T.stack})}}finally{F.T=i,ae.p=h}}(nr&3)!==0&&Dc(),Ii(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Ud?El++:(El=0,Ud=t):El=0,bl(0)}}function L0(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function Dc(){return k0(),V0(),P0(),U0()}function U0(){if(Vt!==5)return!1;var t=Br,i=Pd;Pd=0;var a=ji(nr),l=F.T,h=ae.p;try{ae.p=32>a?32:a,F.T=null,a=Ld,Ld=null;var d=Br,_=nr;if(Vt=0,qa=Br=null,nr=0,($e&6)!==0)throw Error(s(331));var T=$e;if($e|=4,v0(d.current),g0(d,d.current,_,a),$e=T,bl(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{ae.p=h,F.T=l,L0(t,i)}}function j0(t,i,a){i=kn(a,i),i=gd(t.stateNode,i,2),t=kr(t,i,2),t!==null&&(ys(t,2),Ii(t))}function We(t,i,a){if(t.tag===3)j0(t,t,a);else for(;i!==null;){if(i.tag===3){j0(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=kn(a,t),a=zy(2),l=kr(i,a,2),l!==null&&(By(a,l,i,t),ys(l,2),Ii(l));break}}i=i.return}}function Bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Od=!0,h.add(a),t=mw.bind(null,t,i,a),i.then(t,t))}function mw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(Pe&a)===a&&(gt===4||gt===3&&(Pe&62914560)===Pe&&300>sn()-Ac?($e&2)===0&&Fa(t,0):kd|=a,Ha===Pe&&(Ha=0)),Ii(t)}function z0(t,i){i===0&&(i=Ru()),t=Ds(t,i),t!==null&&(ys(t,i),Ii(t))}function pw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),z0(t,a)}function gw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),z0(t,a)}function yw(t,i){return kt(t,i)}var Mc=null,Ya=null,Hd=!1,Oc=!1,qd=!1,qr=0;function Ii(t){t!==Ya&&t.next===null&&(Ya===null?Mc=Ya=t:Ya=Ya.next=t),Oc=!0,Hd||(Hd=!0,vw())}function bl(t,i){if(!qd&&Oc){qd=!0;do for(var a=!1,l=Mc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=h&~(_&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,F0(l,d))}else d=Pe,d=fi(l,l===st?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Yn(l,d)||(a=!0,F0(l,d));l=l.next}while(a);qd=!1}}function _w(){B0()}function B0(){Oc=Hd=!1;var t=0;qr!==0&&Nw()&&(t=qr);for(var i=sn(),a=null,l=Mc;l!==null;){var h=l.next,d=H0(l,i);d===0?(l.next=null,a===null?Mc=h:a.next=h,h===null&&(Ya=a)):(a=l,(t!==0||(d&3)!==0)&&(Oc=!0)),l=h}Vt!==0&&Vt!==5||bl(t),qr!==0&&(qr=0)}function H0(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-yt(d),T=1<<_,D=h[_];D===-1?((T&a)===0||(T&l)!==0)&&(h[_]=_f(T,i)):D<=i&&(t.expiredLanes|=T),d&=~T}if(i=st,a=Pe,a=fi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Yn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&yr(l),ji(a)){case 2:case 8:a=Do;break;case 32:a=_r;break;case 268435456:a=Tu;break;default:a=_r}return l=q0.bind(null,t),a=kt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function q0(t,i){if(Vt!==0&&Vt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=Pe;return l=fi(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(S0(t,l,i),H0(t,sn()),t.callbackNode!=null&&t.callbackNode===a?q0.bind(null,t):null)}function F0(t,i){if(Dc())return null;S0(t,i,!0)}function vw(){Dw(function(){($e&6)!==0?kt(Io,_w):B0()})}function Fd(){if(qr===0){var t=Da;t===0&&(t=ci,ci<<=1,(ci&261888)===0&&(ci=256)),qr=t}return qr}function G0(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ga(""+t)}function Y0(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Ew(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=G0((h[Ut]||null).action),_=l.submitter;_&&(i=(i=_[Ut]||null)?G0(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var T=new wi("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qr!==0){var D=_?Y0(h,_):new FormData(h);cd(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=_?Y0(h,_):new FormData(h),cd(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Gd=0;Gd<Rf.length;Gd++){var Yd=Rf[Gd],bw=Yd.toLowerCase(),Tw=Yd[0].toUpperCase()+Yd.slice(1);ei(bw,"on"+Tw)}ei(wg,"onAnimationEnd"),ei(Sg,"onAnimationIteration"),ei(Ag,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(UT,"onTransitionRun"),ei(jT,"onTransitionStart"),ei(zT,"onTransitionCancel"),ei(xg,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ww=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function $0(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var T=l[_],D=T.instance,B=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(W){Qu(W)}h.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(T=l[_],D=T.instance,B=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(W){Qu(W)}h.currentTarget=null,d=D}}}}function Ve(t,i){var a=i[ha];a===void 0&&(a=i[ha]=new Set);var l=t+"__bubble";a.has(l)||(Q0(i,t,2,!1),a.add(l))}function $d(t,i,a){var l=0;i&&(l|=4),Q0(a,t,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Qd(t){if(!t[kc]){t[kc]=!0,ko.forEach(function(a){a!=="selectionchange"&&(ww.has(a)||$d(a,!1,t),$d(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[kc]||(i[kc]=!0,$d("selectionchange",!1,i))}}function Q0(t,i,a,l){switch(w_(i)){case 2:var h=Ww;break;case 8:h=Jw;break;default:h=um}a=h.bind(null,i,a,t),h=void 0,!ws||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Kd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;T!==null;){if(_=gi(T),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}T=T.parentNode}}l=l.return}Sr(function(){var B=d,W=In(a),te=[];e:{var q=Rg.get(t);if(q!==void 0){var $=wi,me=t;switch(t){case"keypress":if(As(a)===0)break e;case"keydown":case"keyup":$=Gu;break;case"focusin":me="focus",$=Rs;break;case"focusout":me="blur",$=Rs;break;case"beforeblur":case"afterblur":$=Rs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=$o;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=y;break;case wg:case Sg:case Ag:$=Uu;break;case xg:$=S;break;case"scroll":case"scrollend":$=Yo;break;case"wheel":$=G;break;case"copy":case"cut":case"paste":$=ju;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Hi;break;case"toggle":case"beforetoggle":$=Ne}var be=(i&4)!==0,it=!be&&(t==="scroll"||t==="scrollend"),U=be?q!==null?q+"Capture":null:q;be=[];for(var V=B,z;V!==null;){var ee=V;if(z=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||z===null||U===null||(ee=Xn(V,U),ee!=null&&be.push(wl(V,ee,z))),it)break;V=V.return}0<be.length&&(q=new $(q,me,null,a,W),te.push({event:q,listeners:be}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",q&&a!==qo&&(me=a.relatedTarget||a.fromElement)&&(gi(me)||me[mi]))break e;if(($||q)&&(q=W.window===W?W:(q=W.ownerDocument)?q.defaultView||q.parentWindow:window,$?(me=a.relatedTarget||a.toElement,$=B,me=me?gi(me):null,me!==null&&(it=u(me),be=me.tag,me!==it||be!==5&&be!==27&&be!==6)&&(me=null)):($=null,me=B),$!==me)){if(be=$o,ee="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(be=Hi,ee="onPointerLeave",U="onPointerEnter",V="pointer"),it=$==null?q:_n($),z=me==null?q:_n(me),q=new be(ee,V+"leave",$,a,W),q.target=it,q.relatedTarget=z,ee=null,gi(W)===B&&(be=new be(U,V+"enter",me,a,W),be.target=z,be.relatedTarget=it,ee=be),it=ee,$&&me)t:{for(be=Sw,U=$,V=me,z=0,ee=U;ee;ee=be(ee))z++;ee=0;for(var _e=V;_e;_e=be(_e))ee++;for(;0<z-ee;)U=be(U),z--;for(;0<ee-z;)V=be(V),ee--;for(;z--;){if(U===V||V!==null&&U===V.alternate){be=U;break t}U=be(U),V=be(V)}be=null}else be=null;$!==null&&K0(te,q,$,be,!1),me!==null&&it!==null&&K0(te,it,me,be,!0)}}e:{if(q=B?_n(B):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var Fe=fg;else if(cg(q))if(dg)Fe=VT;else{Fe=OT;var ge=MT}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&pa(B.elementType)&&(Fe=fg):Fe=kT;if(Fe&&(Fe=Fe(t,B))){hg(te,Fe,a,W);break e}ge&&ge(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&zo(q,"number",q.value)}switch(ge=B?_n(B):window,t){case"focusin":(cg(ge)||ge.contentEditable==="true")&&(wa=ge,Sf=B,Jo=null);break;case"focusout":Jo=Sf=wa=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,bg(te,a,W);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":bg(te,a,W)}var Oe;if(Ye)e:{switch(t){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ta?Cs(t,a)&&(Le="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Le="onCompositionStart");Le&&(xi&&a.locale!=="ko"&&(Ta||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ta&&(Oe=Go()):(Ti=W,Fo="value"in Ti?Ti.value:Ti.textContent,Ta=!0)),ge=Vc(B,Le),0<ge.length&&(Le=new Ai(Le,t,null,a,W),te.push({event:Le,listeners:ge}),Oe?Le.data=Oe:(Oe=ba(a),Oe!==null&&(Le.data=Oe)))),(Oe=Mn?CT(t,a):NT(t,a))&&(Le=Vc(B,"onBeforeInput"),0<Le.length&&(ge=new Ai("onBeforeInput","beforeinput",null,a,W),te.push({event:ge,listeners:Le}),ge.data=Oe)),Ew(te,t,B,a,W)}$0(te,i)})}function wl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(wl(t,h,d)),h=Xn(t,i),h!=null&&l.push(wl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Sw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function K0(t,i,a,l,h){for(var d=i._reactName,_=[];a!==null&&a!==l;){var T=a,D=T.alternate,B=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||B===null||(D=B,h?(B=Xn(a,d),B!=null&&_.unshift(wl(a,B,D))):h||(B=Xn(a,d),B!=null&&_.push(wl(a,B,D)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var Aw=/\r\n?/g,xw=/\u0000|\uFFFD/g;function X0(t){return(typeof t=="string"?t:""+t).replace(Aw,`
`).replace(xw,"")}function W0(t,i){return i=X0(i),X0(t)===i}function nt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||cn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&cn(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":Ho(t,l,d);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&nt(t,i,"name",h.name,h,null),nt(t,i,"formEncType",h.formEncType,h,null),nt(t,i,"formMethod",h.formMethod,h,null),nt(t,i,"formTarget",h.formTarget,h,null)):(nt(t,i,"encType",h.encType,h,null),nt(t,i,"method",h.method,h,null),nt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ga(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ga(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),da(t,"popover",l);break;case"xlinkActuate":xt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":da(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Vu.get(a)||a,da(t,a,l))}}function Xd(t,i,a,l,h,d){switch(a){case"style":Ho(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?cn(t,l):(typeof l=="number"||typeof l=="bigint")&&cn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):da(t,a,l)}}}function Kt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,d,_,a,null)}}h&&nt(t,i,"srcSet",a.srcSet,a,null),l&&nt(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=_=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":_=W;break;case"checked":D=W;break;case"defaultChecked":B=W;break;case"value":d=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:nt(t,i,l,W,a,null)}}Mu(t,d,T,D,B,_,h,!1);return;case"select":Ve("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:nt(t,i,h,T,a,null)}i=d,a=_,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:nt(t,i,_,T,a,null)}br(t,l,h,d);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":nt(t,i,D,l,a,null));return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Ve(Tl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:nt(t,i,B,l,a,null)}return;default:if(pa(i)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Xd(t,i,W,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&nt(t,i,T,l,a,null))}function Rw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,D=null,B=null,W=null;for($ in a){var te=a[$];if(a.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty($)||nt(t,i,$,null,l,te)}}for(var q in l){var $=l[q];if(te=a[q],l.hasOwnProperty(q)&&($!=null||te!=null))switch(q){case"type":d=$;break;case"name":h=$;break;case"checked":B=$;break;case"defaultChecked":W=$;break;case"value":_=$;break;case"defaultValue":T=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==te&&nt(t,i,q,$,l,te)}}ma(t,_,T,D,B,W,d,h);return;case"select":$=_=T=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":$=D;default:l.hasOwnProperty(d)||nt(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==D&&nt(t,i,h,d,l,D)}i=T,a=_,l=$,q!=null?Er(t,!!a,q,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":$=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:nt(t,i,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&nt(t,i,_,h,l,d)}Ou(t,q,$);return;case"option":for(var me in a)q=a[me],a.hasOwnProperty(me)&&q!=null&&!l.hasOwnProperty(me)&&(me==="selected"?t.selected=!1:nt(t,i,me,null,l,q));for(D in l)q=l[D],$=a[D],l.hasOwnProperty(D)&&q!==$&&(q!=null||$!=null)&&(D==="selected"?t.selected=q&&typeof q!="function"&&typeof q!="symbol":nt(t,i,D,q,l,$));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)q=a[be],a.hasOwnProperty(be)&&q!=null&&!l.hasOwnProperty(be)&&nt(t,i,be,null,l,q);for(B in l)if(q=l[B],$=a[B],l.hasOwnProperty(B)&&q!==$&&(q!=null||$!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:nt(t,i,B,q,l,$)}return;default:if(pa(i)){for(var it in a)q=a[it],a.hasOwnProperty(it)&&q!==void 0&&!l.hasOwnProperty(it)&&Xd(t,i,it,void 0,l,q);for(W in l)q=l[W],$=a[W],!l.hasOwnProperty(W)||q===$||q===void 0&&$===void 0||Xd(t,i,W,q,l,$);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&nt(t,i,U,null,l,q);for(te in l)q=l[te],$=a[te],!l.hasOwnProperty(te)||q===$||q==null&&$==null||nt(t,i,te,q,l,$)}function J0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Cw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,_=h.initiatorType,T=h.duration;if(d&&T&&J0(_)){for(_=0,T=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>T)break;var W=D.transferSize,te=D.initiatorType;W&&J0(te)&&(D=D.responseEnd,_+=W*(D<T?1:(T-B)/(D-B)))}if(--l,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Wd=null,Jd=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function Z0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Zd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var em=null;function Nw(){var t=window.event;return t&&t.type==="popstate"?t===em?!1:(em=t,!0):(em=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,Iw=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,Dw=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(t){return n_.resolve(null).then(t).catch(Mw)}:t_;function Mw(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function i_(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),Xa(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Sl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Sl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,T=d.nodeName;d[pi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Sl(t.ownerDocument.body);a=h}while(a);Xa(i)}function r_(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function tm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":tm(a),fa(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ow(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[pi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function kw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function s_(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=jn(t.nextSibling),t===null))return null;return t}function nm(t){return t.data==="$?"||t.data==="$~"}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Vw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var rm=null;function a_(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return jn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function o_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function l_(t,i,a){switch(i=Pc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Sl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fa(t)}var zn=new Map,u_=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ir=ae.d;ae.d={f:Pw,r:Lw,D:Uw,C:jw,L:zw,m:Bw,X:qw,S:Hw,M:Fw};function Pw(){var t=ir.f(),i=Cc();return t||i}function Lw(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?xy(i):ir.r(t)}var $a=typeof document>"u"?null:document;function c_(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=un(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),u_.has(h)||(u_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Kt(i,"link",t),At(i),l.head.appendChild(i)))}}function Uw(t){ir.D(t),c_("dns-prefetch",t,null)}function jw(t,i){ir.C(t,i),c_("preconnect",t,i)}function zw(t,i,a){ir.L(t,i,a);var l=$a;if(l&&t&&i){var h='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Ka(t)}zn.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),zn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Al(d))||i==="script"&&l.querySelector(xl(d))||(i=l.createElement("link"),Kt(i,"link",t),At(i),l.head.appendChild(i)))}}function Bw(t,i){ir.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ka(t)}if(!zn.has(d)&&(t=b({rel:"modulepreload",href:t},i),zn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),Kt(l,"link",t),At(l),a.head.appendChild(l)}}}function Hw(t,i,a){ir.S(t,i,a);var l=$a;if(l&&t){var h=yi(l).hoistableStyles,d=Qa(t);i=i||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Al(d)))T.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=zn.get(d))&&sm(t,a);var D=_=l.createElement("link");At(D),Kt(D,"link",t),D._p=new Promise(function(B,W){D.onload=B,D.onerror=W}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Uc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function qw(t,i){ir.X(t,i);var a=$a;if(a&&t){var l=yi(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=b({src:t,async:!0},i),(i=zn.get(h))&&am(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Fw(t,i){ir.M(t,i);var a=$a;if(a&&t){var l=yi(a).hoistableScripts,h=Ka(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=zn.get(h))&&am(t,i),d=a.createElement("script"),At(d),Kt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function h_(t,i,a,l){var h=(h=de.current)?Lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=yi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=yi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Al(t)))&&!d._p&&(_.instance=d,_.state.loading=5),zn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},zn.set(t,a),d||Gw(h,t,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ka(a),a=yi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+un(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function f_(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function Gw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Kt(i,"link",a),At(i),t.head.appendChild(i))}function Ka(t){return'[src="'+un(t)+'"]'}function xl(t){return"script[async]"+t}function d_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Kt(l,"style",h),Uc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(Al(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=f_(a),(h=zn.get(h))&&sm(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var _=d;return _._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Kt(d,"link",l),i.state.loading|=4,Uc(d,a.precedence,t),i.instance=d;case"script":return d=Ka(a.src),(h=t.querySelector(xl(d)))?(i.instance=h,At(h),h):(l=a,(h=zn.get(d))&&(l=b({},a),am(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Kt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Uc(l,a.precedence,t));return i.instance}function Uc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function sm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function am(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var jc=null;function m_(t,i,a){if(jc===null){var l=new Map,h=jc=new Map;h.set(a,l)}else h=jc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[pi]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function p_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Yw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function g_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function $w(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Qa(l.href),d=i.querySelector(Al(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=zc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=f_(l),(h=zn.get(h))&&sm(l,h),d=d.createElement("link"),At(d);var _=d;_._p=new Promise(function(T,D){_.onload=T,_.onerror=D}),Kt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=zc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var om=0;function Qw(t,i){return t.stylesheets&&t.count===0&&Hc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&om===0&&(om=62500*Cw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Hc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>om?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Hc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Bc=null;function Hc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Bc=new Map,i.forEach(Kw,t),Bc=null,zc.call(t))}function Kw(t,i){if(!(i.state.loading&4)){var a=Bc.get(t);if(a)var l=a.get(null);else{a=new Map,Bc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=zc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:re,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function Xw(t,i,a,l,h,d,_,T,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function y_(t,i,a,l,h,d,_,T,D,B,W,te){return t=new Xw(t,i,a,_,D,B,W,te,T),i=1,d===!0&&(i|=24),d=bn(3,null,null,i),t.current=d,d.stateNode=t,i=zf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Ff(d),t}function __(t){return t?(t=xa,t):xa}function v_(t,i,a,l,h,d){h=__(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=kr(t,l,i),a!==null&&(pn(a,t,i),sl(a,t,i))}function E_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function lm(t,i){E_(t,i),(t=t.alternate)&&E_(t,i)}function b_(t){if(t.tag===13||t.tag===31){var i=Ds(t,67108864);i!==null&&pn(i,t,67108864),lm(t,67108864)}}function T_(t){if(t.tag===13||t.tag===31){var i=xn();i=vs(i);var a=Ds(t,i);a!==null&&pn(a,t,i),lm(t,i)}}var qc=!0;function Ww(t,i,a,l){var h=F.T;F.T=null;var d=ae.p;try{ae.p=2,um(t,i,a,l)}finally{ae.p=d,F.T=h}}function Jw(t,i,a,l){var h=F.T;F.T=null;var d=ae.p;try{ae.p=8,um(t,i,a,l)}finally{ae.p=d,F.T=h}}function um(t,i,a,l){if(qc){var h=cm(l);if(h===null)Kd(t,i,l,Fc,a),S_(t,l);else if(eS(h,t,i,a,l))l.stopPropagation();else if(S_(t,l),i&4&&-1<Zw.indexOf(t)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=hi(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var D=1<<31-yt(_);T.entanglements[1]|=D,_&=~D}Ii(d),($e&6)===0&&(xc=sn()+500,bl(0))}}break;case 31:case 13:T=Ds(d,2),T!==null&&pn(T,d,2),Cc(),lm(d,2)}if(d=cm(l),d===null&&Kd(t,i,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,i,l,null,a)}}function cm(t){return t=In(t),hm(t)}var Fc=null;function hm(t){if(Fc=null,t=gi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Fc=t,null}function w_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ps()){case Io:return 2;case Do:return 8;case _r:case yf:return 32;case Tu:return 268435456;default:return 32}default:return 32}}var fm=!1,Gr=null,Yr=null,$r=null,Cl=new Map,Nl=new Map,Qr=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(i.pointerId)}}function Il(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&b_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function eS(t,i,a,l,h){switch(i){case"focusin":return Gr=Il(Gr,t,i,a,l,h),!0;case"dragenter":return Yr=Il(Yr,t,i,a,l,h),!0;case"mouseover":return $r=Il($r,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,Il(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Nl.set(d,Il(Nl.get(d)||null,t,i,a,l,h)),!0}return!1}function A_(t){var i=gi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,$n(t.priority,function(){T_(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,$n(t.priority,function(){T_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);qo=l,a.target.dispatchEvent(l),qo=null}else return i=Nn(a),i!==null&&b_(i),t.blockedOn=a,!1;i.shift()}return!0}function x_(t,i,a){Gc(t)&&a.delete(i)}function tS(){fm=!1,Gr!==null&&Gc(Gr)&&(Gr=null),Yr!==null&&Gc(Yr)&&(Yr=null),$r!==null&&Gc($r)&&($r=null),Cl.forEach(x_),Nl.forEach(x_)}function Yc(t,i){t.blockedOn===i&&(t.blockedOn=null,fm||(fm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,tS)))}var $c=null;function R_(t){$c!==t&&($c=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){$c===t&&($c=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(hm(l||a)===null)continue;break}var d=Nn(a);d!==null&&(t.splice(i,3),i-=3,cd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Xa(t){function i(D){return Yc(D,t)}Gr!==null&&Yc(Gr,t),Yr!==null&&Yc(Yr,t),$r!==null&&Yc($r,t),Cl.forEach(i),Nl.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)A_(a),a.blockedOn===null&&Qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[Ut]||null;if(typeof d=="function")_||R_(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Ut]||null)T=_.formAction;else if(hm(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),R_(a)}}}function C_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function dm(t){this._internalRoot=t}Qc.prototype.render=dm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();v_(a,l,t,i,null,null)},Qc.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;v_(t.current,2,null,t,null,null),Cc(),i[mi]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Cu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,t),a===0&&A_(t)}};var N_=e.version;if(N_!=="19.2.4")throw Error(s(527,N_,"19.2.4"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var nS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Gn=Kc.inject(nS),Ft=Kc}catch{}}return Ml.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Py,d=Ly,_=Uy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=y_(t,1,!1,null,null,a,l,null,h,d,_,C_),t[mi]=i.current,Qd(t),new dm(i)},Ml.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Py,_=Ly,T=Uy,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=y_(t,1,!0,i,a??null,l,h,D,d,_,T,C_),i.context=__(null),a=i.current,l=xn(),l=vs(l),h=Or(l),h.callback=null,kr(a,h,l),a=l,i.current.lanes=a,ys(i,a),Ii(i),t[mi]=i.current,Qd(t),new Qc(i)},Ml.version="19.2.4",Ml}var j_;function dS(){if(j_)return gm.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),gm.exports=fS(),gm.exports}var mS=dS();var z_="popstate";function pS(r={}){function e(o,u){let{pathname:f="/",search:m="",hash:p=""}=ia(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),zm("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:Xl(u))}function s(o,u){li(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return yS(e,n,s,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function li(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gS(){return Math.random().toString(36).substring(2,10)}function B_(r,e){return{usr:r.state,key:r.key,idx:e}}function zm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?ia(e):e,state:n,key:e&&e.key||s||gS()}}function Xl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ia(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function yS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function b(){m="POP";let P=E(),X=P==null?null:P-g;g=P,p&&p({action:m,location:K.location,delta:X})}function R(P,X){m="PUSH";let Y=zm(K.location,P,X);n&&n(Y,P),g=E()+1;let re=B_(Y,g),ue=K.createHref(Y);try{f.pushState(re,"",ue)}catch(ne){if(ne instanceof DOMException&&ne.name==="DataCloneError")throw ne;o.location.assign(ue)}u&&p&&p({action:m,location:K.location,delta:1})}function L(P,X){m="REPLACE";let Y=zm(K.location,P,X);n&&n(Y,P),g=E();let re=B_(Y,g),ue=K.createHref(Y);f.replaceState(re,"",ue),u&&p&&p({action:m,location:K.location,delta:0})}function Q(P){return _S(P)}let K={get action(){return m},get location(){return r(o,f)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(z_,b),p=P,()=>{o.removeEventListener(z_,b),p=null}},createHref(P){return e(o,P)},createURL:Q,encodeLocation(P){let X=Q(P);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:R,replace:L,go(P){return f.go(P)}};return K}function _S(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),dt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Xl(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function R1(r,e,n="/"){return vS(r,e,n,!1)}function vS(r,e,n,s){let o=typeof e=="string"?ia(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let f=C1(r);ES(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=DS(u);m=NS(f[p],g,s)}return m}function C1(r,e=[],n=[],s="",o=!1){let u=(f,m,p=o,g)=>{let E={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;dt(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let b=or([s,E.relativePath]),R=n.concat(E);f.children&&f.children.length>0&&(dt(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),C1(f.children,e,R,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:RS(b,f.index),routesMeta:R})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of N1(f.path))u(f,m,!0,p)}),e}function N1(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=N1(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function ES(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:CS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var bS=/^:[\w-]+$/,TS=3,wS=2,SS=1,AS=10,xS=-2,H_=r=>r==="*";function RS(r,e){let n=r.split("/"),s=n.length;return n.some(H_)&&(s+=xS),e&&(s+=wS),n.filter(o=>!H_(o)).reduce((o,u)=>o+(bS.test(u)?TS:u===""?SS:AS),s)}function CS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function NS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),R=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:or([u,b.pathname]),pathnameBase:VS(or([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=or([u,b.pathnameBase]))}return f}function Eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=IS(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},R)=>{if(E==="*"){let Q=m[R]||"";f=u.slice(0,u.length-Q.length).replace(/(.)\/+$/,"$1")}const L=m[R];return b&&!L?g[E]=void 0:g[E]=(L||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function IS(r,e=!1,n=!0){li(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function DS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return li(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var MS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function OS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ia(r):r,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=q_(n.substring(1),"/"):u=q_(n,e)):u=e,{pathname:u,search:PS(s),hash:LS(o)}}function q_(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function kS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function I1(r){let e=kS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function D1(r,e,n,s=!1){let o;typeof r=="string"?o=ia(r):(o={...r},dt(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let p=OS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var or=r=>r.join("/").replace(/\/\/+/g,"/"),VS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),PS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,LS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,US=class{constructor(r,e,n,s=!1){this.status=r,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function jS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function zS(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var M1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function O1(r,e){let n=r;if(typeof n!="string"||!MS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,o=!1;if(M1)try{let u=new URL(window.location.href),f=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=ur(f.pathname,e);f.origin===u.origin&&m!=null?n=m+f.search+f.hash:o=!0}catch{li(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var k1=["POST","PUT","PATCH","DELETE"];new Set(k1);var BS=["GET",...k1];new Set(BS);var vo=H.createContext(null);vo.displayName="DataRouter";var Gh=H.createContext(null);Gh.displayName="DataRouterState";var HS=H.createContext(!1),V1=H.createContext({isTransitioning:!1});V1.displayName="ViewTransition";var qS=H.createContext(new Map);qS.displayName="Fetchers";var FS=H.createContext(null);FS.displayName="Await";var Fn=H.createContext(null);Fn.displayName="Navigation";var au=H.createContext(null);au.displayName="Location";var mr=H.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var mp=H.createContext(null);mp.displayName="RouteError";var P1="REACT_ROUTER_ERROR",GS="REDIRECT",YS="ROUTE_ERROR_RESPONSE";function $S(r){if(r.startsWith(`${P1}:${GS}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function QS(r){if(r.startsWith(`${P1}:${YS}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new US(e.status,e.statusText,e.data)}catch{}}function KS(r,{relative:e}={}){dt(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Fn),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:f,hash:o})}function ou(){return H.useContext(au)!=null}function ds(){return dt(ou(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(au).location}var L1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function U1(r){H.useContext(Fn).static||H.useLayoutEffect(r)}function lu(){let{isDataRoute:r}=H.useContext(mr);return r?l2():XS()}function XS(){dt(ou(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(vo),{basename:e,navigator:n}=H.useContext(Fn),{matches:s}=H.useContext(mr),{pathname:o}=ds(),u=JSON.stringify(I1(s)),f=H.useRef(!1);return U1(()=>{f.current=!0}),H.useCallback((p,g={})=>{if(li(f.current,L1),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=D1(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:or([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}H.createContext(null);function uu(r,{relative:e}={}){let{matches:n}=H.useContext(mr),{pathname:s}=ds(),o=JSON.stringify(I1(n));return H.useMemo(()=>D1(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function WS(r,e){return j1(r,e)}function j1(r,e,n,s,o){dt(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=H.useContext(Fn),{matches:f}=H.useContext(mr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",b=m&&m.route;{let Y=b&&b.path||"";B1(g,!b||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let R=ds(),L;if(e){let Y=typeof e=="string"?ia(e):e;dt(E==="/"||Y.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),L=Y}else L=R;let Q=L.pathname||"/",K=Q;if(E!=="/"){let Y=E.replace(/^\//,"").split("/");K="/"+Q.replace(/^\//,"").split("/").slice(Y.length).join("/")}let P=R1(r,{pathname:K});li(b||P!=null,`No routes matched location "${L.pathname}${L.search}${L.hash}" `),li(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${L.pathname}${L.search}${L.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let X=n2(P&&P.map(Y=>Object.assign({},Y,{params:Object.assign({},p,Y.params),pathname:or([E,u.encodeLocation?u.encodeLocation(Y.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?E:or([E,u.encodeLocation?u.encodeLocation(Y.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Y.pathnameBase])})),f,n,s,o);return e&&X?H.createElement(au.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...L},navigationType:"POP"}},X):X}function JS(){let r=o2(),e=jS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var ZS=H.createElement(JS,null),z1=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=QS(r.digest);n&&(r=n)}let e=r!==void 0?H.createElement(mr.Provider,{value:this.props.routeContext},H.createElement(mp.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?H.createElement(e2,{error:r},e):e}};z1.contextType=HS;var bm=new WeakMap;function e2({children:r,error:e}){let{basename:n}=H.useContext(Fn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=$S(e.digest);if(s){let o=bm.get(e);if(o)throw o;let u=O1(s.location,n);if(M1&&!bm.get(e))if(u.isExternal||s.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:s.replace}));throw bm.set(e,f),f}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return r}function t2({routeContext:r,match:e,children:n}){let s=H.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(mr.Provider,{value:r},n)}function n2(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let E=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);dt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let b=u[E];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=E),b.route.id){let{loaderData:R,errors:L}=n,Q=b.route.loader&&!R.hasOwnProperty(b.route.id)&&(!L||L[b.route.id]===void 0);if(b.route.lazy||Q){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(E,b)=>{s(E,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:zS(n.matches),errorInfo:b})}:void 0;return u.reduceRight((E,b,R)=>{let L,Q=!1,K=null,P=null;n&&(L=f&&b.route.id?f[b.route.id]:void 0,K=b.route.errorElement||ZS,m&&(p<0&&R===0?(B1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Q=!0,P=null):p===R&&(Q=!0,P=b.route.hydrateFallbackElement||null)));let X=e.concat(u.slice(0,R+1)),Y=()=>{let re;return L?re=K:Q?re=P:b.route.Component?re=H.createElement(b.route.Component,null):b.route.element?re=b.route.element:re=E,H.createElement(t2,{match:b,routeContext:{outlet:E,matches:X,isDataRoute:n!=null},children:re})};return n&&(b.route.ErrorBoundary||b.route.errorElement||R===0)?H.createElement(z1,{location:n.location,revalidation:n.revalidation,component:K,error:L,children:Y(),routeContext:{outlet:null,matches:X,isDataRoute:!0},onError:g}):Y()},null)}function pp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i2(r){let e=H.useContext(vo);return dt(e,pp(r)),e}function r2(r){let e=H.useContext(Gh);return dt(e,pp(r)),e}function s2(r){let e=H.useContext(mr);return dt(e,pp(r)),e}function gp(r){let e=s2(r),n=e.matches[e.matches.length-1];return dt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function a2(){return gp("useRouteId")}function o2(){let r=H.useContext(mp),e=r2("useRouteError"),n=gp("useRouteError");return r!==void 0?r:e.errors?.[n]}function l2(){let{router:r}=i2("useNavigate"),e=gp("useNavigate"),n=H.useRef(!1);return U1(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{li(n.current,L1),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var F_={};function B1(r,e,n){!e&&!F_[r]&&(F_[r]=!0,li(!1,n))}H.memo(u2);function u2({routes:r,future:e,state:n,onError:s}){return j1(r,void 0,n,s,e)}function jl(r){dt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function c2({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1,unstable_useTransitions:f}){dt(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=r.replace(/^\/*/,"/"),p=H.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:f,future:{}}),[m,o,u,f]);typeof n=="string"&&(n=ia(n));let{pathname:g="/",search:E="",hash:b="",state:R=null,key:L="default"}=n,Q=H.useMemo(()=>{let K=ur(g,m);return K==null?null:{location:{pathname:K,search:E,hash:b,state:R,key:L},navigationType:s}},[m,g,E,b,R,L,s]);return li(Q!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${b}" because it does not start with the basename, so the <Router> won't render anything.`),Q==null?null:H.createElement(Fn.Provider,{value:p},H.createElement(au.Provider,{children:e,value:Q}))}function h2({children:r,location:e}){return WS(Bm(r),e)}function Bm(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,Bm(s.props.children,u));return}dt(s.type===jl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Bm(s.props.children,u)),n.push(f)}),n}var ah="get",oh="application/x-www-form-urlencoded";function Yh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function f2(r){return Yh(r)&&r.tagName.toLowerCase()==="button"}function d2(r){return Yh(r)&&r.tagName.toLowerCase()==="form"}function m2(r){return Yh(r)&&r.tagName.toLowerCase()==="input"}function p2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function g2(r,e){return r.button===0&&(!e||e==="_self")&&!p2(r)}var Wc=null;function y2(){if(Wc===null)try{new FormData(document.createElement("form"),0),Wc=!1}catch{Wc=!0}return Wc}var _2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(r){return r!=null&&!_2.has(r)?(li(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function v2(r,e){let n,s,o,u,f;if(d2(r)){let m=r.getAttribute("action");s=m?ur(m,e):null,n=r.getAttribute("method")||ah,o=Tm(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if(f2(r)||m2(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ur(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=Tm(r.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!y2()){let{name:g,type:E,value:b}=r;if(E==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,b)}}else{if(Yh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function E2(r,e,n,s){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${s}`:o.pathname=`${o.pathname}.${s}`:o.pathname==="/"?o.pathname=`_root.${s}`:e&&ur(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${s}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${s}`,o}async function b2(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function T2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function w2(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await b2(u,n);return f.links?f.links():[]}return[]}));return R2(s.flat(1).filter(T2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function G_(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function S2(r,e,{includeHydrateFallback:n}={}){return A2(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function A2(r){return[...new Set(r)]}function x2(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function R2(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(x2(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function H1(){let r=H.useContext(vo);return yp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function C2(){let r=H.useContext(Gh);return yp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var _p=H.createContext(void 0);_p.displayName="FrameworkContext";function q1(){let r=H.useContext(_p);return yp(r,"You must render this element inside a <HydratedRouter> element"),r}function N2(r,e){let n=H.useContext(_p),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,R=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let K=X=>{X.forEach(Y=>{f(Y.isIntersecting)})},P=new IntersectionObserver(K,{threshold:.5});return R.current&&P.observe(R.current),()=>{P.disconnect()}}},[r]),H.useEffect(()=>{if(s){let K=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(K)}}},[s]);let L=()=>{o(!0)},Q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Ol(m,L),onBlur:Ol(p,Q),onMouseEnter:Ol(g,L),onMouseLeave:Ol(E,Q),onTouchStart:Ol(b,L)}]:[!1,R,{}]}function Ol(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function I2({page:r,...e}){let{router:n}=H1(),s=H.useMemo(()=>R1(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(M2,{page:r,matches:s,...e}):null}function D2(r){let{manifest:e,routeModules:n}=q1(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return w2(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function M2({page:r,matches:e,...n}){let s=ds(),{future:o,manifest:u,routeModules:f}=q1(),{basename:m}=H1(),{loaderData:p,matches:g}=C2(),E=H.useMemo(()=>G_(r,e,g,u,s,"data"),[r,e,g,u,s]),b=H.useMemo(()=>G_(r,e,g,u,s,"assets"),[r,e,g,u,s]),R=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let K=new Set,P=!1;if(e.forEach(Y=>{let re=u.routes[Y.route.id];!re||!re.hasLoader||(!E.some(ue=>ue.route.id===Y.route.id)&&Y.route.id in p&&f[Y.route.id]?.shouldRevalidate||re.hasClientLoader?P=!0:K.add(Y.route.id))}),K.size===0)return[];let X=E2(r,m,o.unstable_trailingSlashAwareDataRequests,"data");return P&&K.size>0&&X.searchParams.set("_routes",e.filter(Y=>K.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[X.pathname+X.search]},[m,o.unstable_trailingSlashAwareDataRequests,p,s,u,E,e,r,f]),L=H.useMemo(()=>S2(b,u),[b,u]),Q=D2(b);return H.createElement(H.Fragment,null,R.map(K=>H.createElement("link",{key:K,rel:"prefetch",as:"fetch",href:K,...n})),L.map(K=>H.createElement("link",{key:K,rel:"modulepreload",href:K,...n})),Q.map(({key:K,link:P})=>H.createElement("link",{key:K,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function O2(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var k2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{k2&&(window.__reactRouterVersion="7.13.0")}catch{}function V2({basename:r,children:e,unstable_useTransitions:n,window:s}){let o=H.useRef();o.current==null&&(o.current=pS({window:s,v5Compat:!0}));let u=o.current,[f,m]=H.useState({action:u.action,location:u.location}),p=H.useCallback(g=>{n===!1?m(g):H.startTransition(()=>m(g))},[n]);return H.useLayoutEffect(()=>u.listen(p),[u,p]),H.createElement(c2,{basename:r,children:e,location:f.location,navigationType:f.action,navigator:u,unstable_useTransitions:n})}var F1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vp=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:R,...L},Q){let{basename:K,unstable_useTransitions:P}=H.useContext(Fn),X=typeof g=="string"&&F1.test(g),Y=O1(g,K);g=Y.to;let re=KS(g,{relative:o}),[ue,ne,le]=N2(s,L),C=j2(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b,unstable_defaultShouldRevalidate:R,unstable_useTransitions:P});function A(M){e&&e(M),M.defaultPrevented||C(M)}let x=H.createElement("a",{...L,...le,href:Y.absoluteURL||re,onClick:Y.isExternal||u?e:A,ref:O2(Q,ne),target:p,"data-discover":!X&&n==="render"?"true":void 0});return ue&&!X?H.createElement(H.Fragment,null,x,H.createElement(I2,{page:re})):x});vp.displayName="Link";var P2=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let b=uu(f,{relative:g.relative}),R=ds(),L=H.useContext(Gh),{navigator:Q,basename:K}=H.useContext(Fn),P=L!=null&&F2(b)&&m===!0,X=Q.encodeLocation?Q.encodeLocation(b).pathname:b.pathname,Y=R.pathname,re=L&&L.navigation&&L.navigation.location?L.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),re=re?re.toLowerCase():null,X=X.toLowerCase()),re&&K&&(re=ur(re,K)||re);const ue=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let ne=Y===X||!o&&Y.startsWith(X)&&Y.charAt(ue)==="/",le=re!=null&&(re===X||!o&&re.startsWith(X)&&re.charAt(X.length)==="/"),C={isActive:ne,isPending:le,isTransitioning:P},A=ne?e:void 0,x;typeof s=="function"?x=s(C):x=[s,ne?"active":null,le?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(C):u;return H.createElement(vp,{...g,"aria-current":A,className:x,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(C):p)});P2.displayName="NavLink";var L2=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:R,...L},Q)=>{let{unstable_useTransitions:K}=H.useContext(Fn),P=H2(),X=q2(m,{relative:g}),Y=f.toLowerCase()==="get"?"get":"post",re=typeof m=="string"&&F1.test(m),ue=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let le=ne.nativeEvent.submitter,C=le?.getAttribute("formmethod")||f,A=()=>P(le||ne.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b,unstable_defaultShouldRevalidate:R});K&&n!==!1?H.startTransition(()=>A()):A()};return H.createElement("form",{ref:Q,method:Y,action:X,onSubmit:s?p:ue,...L,"data-discover":!re&&r==="render"?"true":void 0})});L2.displayName="Form";function U2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(r){let e=H.useContext(vo);return dt(e,U2(r)),e}function j2(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=lu(),E=ds(),b=uu(r,{relative:u});return H.useCallback(R=>{if(g2(R,e)){R.preventDefault();let L=n!==void 0?n:Xl(E)===Xl(b),Q=()=>g(r,{replace:L,state:s,preventScrollReset:o,relative:u,viewTransition:f,unstable_defaultShouldRevalidate:m});p?H.startTransition(()=>Q()):Q()}},[E,g,b,n,s,e,r,o,u,f,m,p])}var z2=0,B2=()=>`__${String(++z2)}__`;function H2(){let{router:r}=G1("useSubmit"),{basename:e}=H.useContext(Fn),n=a2(),s=r.fetch,o=r.navigate;return H.useCallback(async(u,f={})=>{let{action:m,method:p,encType:g,formData:E,body:b}=v2(u,e);if(f.navigate===!1){let R=f.fetcherKey||B2();await s(R,n,f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||p,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||m,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:E,body:b,formMethod:f.method||p,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:n,flushSync:f.flushSync,viewTransition:f.viewTransition})},[s,o,e,n])}function q2(r,{relative:e}={}){let{basename:n}=H.useContext(Fn),s=H.useContext(mr);dt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=ds();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),Xl(u)}function F2(r,{relative:e}={}){let n=H.useContext(V1);dt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=G1("useViewTransitionState"),o=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Eh(o.pathname,f)!=null||Eh(o.pathname,u)!=null}const Y_=r=>{let e;const n=new Set,s=(g,E)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const R=e;e=E??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(L=>L(e,R))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=r(s,o,m);return m},G2=(r=>r?Y_(r):Y_),Y2=r=>r;function $2(r,e=Y2){const n=Xc.useSyncExternalStore(r.subscribe,Xc.useCallback(()=>e(r.getState()),[r,e]),Xc.useCallback(()=>e(r.getInitialState()),[r,e]));return Xc.useDebugValue(n),n}const Q2=r=>{const e=G2(r),n=s=>$2(e,s);return Object.assign(n,e),n},K2=(r=>Q2);function X2(r,e){let n;try{n=r()}catch{return}return{getItem:o=>{var u;const f=p=>p===null?null:JSON.parse(p,void 0),m=(u=n.getItem(o))!=null?u:null;return m instanceof Promise?m.then(f):f(m)},setItem:(o,u)=>n.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>n.removeItem(o)}}const Hm=r=>e=>{try{const n=r(e);return n instanceof Promise?n:{then(s){return Hm(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return Hm(s)(n)}}}},W2=(r,e)=>(n,s,o)=>{let u={storage:X2(()=>window.localStorage),partialize:P=>P,version:0,merge:(P,X)=>({...X,...P}),...e},f=!1,m=0;const p=new Set,g=new Set;let E=u.storage;if(!E)return r((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(...P)},s,o);const b=()=>{const P=u.partialize({...s()});return E.setItem(u.name,{state:P,version:u.version})},R=o.setState;o.setState=(P,X)=>(R(P,X),b());const L=r((...P)=>(n(...P),b()),s,o);o.getInitialState=()=>L;let Q;const K=()=>{var P,X;if(!E)return;const Y=++m;f=!1,p.forEach(ue=>{var ne;return ue((ne=s())!=null?ne:L)});const re=((X=u.onRehydrateStorage)==null?void 0:X.call(u,(P=s())!=null?P:L))||void 0;return Hm(E.getItem.bind(E))(u.name).then(ue=>{if(ue)if(typeof ue.version=="number"&&ue.version!==u.version){if(u.migrate){const ne=u.migrate(ue.state,ue.version);return ne instanceof Promise?ne.then(le=>[!0,le]):[!0,ne]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ue.state];return[!1,void 0]}).then(ue=>{var ne;if(Y!==m)return;const[le,C]=ue;if(Q=u.merge(C,(ne=s())!=null?ne:L),n(Q,!0),le)return b()}).then(()=>{Y===m&&(re?.(Q,void 0),Q=s(),f=!0,g.forEach(ue=>ue(Q)))}).catch(ue=>{Y===m&&re?.(void 0,ue)})};return o.persist={setOptions:P=>{u={...u,...P},P.storage&&(E=P.storage)},clearStorage:()=>{E?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>K(),hasHydrated:()=>f,onHydrate:P=>(p.add(P),()=>{p.delete(P)}),onFinishHydration:P=>(g.add(P),()=>{g.delete(P)})},u.skipHydration||K(),Q||L},J2=W2,Y1=6048e5,Z2=864e5,$1=6e4,Q1=36e5,$_=Symbol.for("constructDateFrom");function ln(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&$_ in r?r[$_](e):r instanceof Date?new r.constructor(e):new Date(e)}function Ot(r,e){return ln(e||r,r)}function qn(r,e,n){const s=Ot(r,n?.in);return isNaN(e)?ln(r,NaN):(e&&s.setDate(s.getDate()+e),s)}function Ep(r,e,n){const s=Ot(r,n?.in);if(isNaN(e))return ln(r,NaN);if(!e)return s;const o=s.getDate(),u=ln(r,s.getTime());u.setMonth(s.getMonth()+e+1,0);const f=u.getDate();return o>=f?u:(s.setFullYear(u.getFullYear(),u.getMonth(),o),s)}let eA={};function cu(){return eA}function as(r,e){const n=cu(),s=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ot(r,e?.in),u=o.getDay(),f=(u<s?7:0)+u-s;return o.setDate(o.getDate()-f),o.setHours(0,0,0,0),o}function bh(r,e){return as(r,{...e,weekStartsOn:1})}function K1(r,e){const n=Ot(r,e?.in),s=n.getFullYear(),o=ln(n,0);o.setFullYear(s+1,0,4),o.setHours(0,0,0,0);const u=bh(o),f=ln(n,0);f.setFullYear(s,0,4),f.setHours(0,0,0,0);const m=bh(f);return n.getTime()>=u.getTime()?s+1:n.getTime()>=m.getTime()?s:s-1}function Q_(r){const e=Ot(r),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+r-+n}function $h(r,...e){const n=ln.bind(null,e.find(s=>typeof s=="object"));return e.map(n)}function Th(r,e){const n=Ot(r,e?.in);return n.setHours(0,0,0,0),n}function tA(r,e,n){const[s,o]=$h(n?.in,r,e),u=Th(s),f=Th(o),m=+u-Q_(u),p=+f-Q_(f);return Math.round((m-p)/Z2)}function nA(r,e){const n=K1(r,e),s=ln(r,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),bh(s)}function X1(r,e,n){return qn(r,e*7,n)}function W1(r,e,n){return Ep(r,e*12,n)}function iA(r){return ln(r,Date.now())}function rA(r,e,n){const[s,o]=$h(n?.in,r,e);return+Th(s)==+Th(o)}function sA(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function aA(r){return!(!sA(r)&&typeof r!="number"||isNaN(+Ot(r)))}function J1(r,e){const n=Ot(r,e?.in),s=n.getMonth();return n.setFullYear(n.getFullYear(),s+1,0),n.setHours(23,59,59,999),n}function oA(r,e){const[n,s]=$h(r,e.start,e.end);return{start:n,end:s}}function lA(r,e){const{start:n,end:s}=oA(e?.in,r);let o=+n>+s;const u=o?+n:+s,f=o?s:n;f.setHours(0,0,0,0),f.setDate(1);let m=1;const p=[];for(;+f<=u;)p.push(ln(n,f)),f.setMonth(f.getMonth()+m);return o?p.reverse():p}function uA(r,e){const n=Ot(r,e?.in);return n.setDate(1),n.setHours(0,0,0,0),n}function cA(r,e){const n=Ot(r,e?.in),s=n.getFullYear();return n.setFullYear(s+1,0,0),n.setHours(23,59,59,999),n}function Z1(r,e){const n=Ot(r,e?.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bp(r,e){const n=cu(),s=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=Ot(r,e?.in),u=o.getDay(),f=(u<s?-7:0)+6-(u-s);return o.setDate(o.getDate()+f),o.setHours(23,59,59,999),o}const hA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fA=(r,e,n)=>{let s;const o=hA[r];return typeof o=="string"?s=o:e===1?s=o.one:s=o.other.replace("{{count}}",e.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function wm(r){return(e={})=>{const n=e.width?String(e.width):r.defaultWidth;return r.formats[n]||r.formats[r.defaultWidth]}}const dA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gA={date:wm({formats:dA,defaultWidth:"full"}),time:wm({formats:mA,defaultWidth:"full"}),dateTime:wm({formats:pA,defaultWidth:"full"})},yA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},_A=(r,e,n,s)=>yA[r];function kl(r){return(e,n)=>{const s=n?.context?String(n.context):"standalone";let o;if(s==="formatting"&&r.formattingValues){const f=r.defaultFormattingWidth||r.defaultWidth,m=n?.width?String(n.width):f;o=r.formattingValues[m]||r.formattingValues[f]}else{const f=r.defaultWidth,m=n?.width?String(n.width):r.defaultWidth;o=r.values[m]||r.values[f]}const u=r.argumentCallback?r.argumentCallback(e):e;return o[u]}}const vA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},EA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},TA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AA=(r,e)=>{const n=Number(r),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},xA={ordinalNumber:AA,era:kl({values:vA,defaultWidth:"wide"}),quarter:kl({values:EA,defaultWidth:"wide",argumentCallback:r=>r-1}),month:kl({values:bA,defaultWidth:"wide"}),day:kl({values:TA,defaultWidth:"wide"}),dayPeriod:kl({values:wA,defaultWidth:"wide",formattingValues:SA,defaultFormattingWidth:"wide"})};function Vl(r){return(e,n={})=>{const s=n.width,o=s&&r.matchPatterns[s]||r.matchPatterns[r.defaultMatchWidth],u=e.match(o);if(!u)return null;const f=u[0],m=s&&r.parsePatterns[s]||r.parsePatterns[r.defaultParseWidth],p=Array.isArray(m)?CA(m,b=>b.test(f)):RA(m,b=>b.test(f));let g;g=r.valueCallback?r.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const E=e.slice(f.length);return{value:g,rest:E}}}function RA(r,e){for(const n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&e(r[n]))return n}function CA(r,e){for(let n=0;n<r.length;n++)if(e(r[n]))return n}function NA(r){return(e,n={})=>{const s=e.match(r.matchPattern);if(!s)return null;const o=s[0],u=e.match(r.parsePattern);if(!u)return null;let f=r.valueCallback?r.valueCallback(u[0]):u[0];f=n.valueCallback?n.valueCallback(f):f;const m=e.slice(o.length);return{value:f,rest:m}}}const IA=/^(\d+)(th|st|nd|rd)?/i,DA=/\d+/i,MA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},OA={any:[/^b/i,/^(a|c)/i]},kA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},VA={any:[/1/i,/2/i,/3/i,/4/i]},PA={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},LA={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UA={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jA={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zA={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},BA={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HA={ordinalNumber:NA({matchPattern:IA,parsePattern:DA,valueCallback:r=>parseInt(r,10)}),era:Vl({matchPatterns:MA,defaultMatchWidth:"wide",parsePatterns:OA,defaultParseWidth:"any"}),quarter:Vl({matchPatterns:kA,defaultMatchWidth:"wide",parsePatterns:VA,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Vl({matchPatterns:PA,defaultMatchWidth:"wide",parsePatterns:LA,defaultParseWidth:"any"}),day:Vl({matchPatterns:UA,defaultMatchWidth:"wide",parsePatterns:jA,defaultParseWidth:"any"}),dayPeriod:Vl({matchPatterns:zA,defaultMatchWidth:"any",parsePatterns:BA,defaultParseWidth:"any"})},qA={code:"en-US",formatDistance:fA,formatLong:gA,formatRelative:_A,localize:xA,match:HA,options:{weekStartsOn:0,firstWeekContainsDate:1}};function FA(r,e){const n=Ot(r,e?.in);return tA(n,Z1(n))+1}function GA(r,e){const n=Ot(r,e?.in),s=+bh(n)-+nA(n);return Math.round(s/Y1)+1}function eE(r,e){const n=Ot(r,e?.in),s=n.getFullYear(),o=cu(),u=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,f=ln(e?.in||r,0);f.setFullYear(s+1,0,u),f.setHours(0,0,0,0);const m=as(f,e),p=ln(e?.in||r,0);p.setFullYear(s,0,u),p.setHours(0,0,0,0);const g=as(p,e);return+n>=+m?s+1:+n>=+g?s:s-1}function YA(r,e){const n=cu(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=eE(r,e),u=ln(e?.in||r,0);return u.setFullYear(o,0,s),u.setHours(0,0,0,0),as(u,e)}function $A(r,e){const n=Ot(r,e?.in),s=+as(n,e)-+YA(n,e);return Math.round(s/Y1)+1}function Je(r,e){const n=r<0?"-":"",s=Math.abs(r).toString().padStart(e,"0");return n+s}const Xr={y(r,e){const n=r.getFullYear(),s=n>0?n:1-n;return Je(e==="yy"?s%100:s,e.length)},M(r,e){const n=r.getMonth();return e==="M"?String(n+1):Je(n+1,2)},d(r,e){return Je(r.getDate(),e.length)},a(r,e){const n=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(r,e){return Je(r.getHours()%12||12,e.length)},H(r,e){return Je(r.getHours(),e.length)},m(r,e){return Je(r.getMinutes(),e.length)},s(r,e){return Je(r.getSeconds(),e.length)},S(r,e){const n=e.length,s=r.getMilliseconds(),o=Math.trunc(s*Math.pow(10,n-3));return Je(o,e.length)}},Wa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},K_={G:function(r,e,n){const s=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});default:return n.era(s,{width:"wide"})}},y:function(r,e,n){if(e==="yo"){const s=r.getFullYear(),o=s>0?s:1-s;return n.ordinalNumber(o,{unit:"year"})}return Xr.y(r,e)},Y:function(r,e,n,s){const o=eE(r,s),u=o>0?o:1-o;if(e==="YY"){const f=u%100;return Je(f,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):Je(u,e.length)},R:function(r,e){const n=K1(r);return Je(n,e.length)},u:function(r,e){const n=r.getFullYear();return Je(n,e.length)},Q:function(r,e,n){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(s);case"QQ":return Je(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(r,e,n){const s=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(s);case"qq":return Je(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(r,e,n){const s=r.getMonth();switch(e){case"M":case"MM":return Xr.M(r,e);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(r,e,n){const s=r.getMonth();switch(e){case"L":return String(s+1);case"LL":return Je(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(r,e,n,s){const o=$A(r,s);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):Je(o,e.length)},I:function(r,e,n){const s=GA(r);return e==="Io"?n.ordinalNumber(s,{unit:"week"}):Je(s,e.length)},d:function(r,e,n){return e==="do"?n.ordinalNumber(r.getDate(),{unit:"date"}):Xr.d(r,e)},D:function(r,e,n){const s=FA(r);return e==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Je(s,e.length)},E:function(r,e,n){const s=r.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(r,e,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return Je(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(r,e,n,s){const o=r.getDay(),u=(o-s.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return Je(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(r,e,n){const s=r.getDay(),o=s===0?7:s;switch(e){case"i":return String(o);case"ii":return Je(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(r,e,n){const o=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(r,e,n){const s=r.getHours();let o;switch(s===12?o=Wa.noon:s===0?o=Wa.midnight:o=s/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(r,e,n){const s=r.getHours();let o;switch(s>=17?o=Wa.evening:s>=12?o=Wa.afternoon:s>=4?o=Wa.morning:o=Wa.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(r,e,n){if(e==="ho"){let s=r.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Xr.h(r,e)},H:function(r,e,n){return e==="Ho"?n.ordinalNumber(r.getHours(),{unit:"hour"}):Xr.H(r,e)},K:function(r,e,n){const s=r.getHours()%12;return e==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Je(s,e.length)},k:function(r,e,n){let s=r.getHours();return s===0&&(s=24),e==="ko"?n.ordinalNumber(s,{unit:"hour"}):Je(s,e.length)},m:function(r,e,n){return e==="mo"?n.ordinalNumber(r.getMinutes(),{unit:"minute"}):Xr.m(r,e)},s:function(r,e,n){return e==="so"?n.ordinalNumber(r.getSeconds(),{unit:"second"}):Xr.s(r,e)},S:function(r,e){return Xr.S(r,e)},X:function(r,e,n){const s=r.getTimezoneOffset();if(s===0)return"Z";switch(e){case"X":return W_(s);case"XXXX":case"XX":return Fs(s);default:return Fs(s,":")}},x:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"x":return W_(s);case"xxxx":case"xx":return Fs(s);default:return Fs(s,":")}},O:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+X_(s,":");default:return"GMT"+Fs(s,":")}},z:function(r,e,n){const s=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+X_(s,":");default:return"GMT"+Fs(s,":")}},t:function(r,e,n){const s=Math.trunc(+r/1e3);return Je(s,e.length)},T:function(r,e,n){return Je(+r,e.length)}};function X_(r,e=""){const n=r>0?"-":"+",s=Math.abs(r),o=Math.trunc(s/60),u=s%60;return u===0?n+String(o):n+String(o)+e+Je(u,2)}function W_(r,e){return r%60===0?(r>0?"-":"+")+Je(Math.abs(r)/60,2):Fs(r,e)}function Fs(r,e=""){const n=r>0?"-":"+",s=Math.abs(r),o=Je(Math.trunc(s/60),2),u=Je(s%60,2);return n+o+e+u}const J_=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},tE=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},QA=(r,e)=>{const n=r.match(/(P+)(p+)?/)||[],s=n[1],o=n[2];if(!o)return J_(r,e);let u;switch(s){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",J_(s,e)).replace("{{time}}",tE(o,e))},KA={p:tE,P:QA},XA=/^D+$/,WA=/^Y+$/,JA=["D","DD","YY","YYYY"];function ZA(r){return XA.test(r)}function ex(r){return WA.test(r)}function tx(r,e,n){const s=nx(r,e,n);if(console.warn(s),JA.includes(r))throw new RangeError(s)}function nx(r,e,n){const s=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ix=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,rx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,sx=/^'([^]*?)'?$/,ax=/''/g,ox=/[a-zA-Z]/;function Ae(r,e,n){const s=cu(),o=s.locale??qA,u=s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,f=s.weekStartsOn??s.locale?.options?.weekStartsOn??0,m=Ot(r,n?.in);if(!aA(m))throw new RangeError("Invalid time value");let p=e.match(rx).map(E=>{const b=E[0];if(b==="p"||b==="P"){const R=KA[b];return R(E,o.formatLong)}return E}).join("").match(ix).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const b=E[0];if(b==="'")return{isToken:!1,value:lx(E)};if(K_[b])return{isToken:!0,value:E};if(b.match(ox))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:E}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:f,locale:o};return p.map(E=>{if(!E.isToken)return E.value;const b=E.value;(ex(b)||ZA(b))&&tx(b,e,String(r));const R=K_[b[0]];return R(m,b,o.localize,g)}).join("")}function lx(r){const e=r.match(sx);return e?e[1].replace(ax,"'"):r}function ux(r,e){return Ot(r,e?.in).getDay()}function wh(r,e,n){const[s,o]=$h(n?.in,r,e);return s.getFullYear()===o.getFullYear()&&s.getMonth()===o.getMonth()}function io(r,e){return rA(ln(r,r),iA(r))}function cx(r,e,n){return qn(r,-1,n)}function Pl(r,e){const n=()=>ln(e?.in,NaN),o=mx(r);let u;if(o.date){const g=px(o.date,2);u=gx(g.restDateString,g.year)}if(!u||isNaN(+u))return n();const f=+u;let m=0,p;if(o.time&&(m=yx(o.time),isNaN(m)))return n();if(o.timezone){if(p=_x(o.timezone),isNaN(p))return n()}else{const g=new Date(f+m),E=Ot(0,e?.in);return E.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),E.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),E}return Ot(f+m+p,e?.in)}const Jc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},hx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fx=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,dx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mx(r){const e={},n=r.split(Jc.dateTimeDelimiter);let s;if(n.length>2)return e;if(/:/.test(n[0])?s=n[0]:(e.date=n[0],s=n[1],Jc.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Jc.timeZoneDelimiter)[0],s=r.substr(e.date.length,r.length))),s){const o=Jc.timezone.exec(s);o?(e.time=s.replace(o[1],""),e.timezone=o[1]):e.time=s}return e}function px(r,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),s=r.match(n);if(!s)return{year:NaN,restDateString:""};const o=s[1]?parseInt(s[1]):null,u=s[2]?parseInt(s[2]):null;return{year:u===null?o:u*100,restDateString:r.slice((s[1]||s[2]).length)}}function gx(r,e){if(e===null)return new Date(NaN);const n=r.match(hx);if(!n)return new Date(NaN);const s=!!n[4],o=Ll(n[1]),u=Ll(n[2])-1,f=Ll(n[3]),m=Ll(n[4]),p=Ll(n[5])-1;if(s)return wx(e,m,p)?vx(e,m,p):new Date(NaN);{const g=new Date(0);return!bx(e,u,f)||!Tx(e,o)?new Date(NaN):(g.setUTCFullYear(e,u,Math.max(o,f)),g)}}function Ll(r){return r?parseInt(r):1}function yx(r){const e=r.match(fx);if(!e)return NaN;const n=Sm(e[1]),s=Sm(e[2]),o=Sm(e[3]);return Sx(n,s,o)?n*Q1+s*$1+o*1e3:NaN}function Sm(r){return r&&parseFloat(r.replace(",","."))||0}function _x(r){if(r==="Z")return 0;const e=r.match(dx);if(!e)return 0;const n=e[1]==="+"?-1:1,s=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return Ax(s,o)?n*(s*Q1+o*$1):NaN}function vx(r,e,n){const s=new Date(0);s.setUTCFullYear(r,0,4);const o=s.getUTCDay()||7,u=(e-1)*7+n+1-o;return s.setUTCDate(s.getUTCDate()+u),s}const Ex=[31,null,31,30,31,30,31,31,30,31,30,31];function nE(r){return r%400===0||r%4===0&&r%100!==0}function bx(r,e,n){return e>=0&&e<=11&&n>=1&&n<=(Ex[e]||(nE(r)?29:28))}function Tx(r,e){return e>=1&&e<=(nE(r)?366:365)}function wx(r,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Sx(r,e,n){return r===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&r>=0&&r<25}function Ax(r,e){return e>=0&&e<=59}function xx(r,e,n){return Ep(r,-1,n)}function Rx(r,e,n){return X1(r,-1,n)}function Cx(r,e,n){return W1(r,-1,n)}const Ht=K2()(J2(r=>({currentDate:new Date,todos:[],drawings:{},monthlyNotes:{},weeklyViewMode:"tablet",appPin:null,isLocked:!1,weatherCache:{},currentUserUid:null,isSyncing:!1,setWeatherCache:e=>r(n=>({weatherCache:{...n.weatherCache,...e}})),setCurrentDate:e=>r({currentDate:e}),addTodo:(e,n,s,o,u,f)=>r(m=>{const p={id:Math.random().toString(36).substr(2,9),date:Ae(e,"yyyy-MM-dd"),endDate:s||Ae(e,"yyyy-MM-dd"),color:o||"#A7C7E7",text:n,isCompleted:!1};return u&&(p.startTime=u),f&&(p.endTime=f),{todos:[...m.todos,p]}}),updateTodo:(e,n)=>r(s=>({todos:s.todos.map(o=>{if(o.id===e){const u={...o,...n};return u.startTime||delete u.startTime,u.endTime||delete u.endTime,u}return o})})),toggleTodo:e=>r(n=>({todos:n.todos.map(s=>s.id===e?{...s,isCompleted:!s.isCompleted}:s)})),deleteTodo:e=>r(n=>({todos:n.todos.filter(s=>s.id!==e)})),saveDrawing:(e,n)=>r(s=>({drawings:{...s.drawings,[e]:n}})),clearDrawing:e=>r(n=>{const s={...n.drawings};return delete s[e],{drawings:s}}),setMonthlyNote:(e,n)=>r(s=>({monthlyNotes:{...s.monthlyNotes,[e]:n}})),setWeeklyViewMode:e=>r({weeklyViewMode:e}),setAppPin:e=>r(()=>({appPin:e,isLocked:e!==null})),verifyPin:e=>{let n=!1;return r(s=>s.appPin===e?(n=!0,{isLocked:!1}):{isLocked:!0}),n},lockApp:()=>r(e=>({isLocked:e.appPin!==null})),unlockApp:()=>r({isLocked:!1})}),{name:"gangneung-diary-storage",partialize:r=>({todos:r.todos,drawings:r.drawings,monthlyNotes:r.monthlyNotes,weeklyViewMode:r.weeklyViewMode,appPin:r.appPin,currentUserUid:r.currentUserUid}),onRehydrateStorage:()=>r=>{r&&r.appPin!==null&&Ht.setState({isLocked:!0})}}));const iE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();const Nx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Ix=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase());const Z_=r=>{const e=Ix(r);return e.charAt(0).toUpperCase()+e.slice(1)};var Dx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Mx=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Ox=H.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>H.createElement("svg",{ref:p,...Dx,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:iE("lucide",o),...!u&&!Mx(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>H.createElement(g,E)),...Array.isArray(u)?u:[u]]));const Ze=(r,e)=>{const n=H.forwardRef(({className:s,...o},u)=>H.createElement(Ox,{ref:u,iconNode:e,className:iE(`lucide-${Nx(Z_(r))}`,`lucide-${r}`,s),...o}));return n.displayName=Z_(r),n};const kx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Vx=Ze("calendar-check",kx);const Px=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],rE=Ze("calendar-days",Px);const Lx=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],Ux=Ze("calendar-range",Lx);const jx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zx=Ze("calendar",jx);const Bx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Hx=Ze("check",Bx);const qx=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qh=Ze("chevron-left",qx);const Fx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kh=Ze("chevron-right",Fx);const Gx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],Yx=Ze("clock",Gx);const $x=[["path",{d:"M10.94 5.274A7 7 0 0 1 15.71 10h1.79a4.5 4.5 0 0 1 4.222 6.057",key:"1uxyv8"}],["path",{d:"M18.796 18.81A4.5 4.5 0 0 1 17.5 19H9A7 7 0 0 1 5.79 5.78",key:"99tcn7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qx=Ze("cloud-off",$x);const Kx=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],Xx=Ze("cloud",Kx);const Wx=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],Jx=Ze("delete",Wx);const Zx=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],eR=Ze("eraser",Zx);const tR=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],nR=Ze("list-todo",tR);const iR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ev=Ze("loader-circle",iR);const rR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],sR=Ze("lock",rR);const aR=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],oR=Ze("log-in",aR);const lR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],uR=Ze("log-out",lR);const cR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],hR=Ze("maximize-2",cR);const fR=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],dR=Ze("mouse-pointer-2",fR);const mR=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],pR=Ze("palette",mR);const gR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Xh=Ze("pen",gR);const yR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_R=Ze("plus",yR);const vR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ER=Ze("refresh-cw",vR);const bR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],TR=Ze("shield-alert",bR);const wR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],SR=Ze("shield-check",wR);const AR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sE=Ze("shield",AR);const xR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aE=Ze("trash-2",xR);const RR=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],CR=Ze("type",RR);const NR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IR=Ze("x",NR),Am={"2024-02-09":" ","2024-02-10":"","2024-02-11":" ","2024-05-15":"","2024-09-16":" ","2024-09-17":"","2024-09-18":" ","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-05-05":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2026-02-16":" ","2026-02-17":"","2026-02-18":" ","2026-05-24":"","2026-09-24":" ","2026-09-25":"","2026-09-26":" ","2027-02-06":" ","2027-02-07":"","2027-02-08":" ","2027-05-13":"","2027-09-14":" ","2027-09-15":"","2027-09-16":" ","2028-01-26":" ","2028-01-27":"","2028-01-28":" ","2028-05-02":"","2028-10-02":" ","2028-10-03":"","2028-10-04":" ","2029-02-12":" ","2029-02-13":"","2029-02-14":" ","2029-05-20":"","2029-09-21":" ","2029-09-22":"","2029-09-23":" ","2030-02-02":" ","2030-02-03":"","2030-02-04":" ","2030-05-09":"","2030-09-11":" ","2030-09-12":"","2030-09-13":" "};function Wh(r){const e=r.getFullYear(),n=r.getMonth()+1,s=r.getDate(),o=ux(r),u=`${e}-${n.toString().padStart(2,"0")}-${s.toString().padStart(2,"0")}`,f=`${n.toString().padStart(2,"0")}-${s.toString().padStart(2,"0")}`;let m=null;const p={"01-01":"","03-01":"","05-05":"","06-06":"","08-15":"","10-03":"","10-09":"","12-25":""};p[f]&&(m=p[f]),e>=2026&&f==="07-17"&&(m=m?`${m}/`:""),Am[u]&&(m=m?`${m}/${Am[u]}`:Am[u]);const g={"2024-02-12":"","2024-05-06":"","2025-03-03":"","2025-05-06":"","2025-10-08":"","2026-03-02":"","2026-05-25":"","2026-08-17":"","2026-10-05":"","2027-02-09":"","2027-08-16":"","2027-10-04":"","2027-10-11":"","2027-12-27":"","2028-10-05":"","2029-05-21":"","2029-09-24":"","2030-02-05":"","2030-05-06":""};return g[u]&&(m=m?`${m}(${g[u]})`:g[u]),{isHoliday:m!==null||o===0,name:m}}const DR=()=>{const{currentDate:r,setCurrentDate:e}=Ht(),n=lu(),s=()=>e(Cx(r)),o=()=>e(W1(r,1)),u=()=>e(new Date),f=Z1(r),m=cA(r),p=lA({start:f,end:m}),g=E=>{const b=J1(E),R=as(E),L=bp(b),Q=[];let K=[],P=R,X="";for(;P<=L;){for(let Y=0;Y<7;Y++){X=Ae(P,"d");const re=P,ue=wh(P,E),{isHoliday:ne}=Wh(P);K.push(w.jsx("div",{onClick:le=>{le.stopPropagation(),e(re),n("/daily")},className:`text-center py-1 text-[11px] font-medium cursor-pointer rounded-sm transition-colors
              ${ue?ne?"text-accent-red font-bold":"text-ink-700 hover:bg-paper-100":"text-paper-300 opacity-50"}
              ${io(P)?"bg-accent-blue/10 text-accent-blue font-bold ring-1 ring-accent-blue/50":""}
            `,children:X},P.toString())),P=qn(P,1)}Q.push(w.jsx("div",{className:"grid grid-cols-7",children:K},P.toString())),K=[]}return w.jsxs("div",{className:"flex flex-col h-full bg-white border border-paper-200/70 p-4 rounded-xl shadow-sm hover:shadow-md transition-shadow hover:border-paper-300 cursor-pointer group",onClick:()=>{e(E),n("/")},children:[w.jsx("div",{className:"flex items-center justify-between mb-3",children:w.jsxs("h3",{className:"font-serif font-bold text-xl text-ink-900 group-hover:text-accent-blue transition-colors",children:[Ae(E,"M")," ",w.jsx("span",{className:"text-sm font-sans font-medium text-ink-400 ml-1",children:Ae(E,"MMMM")})]})}),w.jsx("div",{className:"grid grid-cols-7 mb-1 pb-1 border-b border-paper-100",children:["S","M","T","W","T","F","S"].map((Y,re)=>w.jsx("div",{className:`text-center text-[9px] font-bold ${re===0?"text-accent-red":"text-ink-400"}`,children:Y},re))}),w.jsx("div",{className:"flex-1",children:Q})]})};return w.jsxs("div",{className:"w-full h-full flex flex-col pt-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[w.jsxs("h2",{className:"text-4xl font-extrabold text-ink-900 font-serif tracking-widest flex items-baseline gap-4",children:[Ae(r,"yyyy"),w.jsx("span",{className:"text-base font-medium text-ink-400 tracking-normal font-sans",children:" "})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:s,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(Qh,{size:20})}),w.jsx("button",{onClick:u,className:"px-4 py-1.5 text-sm font-bold bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-full transition-colors",children:"This Year"}),w.jsx("button",{onClick:o,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(Kh,{size:20})})]})]}),w.jsx("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-5 overflow-y-auto custom-scrollbar pb-6 px-1",children:p.map(E=>w.jsx("div",{children:g(E)},E.toString()))})]})},oE=({dateStr:r,width:e,height:n})=>{const s=H.useRef(null),[o,u]=H.useState(!1),[f,m]=H.useState(!1),{drawings:p,saveDrawing:g,clearDrawing:E}=Ht();H.useEffect(()=>{const P=s.current;if(!P)return;const X=P.getContext("2d");if(!X)return;X.clearRect(0,0,e,n);const Y=p[r];if(Y){const re=new Image;re.onload=()=>{X.drawImage(re,0,0)},re.src=Y}},[r,e,n,p]);const b=P=>{P.preventDefault();const X=s.current;if(!X)return;const Y=X.getContext("2d");if(!Y)return;u(!0);const{offsetX:re,offsetY:ue}=Q(P,X);Y.beginPath(),Y.moveTo(re,ue)},R=P=>{if(!o)return;P.preventDefault();const X=s.current;if(!X)return;const Y=X.getContext("2d");if(!Y)return;const{offsetX:re,offsetY:ue}=Q(P,X),ne=X.getBoundingClientRect(),le=X.width/ne.width;Y.lineTo(re,ue),Y.globalCompositeOperation=f?"destination-out":"source-over",Y.strokeStyle=f?"rgba(0,0,0,1)":"#1a202c",Y.lineWidth=f?20*le:1.5*le,Y.lineCap="round",Y.lineJoin="round",Y.stroke()},L=()=>{if(!o)return;u(!1);const P=s.current;if(!P)return;const X=P.toDataURL("image/png");g(r,X)},Q=(P,X)=>{const Y=X.getBoundingClientRect(),re=X.width/Y.width,ue=X.height/Y.height;let ne,le;return"touches"in P?(ne=P.touches[0].clientX,le=P.touches[0].clientY):(ne=P.clientX,le=P.clientY),{offsetX:(ne-Y.left)*re,offsetY:(le-Y.top)*ue}},K=()=>{window.confirm("     ?")&&(E(r),m(!1))};return w.jsxs("div",{className:"relative group/canvas w-full h-full",style:{touchAction:"none"},children:[w.jsxs("div",{className:"absolute top-2 right-2 flex gap-1.5 opacity-0 group-hover/canvas:opacity-100 transition-opacity z-20",children:[w.jsx("button",{onClick:P=>{P.stopPropagation(),m(!f)},className:`p-1.5 rounded-full backdrop-blur-sm border shadow-sm transition-colors
                        ${f?"bg-accent-blue text-white border-accent-blue":"bg-white/80 text-ink-500 border-paper-200 hover:bg-paper-100"}
                    `,title:" ",children:f?w.jsx(Xh,{size:14}):w.jsx(eR,{size:14})}),w.jsx("button",{onClick:P=>{P.stopPropagation(),K()},className:"p-1.5 bg-white/80 backdrop-blur-sm text-accent-red hover:bg-red-50 border border-red-100 rounded-full shadow-sm transition-colors",title:" ",children:w.jsx(aE,{size:14})})]}),w.jsx("canvas",{ref:s,width:e,height:n,onMouseDown:b,onMouseMove:R,onMouseUp:L,onMouseLeave:L,onTouchStart:b,onTouchMove:R,onTouchEnd:L,onTouchCancel:L,className:`w-full h-full bg-transparent absolute inset-0 z-10 ${f?"cursor-[url(/eraser.png),_pointer]":"cursor-crosshair"}`,style:{touchAction:"none"}})]})},MR=()=>{const{currentDate:r,setCurrentDate:e,todos:n,weatherCache:s,monthlyNotes:o,setMonthlyNote:u}=Ht(),f=lu(),m=()=>e(xx(r)),p=()=>e(Ep(r,1)),[g,E]=H.useState(!0),b=Ae(r,"yyyy-MM"),R=o?.[b]||"",L=uA(r),Q=J1(L),K=as(L),P=bp(Q),X="d",Y=[];let re=[],ue=K,ne="";for(;ue<=P;){const le=ue,C=qn(le,6),A=n.filter(I=>{const O=I.date,N=I.endDate||I.date;return O<=Ae(C,"yyyy-MM-dd")&&N>=Ae(le,"yyyy-MM-dd")});A.sort((I,O)=>{if(I.date!==O.date)return I.date.localeCompare(O.date);const N=new Date(I.endDate||I.date).getTime()-new Date(I.date).getTime();return new Date(O.endDate||O.date).getTime()-new Date(O.date).getTime()-N});const x={},M={};for(let I=0;I<7;I++){const O=Ae(qn(le,I),"yyyy-MM-dd");x[O]=[null,null,null],M[O]=0}A.forEach(I=>{const O=I.date,N=I.endDate||I.date,De=[];for(let F=0;F<7;F++){const ae=Ae(qn(le,F),"yyyy-MM-dd");ae>=O&&ae<=N&&De.push(ae)}let He=-1;for(let F=0;F<3;F++){let ae=!0;for(const pe of De)if(x[pe][F]!==null){ae=!1;break}if(ae){He=F;break}}if(He!==-1)for(const F of De)x[F][He]=I;else for(const F of De)M[F]++});for(let I=0;I<7;I++){ne=Ae(ue,X);const O=ue,N=Ae(O,"yyyy-MM-dd"),{isHoliday:De,name:He}=Wh(ue),F=x[N],ae=M[N],pe=F.reduce((ve,k,J)=>k!==null?J:ve,-1),Me=F.slice(0,pe+1);re.push(w.jsxs("div",{onClick:()=>{e(O),f("/daily")},className:`border-r border-b border-paper-200 p-2 min-h-[120px] cursor-pointer transition-colors relative group overflow-hidden
            ${wh(ue,L)?"bg-white text-ink-700 hover:bg-paper-50":"bg-paper-50/50 text-ink-400 opacity-60"}
          `,children:[w.jsx("div",{className:"flex justify-between items-start",children:w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("span",{className:`text-sm font-semibold shrink-0 ${io(ue)?"bg-accent-blue text-white w-6 h-6 rounded-full flex items-center justify-center":""} ${De?"text-accent-red":""}`,children:ne}),s[N]&&w.jsx("span",{className:"text-[12px] opacity-90 pb-0.5",children:s[N]})]}),He&&w.jsx("span",{className:`text-[9px] mt-0.5 font-bold line-clamp-1 break-all pr-1 ${wh(ue,L)?"text-accent-red":"text-accent-red/50"}`,children:He})]})}),w.jsxs("div",{className:"mt-2 flex flex-col gap-1 w-full",children:[Me.map((ve,k)=>{if(!ve)return w.jsx("div",{className:"h-[18px]"},`empty-${k}`);const J=ve.date!==(ve.endDate||ve.date),oe=ve.date===N,he=(ve.endDate||ve.date)===N,Z=I===0;if(!J)return w.jsxs("div",{className:"flex items-center gap-1.5 px-0.5 w-full h-[18px]",children:[w.jsx("div",{className:`w-1 h-1 rounded-full shrink-0 ${ve.isCompleted?"bg-ink-300":"bg-accent-blue"}`}),w.jsx("span",{className:`text-[10px] font-medium truncate w-full ${ve.isCompleted?"line-through text-ink-300":"text-ink-600"}`,children:ve.text})]},ve.id);let de="-ml-2",Se="-mr-2",ut="pl-2",rt="pr-2",yn="";oe?(de="ml-0",ut="pl-1.5",yn+=" rounded-l-md"):yn+=" rounded-l-none border-l border-white/20",he?(Se="mr-0",rt="pr-1.5",yn+=" rounded-r-md"):yn+=" rounded-r-none border-r border-white/20";const gr=oe||Z;return w.jsx("div",{className:`h-[18px] flex items-center ${de} ${Se} ${ut} ${rt} ${yn}`,style:{backgroundColor:ve.color||"#A7C7E7",opacity:ve.isCompleted?.6:1},children:gr&&w.jsx("span",{className:`text-[10px] font-bold text-ink-800 truncate ${ve.isCompleted?"line-through opacity-70":""}`,children:ve.text})},ve.id)}),ae>0&&w.jsxs("div",{className:"text-[9px] text-ink-400 font-bold pl-1 pt-0.5",children:["+",ae," more"]})]})]},ue.toString())),ue=qn(ue,1)}Y.push(w.jsx("div",{className:"grid grid-cols-7 flex-1",children:re},ue.toString())),re=[]}return w.jsxs("div",{className:"w-full h-full flex flex-col pt-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[w.jsxs("div",{className:"flex items-baseline gap-3",children:[w.jsx("h2",{className:"text-4xl font-bold text-ink-900 font-serif tracking-tight",children:Ae(r,"M")}),w.jsx("span",{className:"text-lg font-medium text-ink-500 uppercase tracking-widest",children:Ae(r,"MMMM yyyy")})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:m,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(Qh,{size:20})}),w.jsx("button",{onClick:()=>e(new Date),className:"px-4 py-1.5 text-sm font-bold bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-full transition-colors",children:"Today"}),w.jsx("button",{onClick:p,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(Kh,{size:20})})]})]}),w.jsxs("div",{className:"flex-1 flex flex-col xl:flex-row gap-4 h-full min-h-0 overflow-y-auto custom-scrollbar xl:overflow-hidden pb-4 xl:pb-0",children:[w.jsxs("div",{className:"flex w-full xl:w-64 border border-paper-200 rounded-xl bg-white p-4 flex-col shadow-sm relative overflow-hidden shrink-0 min-h-[400px] xl:min-h-0",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-20 bg-white/50 backdrop-blur-sm rounded-lg px-2",children:[w.jsx("h3",{className:"text-xs font-bold text-ink-400 uppercase tracking-wider",children:"Monthly Notes"}),w.jsxs("div",{className:"flex bg-paper-100 p-0.5 rounded-md border border-paper-200",children:[w.jsx("button",{onClick:()=>E(!0),className:`p-1 rounded transition-colors ${g?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ",children:w.jsx(CR,{size:14})}),w.jsx("button",{onClick:()=>E(!1),className:`p-1 rounded transition-colors ${g?"text-ink-400 hover:text-ink-600":"bg-white shadow-sm text-accent-blue"}`,title:"  ",children:w.jsx(Xh,{size:14})})]})]}),w.jsxs("div",{className:"flex-1 flex flex-col pt-2 relative",children:[w.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none w-full",children:Array.from({length:15}).map((le,C)=>w.jsx("div",{className:"diary-line w-full h-[2rem]"},C))}),w.jsx("textarea",{value:R,onChange:le=>u(b,le.target.value),className:`absolute inset-0 z-10 w-full h-full bg-transparent resize-none outline-none text-ink-700 text-sm font-medium leading-[2rem] px-2 py-0 custom-scrollbar ${g?"":"pointer-events-none"}`,placeholder:g?" ...":"",style:{lineHeight:"2rem",backgroundAttachment:"local"}}),w.jsx("div",{className:`absolute inset-0 z-10 w-full h-full ${g?"pointer-events-none":""}`,children:w.jsx(oE,{dateStr:`${b}-note`,width:200,height:600})})]})]}),w.jsxs("div",{className:"flex-1 border border-paper-200 rounded-xl bg-white flex flex-col shadow-sm overflow-hidden min-h-[500px]",children:[w.jsx("div",{className:"grid grid-cols-7 border-b border-paper-200 bg-paper-50/50",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map((le,C)=>w.jsx("div",{className:`py-2.5 text-center text-xs font-bold ${C===0?"text-accent-red":"text-ink-400"}`,children:le},le))}),w.jsx("div",{className:"flex-1 flex flex-col",children:Y})]})]})]})},OR=({size:r=18})=>w.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"3",ry:"3"}),w.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16",strokeWidth:"3.5"})]}),kR=({size:r=18})=>w.jsxs("svg",{width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"7",y:"2",width:"10",height:"20",rx:"3",ry:"3"}),w.jsx("line",{x1:"12",x2:"12.01",y1:"18",y2:"18",strokeWidth:"3.5"})]}),VR=()=>{const{currentDate:r,setCurrentDate:e,todos:n,weeklyViewMode:s,setWeeklyViewMode:o,weatherCache:u}=Ht(),f=lu(),[m,p]=H.useState(!1),g=()=>e(Rx(r)),E=()=>e(X1(r,1)),b=()=>e(new Date),R=as(r),L=bp(r),Q=[];let K=R;for(let ne=0;ne<7;ne++)Q.push(K),K=qn(K,1);const P=n.filter(ne=>{const le=ne.date,C=ne.endDate||ne.date;return!ne.startTime&&le<=Ae(L,"yyyy-MM-dd")&&C>=Ae(R,"yyyy-MM-dd")}),X=n.filter(ne=>{const le=ne.date,C=ne.endDate||ne.date;return!!ne.startTime&&le<=Ae(L,"yyyy-MM-dd")&&C>=Ae(R,"yyyy-MM-dd")});P.sort((ne,le)=>{if(ne.date!==le.date)return ne.date.localeCompare(le.date);const C=new Date(ne.endDate||ne.date).getTime()-new Date(ne.date).getTime();return new Date(le.endDate||le.date).getTime()-new Date(le.date).getTime()-C});const Y={};for(let ne=0;ne<7;ne++){const le=Ae(qn(R,ne),"yyyy-MM-dd");Y[le]=[]}P.forEach(ne=>{const le=ne.date,C=ne.endDate||ne.date,A=[];for(let M=0;M<7;M++){const I=Ae(qn(R,M),"yyyy-MM-dd");I>=le&&I<=C&&A.push(I)}let x=0;for(;;){let M=!0;for(const I of A)if(Y[I][x]!==void 0&&Y[I][x]!==null){M=!1;break}if(M)break;x++}for(const M of A){for(;Y[M].length<=x;)Y[M].push(null);Y[M][x]=ne}});let re=0;for(let ne=0;ne<7;ne++){const le=Ae(qn(R,ne),"yyyy-MM-dd"),A=(Y[le]||[]).reduce((x,M,I)=>M!==null?I:x,-1);A+1>re&&(re=A+1)}const ue=Math.max(1,re)*(s==="mobile"?34:26)+16;return w.jsxs("div",{className:"w-full h-full flex flex-col pt-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[w.jsxs("div",{className:"flex items-baseline gap-3",children:[w.jsxs("h2",{className:"text-3xl font-bold text-ink-900 font-serif tracking-tight",children:[Ae(R,"M d")," - ",Ae(L,"M d")]}),w.jsx("span",{className:"text-sm font-medium text-ink-500 uppercase tracking-widest bg-paper-100/50 px-3 py-1 rounded-full border border-paper-200",children:"Weekly Plan"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("div",{className:"flex bg-paper-100 p-0.5 rounded-md border border-paper-200 mr-1 xl:mr-2",children:[w.jsx("button",{onClick:()=>p(!1),className:`p-1 rounded transition-colors ${m?"text-ink-400 hover:text-ink-600":"bg-white shadow-sm text-accent-blue"}`,title:"() ",children:w.jsx(dR,{size:16})}),w.jsx("button",{onClick:()=>p(!0),className:`p-1 rounded transition-colors ${m?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ",children:w.jsx(Xh,{size:16})})]}),w.jsxs("div",{className:"flex bg-paper-100 p-1 rounded-full border border-paper-200 mr-2",children:[w.jsx("button",{onClick:()=>o("tablet"),className:`p-1.5 rounded-full transition-colors ${s==="tablet"?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ( 7 )",children:w.jsx(OR,{size:18})}),w.jsx("button",{onClick:()=>o("mobile"),className:`p-1.5 rounded-full transition-colors ${s==="mobile"?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ( 1 )",children:w.jsx(kR,{size:18})})]}),w.jsx("button",{onClick:g,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(Qh,{size:20})}),w.jsx("button",{onClick:b,className:"px-4 py-1.5 text-sm font-bold bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-full transition-colors",children:"Today"}),w.jsx("button",{onClick:E,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(Kh,{size:20})})]})]}),w.jsx("div",{className:`flex-1 flex gap-4 h-full min-h-0 bg-white border border-paper-200 rounded-2xl p-4 md:p-6 shadow-sm overflow-y-auto custom-scrollbar ${s==="mobile"?"flex-col":""}`,children:w.jsx("div",{className:`w-full ${s==="tablet"?"grid grid-cols-7 gap-3 md:gap-4 overflow-x-auto min-h-[600px]":"flex flex-col gap-6"}`,children:Q.map(ne=>{const{isHoliday:le,name:C}=Wh(ne);return w.jsxs("div",{className:`flex flex-col border border-paper-200/50 rounded-xl overflow-hidden bg-white
                ${s==="tablet"?"min-w-[140px]":"w-full min-h-[500px] shadow-sm"}
                ${io(ne)?"ring-2 ring-accent-blue/30 border-transparent bg-blue-50/10":""}
              `,children:[w.jsxs("div",{className:"text-center py-3 border-b border-paper-200/50 bg-paper-50/50 relative cursor-pointer hover:bg-paper-100 transition-colors group/header",onClick:()=>{e(ne),f("/daily")},title:"  ( ) ",children:[w.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover/header:opacity-100 transition-opacity text-ink-400",children:w.jsx(hR,{size:12})}),io(ne)&&w.jsx("div",{className:"absolute top-0 inset-x-0 h-1 bg-accent-blue"}),w.jsx("p",{className:`text-[10px] font-extrabold uppercase tracking-widest mb-1 ${le?"text-accent-red":"text-ink-400"}`,children:Ae(ne,"EEEE")}),w.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5",children:[w.jsxs("div",{className:"flex items-center justify-center gap-1 relative",children:[!wh(ne,R)&&!le&&w.jsxs("span",{className:"text-xs font-bold text-ink-400",children:[Ae(ne,"M"),"."]}),w.jsxs("span",{className:`text-2xl font-serif font-black ${io(ne)?"text-accent-blue":le?"text-accent-red":"text-ink-900"}`,children:[Ae(ne,"d"),u[Ae(ne,"yyyy-MM-dd")]&&w.jsx("span",{className:"absolute -right-5 top-0 text-[13px] opacity-90 drop-shadow-sm pointer-events-none",children:u[Ae(ne,"yyyy-MM-dd")]})]})]}),C&&w.jsx("span",{className:"text-[9px] text-accent-red font-bold leading-tight px-1 text-center truncate w-full",children:C})]})]}),w.jsxs("div",{className:"flex-1 relative flex flex-col py-0 pr-3 pl-8 bg-transparent",children:[w.jsx("div",{className:"relative z-10 w-full pointer-events-none pr-1 pt-3 pb-2 border-b border-paper-300 border-dashed shrink-0",style:{height:`${ue}px`},children:(()=>{const A=Ae(ne,"yyyy-MM-dd"),x=Y[A]||[],M=x.reduce((O,N,De)=>N!==null?De:O,-1);return x.slice(0,M+1).map((O,N)=>{if(!O)return w.jsx("div",{className:`${s==="mobile"?"h-[24px]":"h-[20px]"} w-full`},`empty-${N}`);const De=O.date!==(O.endDate||O.date),He=O.date===A,F=(O.endDate||O.date)===A,pe=Q.findIndex(Z=>Ae(Z,"yyyy-MM-dd")===A)===0;if(!De)return w.jsxs("div",{className:`flex items-start ${s==="mobile"?"gap-2 mb-2.5 h-[24px]":"gap-1.5 mb-1.5 h-[20px]"}`,children:[w.jsx("div",{className:`shrink-0 flex-none rounded-full ${s==="mobile"?"mt-1.5 w-1.5 h-1.5":"mt-1 w-1 h-1"} ${O.isCompleted?"bg-ink-300":"bg-accent-blue"}`}),w.jsx("span",{className:`font-medium break-words leading-snug ${s==="mobile"?"text-[14px] whitespace-pre-wrap":"text-xs line-clamp-3"} ${O.isCompleted?"line-through text-ink-300":"text-ink-700"}`,children:O.text})]},O.id);let Me="-ml-8",ve="-mr-3",k="pl-3",J="pr-3",oe="";He||s==="mobile"?(Me="ml-0",k="pl-2",oe+=" rounded-l-md"):oe+=" rounded-l-none border-l border-white/20",F||s==="mobile"?(ve="mr-0",J="pr-2",oe+=" rounded-r-md"):oe+=" rounded-r-none border-r border-white/20";const he=He||pe||s==="mobile";return w.jsx("div",{className:`flex items-center ${Me} ${ve} ${k} ${J} ${oe} ${s==="mobile"?"min-h-[24px] mb-2":"h-[20px] mb-1"}`,style:{backgroundColor:O.color||"#A7C7E7",opacity:O.isCompleted?.6:1},children:he&&w.jsx("span",{className:`font-bold text-ink-800 break-words leading-snug ${s==="mobile"?"text-[14px] whitespace-pre-wrap py-1":"text-[11px] truncate"} ${O.isCompleted?"line-through opacity-70":""}`,children:O.text})},O.id)})})()}),w.jsxs("div",{className:"relative flex-1 w-full min-h-[600px] mt-2 mb-2",children:[w.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col opacity-60",children:Array.from({length:24}).map((A,x)=>w.jsx("div",{className:"w-full flex-1 border-t border-paper-200/80 relative",children:w.jsxs("span",{className:"absolute -top-[7px] left-1 text-[8px] font-semibold text-ink-300/80 bg-white/90 px-1 rounded-sm",children:[String(x).padStart(2,"0"),":00"]})},x))}),w.jsx("div",{className:"absolute inset-x-0 inset-y-0 right-3 pointer-events-none",children:X.filter(A=>{const x=A.date,M=A.endDate||A.date,I=Ae(ne,"yyyy-MM-dd");return x<=I&&M>=I}).map(A=>{const[x,M]=A.startTime.split(":").map(Number);let I=x+1,O=M;A.endTime&&([I,O]=A.endTime.split(":").map(Number));const N=x+M/60,De=I+O/60,He=Math.max(.25,De-N),F=N/24*100,ae=He/24*100;return w.jsx("div",{className:"absolute left-8 right-1 px-2.5 py-1.5 flex flex-col items-start justify-start overflow-hidden rounded-lg border-l-[3px] border-white/60 shadow-md pointer-events-auto transition-all hover:z-20 hover:shadow-lg hover:-translate-y-0.5",style:{top:`${F}%`,height:`${ae}%`,backgroundColor:A.color||"#A7C7E7",opacity:A.isCompleted?.5:.95,zIndex:10},children:w.jsx("span",{className:`text-[12px] font-extrabold text-[#111111] break-words leading-tight ${A.isCompleted?"line-through opacity-70 text-ink-400":""}`,children:A.text})},A.id)})}),w.jsx("div",{className:`absolute inset-0 z-10 w-full h-full ${m?"":"pointer-events-none"}`,children:w.jsx(oE,{dateStr:Ae(ne,"yyyy-MM-dd"),width:s==="mobile"?600:200,height:700})})]})]})]},ne.toString())})})})]})},Ja=[{value:"#A7C7E7",name:""},{value:"#F4C2C2",name:""},{value:"#B2EBF2",name:""},{value:"#E6E6FA",name:""},{value:"#FFFACD",name:""}],Zc=({value:r,onChange:e,onEnter:n})=>{const[s,o]=r?r.split(":"):["",""],u=p=>{e(!p&&!o?"":`${p||"00"}:${o||"00"}`)},f=p=>{e(!s&&!p?"":`${s||"00"}:${p||"00"}`)},m=p=>{p.key==="Enter"&&n&&(p.preventDefault(),n())};return w.jsxs("div",{className:"flex items-center gap-0.5 bg-paper-100 rounded-md border border-paper-300 px-1 py-0.5",onKeyDown:m,children:[w.jsx(Yx,{size:12,className:"text-ink-400 ml-1"}),w.jsxs("select",{value:s,onChange:p=>u(p.target.value),className:"bg-transparent text-xs font-bold text-ink-700 outline-none cursor-pointer appearance-none pl-1",children:[w.jsx("option",{value:"",children:"--"}),Array.from({length:24}).map((p,g)=>{const E=String(g).padStart(2,"0");return w.jsxs("option",{value:E,children:[E,""]},`h-${E}`)})]}),w.jsx("span",{className:"text-ink-400 font-bold",children:":"}),w.jsxs("select",{value:o,onChange:p=>f(p.target.value),className:"bg-transparent text-xs font-bold text-ink-700 outline-none cursor-pointer appearance-none pl-1 pr-1",children:[w.jsx("option",{value:"",children:"--"}),Array.from({length:12}).map((p,g)=>{const E=String(g*5).padStart(2,"0");return w.jsxs("option",{value:E,children:[E,""]},`m-${E}`)})]})]})},PR=()=>{const{currentDate:r,setCurrentDate:e,todos:n,addTodo:s,toggleTodo:o,deleteTodo:u,updateTodo:f,weatherCache:m}=Ht(),p=lu(),[g,E]=H.useState(""),[b,R]=H.useState(null),[L,Q]=H.useState(Ja[0].value),[K,P]=H.useState(""),[X,Y]=H.useState(""),[re,ue]=H.useState(null),[ne,le]=H.useState(""),[C,A]=H.useState(null),[x,M]=H.useState(Ja[0].value),[I,O]=H.useState(""),[N,De]=H.useState(""),He=b&&b>=r?b:r,F=Ae(r,"yyyy-MM-dd"),ae=n.filter(Z=>Z.date===F),{isHoliday:pe,name:Me}=Wh(r),ve=Z=>{if(Z.preventDefault(),!g.trim())return;const de=Ae(He,"yyyy-MM-dd");s(r,g.trim(),de,L,K,X),E(""),R(null),Q(Ja[0].value),P(""),Y("")},k=Z=>{ue(Z.id),le(Z.text),A(Z.endDate?Pl(Z.endDate):null),M(Z.color||Ja[0].value),O(Z.startTime||""),De(Z.endTime||"")},J=Z=>{if(!Z)return"";const de=Z.match(/\d{1,2}:\d{2}/);if(de){let[Se,ut]=de[0].split(":").map(Number);return Z.includes("PM")||Z.includes("")?Se<12&&(Se+=12):(Z.includes("AM")||Z.includes(""))&&Se===12&&(Se=0),`${String(Se).padStart(2,"0")}:${String(ut).padStart(2,"0")}`}return Z},oe=Z=>{if(!ne.trim())return;const de=C&&C>=r?C:r,Se=Ae(de,"yyyy-MM-dd");f(Z,{text:ne.trim(),endDate:Se,color:x,startTime:J(I)||void 0,endTime:J(N)||void 0}),ue(null)},he=()=>{ue(null)};return w.jsxs("div",{className:"w-full h-full flex flex-col pt-4",children:[w.jsxs("div",{className:"flex items-end justify-between mb-8 pb-4 border-b border-paper-200",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[w.jsx("button",{onClick:()=>e(cx(r)),className:"p-1 text-ink-400 hover:text-ink-800 hover:bg-paper-100 rounded-lg transition-colors",title:" ",children:w.jsx(Qh,{size:28})}),w.jsxs("h2",{className:`text-4xl font-extrabold font-serif tracking-tight px-2 flex items-center gap-3 ${pe?"text-accent-red":"text-ink-900"}`,children:[Ae(r,"d"),m[Ae(r,"yyyy-MM-dd")]&&w.jsx("span",{className:"text-3xl drop-shadow-sm opacity-90 pb-1",children:m[Ae(r,"yyyy-MM-dd")]})]}),w.jsx("button",{onClick:()=>e(qn(r,1)),className:"p-1 text-ink-400 hover:text-ink-800 hover:bg-paper-100 rounded-lg transition-colors",title:" ",children:w.jsx(Kh,{size:28})}),Me&&w.jsx("span",{className:"px-2 py-0.5 mt-1 text-xs font-bold bg-accent-red/10 text-accent-red border border-accent-red/20 rounded-md whitespace-nowrap",children:Me})]}),w.jsx("p",{className:`text-lg font-medium mt-1 uppercase tracking-widest ${pe?"text-accent-red/80":"text-ink-500"}`,children:Ae(r,"EEEE, MMMM yyyy")})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[!io(r)&&w.jsxs("button",{onClick:()=>e(new Date),className:"flex items-center gap-1.5 px-3 py-2 bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-lg transition-colors font-bold text-sm tracking-wide border border-paper-200",children:[w.jsx(Vx,{size:16}),w.jsx("span",{children:""})]}),w.jsxs("button",{onClick:()=>p("/"),className:"flex items-center gap-2 px-4 py-2 hover:bg-paper-100 text-ink-600 rounded-lg transition-colors font-medium text-sm",children:[w.jsx(rE,{size:18}),w.jsx("span",{children:" "})]})]})]}),w.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-8",children:[w.jsxs("div",{className:"flex-[3] flex flex-col bg-white border border-paper-200 shadow-sm rounded-2xl overflow-hidden relative",children:[w.jsx("div",{className:"bg-paper-100/50 p-5 border-b border-paper-200",children:w.jsxs("h3",{className:"font-bold text-lg text-ink-800 flex items-center gap-2",children:[w.jsx("span",{className:"w-1.5 h-6 bg-accent-blue rounded-full block"}),"   (To-Do)"]})}),w.jsxs("div",{className:"p-6 flex-1 flex flex-col bg-paper-50 bg-opacity-30",children:[w.jsxs("div",{className:"flex flex-col gap-3 mb-6",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsx("input",{type:"text",value:g,onChange:Z=>E(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&ve(Z)},placeholder:"   Enter ...",className:"flex-1 px-4 py-3 border border-paper-300 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-ink-400 focus:border-transparent placeholder-ink-400/50 transition-all font-medium"}),w.jsxs("button",{type:"button",onClick:ve,disabled:!g.trim(),className:"px-5 bg-ink-800 text-white font-bold rounded-xl hover:bg-ink-900 focus:ring-4 focus:ring-ink-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shrink-0",children:[w.jsx(_R,{size:18}),""]})]}),w.jsxs("div",{className:"flex items-center gap-4 px-1 py-1 bg-white/50 rounded-lg",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xs font-bold text-ink-500 bg-paper-200 px-2 py-1 rounded text-nowrap",children:""}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:"date",value:Ae(He,"yyyy-MM-dd"),min:Ae(r,"yyyy-MM-dd"),onChange:Z=>Z.target.value?R(Pl(Z.target.value)):R(null),className:"text-sm font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 focus:border-ink-500 py-0.5"})})]}),w.jsx("div",{className:"w-px h-6 bg-paper-300"}),w.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto custom-scrollbar pb-1 pt-1",children:[w.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-ink-500 bg-paper-200 px-2 py-1 rounded text-nowrap shrink-0",children:[w.jsx(pR,{size:12})," "]}),w.jsx("div",{className:"flex gap-1.5 shrink-0",children:Ja.map(Z=>w.jsx("button",{type:"button",onClick:()=>Q(Z.value),className:`w-6 h-6 rounded-full transition-all border-2 ${L===Z.value?"border-ink-700 scale-110 shadow-sm":"border-transparent hover:scale-105"}`,style:{backgroundColor:Z.value},title:Z.name},Z.value))})]}),w.jsx("div",{className:"w-px h-6 bg-paper-300"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xs font-bold text-ink-500 bg-paper-200 px-2 py-1 rounded text-nowrap",children:"()"}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(Zc,{value:K,onChange:P}),w.jsx("span",{className:"text-ink-400 font-bold text-xs mx-1",children:"~"}),w.jsx(Zc,{value:X,onChange:Y})]})]})]})]}),w.jsx("div",{className:"flex-1 space-y-2 overflow-y-auto custom-scrollbar pr-2",children:ae.length===0?w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-ink-400 opacity-60",children:[w.jsx("p",{className:"font-medium",children:"   ."}),w.jsx("p",{className:"text-sm mt-1",children:"     ."})]}):ae.map(Z=>re===Z.id?w.jsxs("div",{className:"p-4 bg-paper-100/50 rounded-xl border border-paper-300 shadow-sm flex flex-col gap-3",children:[w.jsx("input",{type:"text",value:ne,onChange:de=>le(de.target.value),onKeyDown:de=>{de.key==="Enter"&&oe(Z.id)},className:"w-full px-3 py-2 border border-paper-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-ink-400 font-medium",autoFocus:!0}),w.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-[11px] font-bold text-ink-500 bg-paper-200 px-2 py-0.5 rounded text-nowrap",children:""}),w.jsx("input",{type:"date",value:C?Ae(C,"yyyy-MM-dd"):F,min:F,onChange:de=>de.target.value?A(Pl(de.target.value)):A(null),onKeyDown:de=>{de.key==="Enter"&&oe(Z.id)},className:"text-xs font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 py-0.5"})]}),w.jsx("div",{className:"w-px h-4 bg-paper-300"}),w.jsx("div",{className:"flex gap-1.5 shrink-0",children:Ja.map(de=>w.jsx("button",{type:"button",onClick:()=>M(de.value),className:`w-5 h-5 rounded-full transition-all border-2 ${x===de.value?"border-ink-700 scale-110":"border-transparent"}`,style:{backgroundColor:de.value},title:de.name},de.value))}),w.jsx("div",{className:"w-px h-4 bg-paper-300"}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(Zc,{value:I,onChange:O,onEnter:()=>oe(Z.id)}),w.jsx("span",{className:"text-ink-400 font-bold text-xs mx-1",children:"~"}),w.jsx(Zc,{value:N,onChange:De,onEnter:()=>oe(Z.id)})]})]}),w.jsxs("div",{className:"flex justify-end gap-2 mt-1",children:[w.jsx("button",{onClick:he,className:"px-3 py-1.5 text-xs font-bold text-ink-500 hover:bg-paper-200 rounded-lg transition-colors",children:""}),w.jsx("button",{onClick:()=>oe(Z.id),className:"px-3 py-1.5 text-xs font-bold text-white bg-ink-800 hover:bg-ink-900 rounded-lg transition-colors",children:""})]})]},Z.id):w.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl transition-all border group
                                                ${Z.isCompleted?"bg-paper-100/40 border-transparent text-ink-400/70":"bg-white border-paper-200/80 text-ink-800 hover:border-paper-300 hover:shadow-sm"}
                                            `,style:!Z.isCompleted&&Z.endDate&&Z.endDate!==Z.date?{borderLeftWidth:"6px",borderLeftColor:Z.color}:{},children:[w.jsx("button",{onClick:()=>o(Z.id),className:`w-6 h-6 rounded-md border flex items-center justify-center shrink-0 transition-colors
                                                    ${Z.isCompleted?"bg-ink-400 border-ink-400 text-white":"border-paper-400 bg-paper-50 group-hover:border-paper-500"}
                                                `,children:Z.isCompleted&&w.jsx(Hx,{size:14,strokeWidth:3})}),w.jsxs("div",{className:"flex-1 flex flex-col",children:[w.jsx("span",{className:`font-medium text-[15px] ${Z.isCompleted?"line-through":""}`,children:Z.text}),(Z.startTime||Z.endDate&&Z.endDate!==Z.date)&&w.jsxs("span",{className:"text-[11px] text-ink-500 mt-0.5 font-bold",children:[Z.endDate&&Z.endDate!==Z.date?`${Ae(Pl(Z.date),"M/d")} ~ ${Ae(Pl(Z.endDate),"M/d")} `:"",Z.startTime?`${Z.startTime}${Z.endTime?` - ${Z.endTime}`:""}`:""]})]}),w.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("button",{onClick:()=>k(Z),className:"p-2 text-ink-400 hover:text-accent-blue hover:bg-blue-50 rounded-lg transition-all",title:"",children:w.jsx(Xh,{size:16})}),w.jsx("button",{onClick:()=>u(Z.id),className:"p-2 text-ink-400 hover:text-accent-red hover:bg-paper-100 rounded-lg transition-all",title:"",children:w.jsx(aE,{size:16})})]})]},Z.id))})]})]}),w.jsx("div",{className:"flex-[2] flex flex-col",children:w.jsxs("div",{className:"flex-1 bg-white border border-paper-200 rounded-2xl flex flex-col relative shadow-sm overflow-hidden",children:[w.jsx("div",{className:"h-14 bg-[#c95151] opacity-5 border-b border-paper-200/50"}),w.jsxs("div",{className:"absolute top-4 left-6 right-6 flex items-center justify-between",children:[w.jsx("h3",{className:"font-extrabold text-[#c95151] font-serif tracking-wide text-sm opacity-80",children:"FREE NOTE"}),w.jsx("span",{className:"text-xs font-bold text-ink-400 font-serif",children:"No. 01"})]}),w.jsx("div",{className:"flex-1 p-6 pt-8 pr-4",children:w.jsx("textarea",{className:"w-full h-full bg-transparent resize-none focus:outline-none text-ink-700 font-serif",placeholder:"     .",style:{backgroundImage:"linear-gradient(transparent, transparent 31px, rgba(232, 229, 217, 0.7) 32px)",backgroundSize:"100% 32px",lineHeight:"32px",paddingTop:"2px"}})})]})})]})]})},LR=()=>{const{verifyPin:r}=Ht(),[e,n]=H.useState(""),[s,o]=H.useState(!1);H.useEffect(()=>{e.length===4&&(r(e)?n(""):(o(!0),setTimeout(()=>{n(""),o(!1)},500)))},[e,r]);const u=m=>{e.length<4&&n(p=>p+m)},f=()=>{n(m=>m.slice(0,-1))};return w.jsx("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-[var(--color-paper-50)] backdrop-blur-md",children:w.jsxs("div",{className:`flex flex-col items-center w-full max-w-sm px-6 ${s?"animate-shake":""}`,children:[w.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-6 text-accent-blue border border-paper-200",children:w.jsx(sR,{size:32})}),w.jsx("h1",{className:"text-2xl font-bold text-ink-900 mb-2",children:" "}),w.jsxs("p",{className:"text-ink-500 text-sm mb-10 text-center",children:["  (PIN) 4",w.jsx("br",{})," ."]}),w.jsx("div",{className:"flex gap-4 mb-12",children:[0,1,2,3].map(m=>w.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-200 ${m<e.length?s?"bg-accent-red":"bg-accent-blue scale-110":"bg-paper-200"}`},m))}),w.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full max-w-[240px]",children:[[1,2,3,4,5,6,7,8,9].map(m=>w.jsx("button",{onClick:()=>u(m),className:"w-16 h-16 rounded-full flex items-center justify-center text-2xl font-medium text-ink-800 bg-white shadow-sm hover:bg-paper-100 active:bg-paper-200 transition-colors border border-paper-200/50 focus:outline-none",children:m},m)),w.jsx("div",{className:"w-16 h-16"})," ",w.jsx("button",{onClick:()=>u(0),className:"w-16 h-16 rounded-full flex items-center justify-center text-2xl font-medium text-ink-800 bg-white shadow-sm hover:bg-paper-100 active:bg-paper-200 transition-colors border border-paper-200/50 focus:outline-none",children:"0"}),w.jsx("button",{onClick:f,className:"w-16 h-16 rounded-full flex items-center justify-center text-ink-600 hover:bg-paper-100 active:bg-paper-200 transition-colors focus:outline-none",children:w.jsx(Jx,{size:24})})]}),s&&w.jsx("p",{className:"text-accent-red text-sm font-bold mt-8 animate-pulse",children:"  ."})]})})},UR=({isOpen:r,onClose:e})=>{const{appPin:n,setAppPin:s,verifyPin:o}=Ht(),[u,f]=H.useState("none"),[m,p]=H.useState(""),[g,E]=H.useState(""),[b,R]=H.useState("");H.useEffect(()=>{r&&(p(""),E(""),R(""),f("none"))},[r]);const L=P=>{m.length<4&&p(X=>X+P)},Q=()=>{p(P=>P.slice(0,-1))};if(H.useEffect(()=>{m.length===4&&(u==="verify_old"?o(m)?(p(""),s(null),alert("  ."),e()):(R("   ."),p("")):u==="enter_new"?(E(m),f("confirm_new"),p(""),R("")):u==="confirm_new"&&(m===g?(p(""),f("none"),s(g),alert("   ."),e()):(R("   .   ."),f("enter_new"),p(""),E(""))))},[m,u,g,o,s,e]),!r)return null;const K=()=>w.jsxs("div",{className:"flex flex-col items-center mt-6",children:[w.jsx("div",{className:"flex gap-4 mb-6",children:[0,1,2,3].map(P=>w.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${P<m.length?"bg-accent-blue scale-125":"bg-paper-200"}`},P))}),w.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[[1,2,3,4,5,6,7,8,9].map(P=>w.jsx("button",{onClick:()=>L(P),className:"w-14 h-14 rounded-full flex items-center justify-center text-xl font-medium text-ink-800 bg-paper-50 hover:bg-paper-100 active:bg-paper-200 transition-colors",children:P},P)),w.jsx("div",{className:"w-14 h-14"}),w.jsx("button",{onClick:()=>L(0),className:"w-14 h-14 rounded-full flex items-center justify-center text-xl font-medium text-ink-800 bg-paper-50 hover:bg-paper-100 active:bg-paper-200 transition-colors",children:"0"}),w.jsx("button",{onClick:Q,className:"w-14 h-14 rounded-full flex items-center justify-center text-ink-500 hover:bg-paper-100 transition-colors text-sm font-bold",children:""})]}),b&&w.jsx("p",{className:"text-accent-red text-xs mt-4 font-bold animate-pulse",children:b})]});return w.jsx("div",{className:"fixed inset-0 z-[110] bg-ink-900/40 flex items-center justify-center p-4 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm overflow-hidden relative",children:[w.jsxs("div",{className:"bg-paper-50 px-5 py-4 flex items-center justify-between border-b border-paper-200",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[n?w.jsx(SR,{className:"text-accent-blue",size:20}):w.jsx(TR,{className:"text-ink-400",size:20}),w.jsx("h2",{className:"font-bold text-ink-800",children:"  (App Lock)"})]}),w.jsx("button",{onClick:e,className:"p-1 rounded-full text-ink-400 hover:bg-paper-200 transition-colors",children:w.jsx(IR,{size:20})})]}),w.jsx("div",{className:"px-6 py-6 pb-8",children:u==="none"?w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${n?"bg-blue-50 text-accent-blue":"bg-paper-100 text-ink-400"}`,children:w.jsx(sE,{size:32})}),w.jsx("h3",{className:"text-lg font-bold text-ink-900 mb-2",children:n?"   .":"    "}),w.jsx("p",{className:"text-sm text-ink-500 mb-8 max-w-[240px]",children:n?"     4   .":"        4 (PIN) ."}),n?w.jsx("button",{onClick:()=>f("verify_old"),className:"w-full py-3 rounded-xl bg-paper-100 text-ink-700 font-bold hover:bg-paper-200 transition-colors border border-paper-200",children:"  "}):w.jsx("button",{onClick:()=>f("enter_new"),className:"w-full py-3 rounded-xl bg-accent-blue text-white font-bold hover:bg-blue-600 transition-colors shadow-sm",children:"  "})]}):w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("h3",{className:"text-lg font-bold text-ink-900 mb-1",children:[u==="verify_old"&&"  ",u==="enter_new"&&"  4",u==="confirm_new"&&" "]}),w.jsxs("p",{className:"text-xs text-ink-500",children:[u==="verify_old"&&"    .",u==="enter_new"&&" 4  .",u==="confirm_new"&&"     ."]}),K()]})})]})})},jR=()=>{};var tv={};const lE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},zR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},uE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,L=g&63;p||(L=64,f||(R=64)),s.push(n[E],n[b],n[R],n[L])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(lE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):zR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new BR;const R=u<<2|m>>4;if(s.push(R),g!==64){const L=m<<4&240|g>>2;if(s.push(L),b!==64){const Q=g<<6&192|b;s.push(Q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class BR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HR=function(r){const e=lE(r);return uE.encodeByteArray(e,!0)},Sh=function(r){return HR(r).replace(/\./g,"")},cE=function(r){try{return uE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const FR=()=>qR().__FIREBASE_DEFAULTS__,GR=()=>{if(typeof process>"u"||typeof tv>"u")return;const r=tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},YR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cE(r[1]);return e&&JSON.parse(e)},Jh=()=>{try{return jR()||FR()||GR()||YR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hE=r=>Jh()?.emulatorHosts?.[r],$R=r=>{const e=hE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},fE=()=>Jh()?.config,dE=r=>Jh()?.[`_${r}`];class QR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Eo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mE(r){return(await fetch(r,{credentials:"include"})).ok}function KR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Sh(JSON.stringify(n)),Sh(JSON.stringify(f)),""].join(".")}const Fl={};function XR(){const r={prod:[],emulator:[]};for(const e of Object.keys(Fl))Fl[e]?r.emulator.push(e):r.prod.push(e);return r}function WR(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let nv=!1;function pE(r,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||Fl[r]===e||Fl[r]||nv)return;Fl[r]=e;function n(R){return`__firebase__banner__${R}`}const s="__firebase__banner",u=XR().prod.length>0;function f(){const R=document.getElementById(s);R&&R.remove()}function m(R){R.style.display="flex",R.style.background="#7faaf0",R.style.position="fixed",R.style.bottom="5px",R.style.left="5px",R.style.padding=".5em",R.style.borderRadius="5px",R.style.alignItems="center"}function p(R,L){R.setAttribute("width","24"),R.setAttribute("id",L),R.setAttribute("height","24"),R.setAttribute("viewBox","0 0 24 24"),R.setAttribute("fill","none"),R.style.marginLeft="-6px"}function g(){const R=document.createElement("span");return R.style.cursor="pointer",R.style.marginLeft="16px",R.style.fontSize="24px",R.innerHTML=" &times;",R.onclick=()=>{nv=!0,f()},R}function E(R,L){R.setAttribute("id",L),R.innerText="Learn more",R.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",R.setAttribute("target","__blank"),R.style.paddingLeft="5px",R.style.textDecoration="underline"}function b(){const R=WR(s),L=n("text"),Q=document.getElementById(L)||document.createElement("span"),K=n("learnmore"),P=document.getElementById(K)||document.createElement("a"),X=n("preprendIcon"),Y=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(R.created){const re=R.element;m(re),E(P,K);const ue=g();p(Y,X),re.append(Y,Q,P,ue),document.body.appendChild(re)}u?(Q.innerText="Preview backend disconnected.",Y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",L)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function ZR(){const r=Jh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tC(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function nC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iC(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rC(){return!ZR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sC(){try{return typeof indexedDB=="object"}catch{return!1}}function aC(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}const oC="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=oC,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?lC(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pr(o,m,s)}}function lC(r,e){return r.replace(uC,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const uC=/\{\$([^}]+)}/g;function cC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ws(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(iv(u)&&iv(f)){if(!Ws(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function iv(r){return r!==null&&typeof r=="object"}function fu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function hC(r,e){const n=new fC(r,e);return n.subscribe.bind(n)}class fC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");dC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dC(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function xm(){}function Rn(r){return r&&r._delegate?r._delegate:r}class Js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Gs="[DEFAULT]";class mC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new QR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gC(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:pC(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pC(r){return r===Gs?void 0:r}function gC(r){return r.instantiationMode==="EAGER"}class yC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ue||(Ue={}));const _C={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},vC=Ue.INFO,EC={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},bC=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=EC[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tp{constructor(e){this.name=e,this._logLevel=vC,this._logHandler=bC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_C[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const TC=(r,e)=>e.some(n=>r instanceof n);let rv,sv;function wC(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SC(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gE=new WeakMap,qm=new WeakMap,yE=new WeakMap,Rm=new WeakMap,wp=new WeakMap;function AC(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ns(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&gE.set(n,r)}).catch(()=>{}),wp.set(e,r),e}function xC(r){if(qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});qm.set(r,e)}let Fm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function RC(r){Fm=r(Fm)}function CC(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Cm(this),e,...n);return yE.set(s,e.sort?e.sort():[e]),ns(s)}:SC().includes(r)?function(...e){return r.apply(Cm(this),e),ns(gE.get(this))}:function(...e){return ns(r.apply(Cm(this),e))}}function NC(r){return typeof r=="function"?CC(r):(r instanceof IDBTransaction&&xC(r),TC(r,wC())?new Proxy(r,Fm):r)}function ns(r){if(r instanceof IDBRequest)return AC(r);if(Rm.has(r))return Rm.get(r);const e=NC(r);return e!==r&&(Rm.set(r,e),wp.set(e,r)),e}const Cm=r=>wp.get(r);function IC(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=ns(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ns(f.result),p.oldVersion,p.newVersion,ns(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const DC=["get","getKey","getAll","getAllKeys","count"],MC=["put","add","delete","clear"],Nm=new Map;function av(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=MC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||DC.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Nm.set(e,u),u}RC(r=>({...r,get:(e,n,s)=>av(e,n)||r.get(e,n,s),has:(e,n)=>!!av(e,n)||r.has(e,n)}));class OC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function kC(r){return r.getComponent()?.type==="VERSION"}const Gm="@firebase/app",ov="0.14.8";const cr=new Tp("@firebase/app"),VC="@firebase/app-compat",PC="@firebase/analytics-compat",LC="@firebase/analytics",UC="@firebase/app-check-compat",jC="@firebase/app-check",zC="@firebase/auth",BC="@firebase/auth-compat",HC="@firebase/database",qC="@firebase/data-connect",FC="@firebase/database-compat",GC="@firebase/functions",YC="@firebase/functions-compat",$C="@firebase/installations",QC="@firebase/installations-compat",KC="@firebase/messaging",XC="@firebase/messaging-compat",WC="@firebase/performance",JC="@firebase/performance-compat",ZC="@firebase/remote-config",eN="@firebase/remote-config-compat",tN="@firebase/storage",nN="@firebase/storage-compat",iN="@firebase/firestore",rN="@firebase/ai",sN="@firebase/firestore-compat",aN="firebase",oN="12.9.0";const Ym="[DEFAULT]",lN={[Gm]:"fire-core",[VC]:"fire-core-compat",[LC]:"fire-analytics",[PC]:"fire-analytics-compat",[jC]:"fire-app-check",[UC]:"fire-app-check-compat",[zC]:"fire-auth",[BC]:"fire-auth-compat",[HC]:"fire-rtdb",[qC]:"fire-data-connect",[FC]:"fire-rtdb-compat",[GC]:"fire-fn",[YC]:"fire-fn-compat",[$C]:"fire-iid",[QC]:"fire-iid-compat",[KC]:"fire-fcm",[XC]:"fire-fcm-compat",[WC]:"fire-perf",[JC]:"fire-perf-compat",[ZC]:"fire-rc",[eN]:"fire-rc-compat",[tN]:"fire-gcs",[nN]:"fire-gcs-compat",[iN]:"fire-fst",[sN]:"fire-fst-compat",[rN]:"fire-vertex","fire-js":"fire-js",[aN]:"fire-js-all"};const Ah=new Map,uN=new Map,$m=new Map;function lv(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if($m.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,r);for(const n of Ah.values())lv(n,r);for(const n of uN.values())lv(n,r);return!0}function Sp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ii(r){return r==null?!1:r.settings!==void 0}const cN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new hu("app","Firebase",cN);class hN{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}const bo=oN;function _E(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:Ym,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=fE()),!n)throw is.create("no-options");const u=Ah.get(o);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new yC(o);for(const p of $m.values())f.addComponent(p);const m=new hN(n,s,f);return Ah.set(o,m),m}function vE(r=Ym){const e=Ah.get(r);if(!e&&r===Ym&&fE())return _E();if(!e)throw is.create("no-app",{appName:r});return e}function rs(r,e,n){let s=lN[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(f.join(" "));return}ho(new Js(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const fN="firebase-heartbeat-database",dN=1,Wl="firebase-heartbeat-store";let Im=null;function EE(){return Im||(Im=IC(fN,dN,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),Im}async function mN(r){try{const n=(await EE()).transaction(Wl),s=await n.objectStore(Wl).get(bE(r));return await n.done,s}catch(e){if(e instanceof pr)cr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function uv(r,e){try{const s=(await EE()).transaction(Wl,"readwrite");await s.objectStore(Wl).put(e,bE(r)),await s.done}catch(n){if(n instanceof pr)cr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function bE(r){return`${r.name}!${r.options.appId}`}const pN=1024,gN=30;class yN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>gN){const o=EN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=cv(),{heartbeatsToSend:n,unsentEntries:s}=_N(this._heartbeatsCache.heartbeats),o=Sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cr.warn(e),""}}}function cv(){return new Date().toISOString().substring(0,10)}function _N(r,e=pN){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),hv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),hv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class vN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sC()?aC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return uv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function hv(r){return Sh(JSON.stringify({version:2,heartbeats:r})).length}function EN(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function bN(r){ho(new Js("platform-logger",e=>new OC(e),"PRIVATE")),ho(new Js("heartbeat",e=>new yN(e),"PRIVATE")),rs(Gm,ov,r),rs(Gm,ov,"esm2020"),rs("fire-js","")}bN("");function TE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TN=TE,wE=new hu("auth","Firebase",TE());const xh=new Tp("@firebase/auth");function wN(r,...e){xh.logLevel<=Ue.WARN&&xh.warn(`Auth (${bo}): ${r}`,...e)}function lh(r,...e){xh.logLevel<=Ue.ERROR&&xh.error(`Auth (${bo}): ${r}`,...e)}function Pi(r,...e){throw xp(r,...e)}function ai(r,...e){return xp(r,...e)}function Ap(r,e,n){const s={...TN(),[e]:n};return new hu("auth","Firebase",s).create(e,{appName:r.name})}function Qs(r){return Ap(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function SN(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&Pi(r,"argument-error"),Ap(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return wE.create(r,...e)}function we(r,e,...n){if(!r)throw xp(e,...n)}function sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw lh(e),new Error(e)}function hr(r,e){r||sr(e)}function Qm(){return typeof self<"u"&&self.location?.href||""}function AN(){return fv()==="http:"||fv()==="https:"}function fv(){return typeof self<"u"&&self.location?.protocol||null}function xN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AN()||tC()||"connection"in navigator)?navigator.onLine:!0}function RN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=JR()||nC()}get(){return xN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Rp(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class SE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const CN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],IN=new du(3e4,6e4);function Cp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function To(r,e,n,s,o={}){return AE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=fu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return eC()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(g.credentials="include"),SE.fetch()(await xE(r,r.config.apiHost,n,m),g)})}async function AE(r,e,n){r._canInitEmulator=!1;const s={...CN,...e};try{const o=new MN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw eh(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ap(r,E,g);Pi(r,E)}}catch(o){if(o instanceof pr)throw o;Pi(r,"network-request-failed",{message:String(o)})}}async function DN(r,e,n,s,o={}){const u=await To(r,e,n,s,o);return"mfaPendingCredential"in u&&Pi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function xE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Rp(r.config,o):`${r.config.apiScheme}://${o}`;return NN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class MN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),IN.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=ai(r,e,s);return o.customData._tokenResponse=n,o}async function ON(r,e){return To(r,"POST","/v1/accounts:delete",e)}async function Rh(r,e){return To(r,"POST","/v1/accounts:lookup",e)}function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kN(r,e=!1){const n=Rn(r),s=await n.getIdToken(e),o=Np(s);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Gl(Dm(o.auth_time)),issuedAtTime:Gl(Dm(o.iat)),expirationTime:Gl(Dm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Dm(r){return Number(r)*1e3}function Np(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=cE(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function dv(r){const e=Np(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&VN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function VN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class PN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ch(r){const e=r.auth,n=await r.getIdToken(),s=await Jl(r,Rh(e,{idToken:n}));we(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?RE(o.providerUserInfo):[],f=UN(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!f?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function LN(r){const e=Rn(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function RE(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function jN(r,e){const n=await AE(r,{},async()=>{const s=fu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await xE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Eo(r.emulatorConfig.host)&&(p.credentials="include"),SE.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zN(r,e){return To(r,"POST","/v2/accounts:revokeToken",Cp(r,e))}class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=dv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await jN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ro;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return sr("not implemented")}}function Wr(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ri{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new PN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Km(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return kN(this,e)}reload(){return LN(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ri({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await Jl(this,ON(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:b,emailVerified:R,isAnonymous:L,providerData:Q,stsTokenManager:K}=n;we(b&&K,e,"internal-error");const P=ro.fromJSON(this.name,K);we(typeof b=="string",e,"internal-error"),Wr(s,e.name),Wr(o,e.name),we(typeof R=="boolean",e,"internal-error"),we(typeof L=="boolean",e,"internal-error"),Wr(u,e.name),Wr(f,e.name),Wr(m,e.name),Wr(p,e.name),Wr(g,e.name),Wr(E,e.name);const X=new ri({uid:b,auth:e,email:o,emailVerified:R,displayName:s,isAnonymous:L,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:E});return Q&&Array.isArray(Q)&&(X.providerData=Q.map(Y=>({...Y}))),p&&(X._redirectEventId=p),X}static async _fromIdTokenResponse(e,n,s=!1){const o=new ro;o.updateFromServerResponse(n);const u=new ri({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?RE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new ro;m.updateFromIdToken(s);const p=new ri({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const mv=new Map;function ar(r){hr(r instanceof Function,"Expected a class definition");let e=mv.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,mv.set(r,e),e)}class CE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CE.type="NONE";const pv=CE;function uh(r,e,n){return`firebase:${r}:${e}:${n}`}class so{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=uh(this.userKey,o.apiKey,u),this.fullPersistenceKey=uh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rh(this.auth,{idToken:e}).catch(()=>{});return n?ri._fromGetAccountInfoResponse(this.auth,n,e):null}return ri._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new so(ar(pv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ar(pv);const f=uh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let b;if(typeof E=="string"){const R=await Rh(e,{idToken:E}).catch(()=>{});if(!R)break;b=await ri._fromGetAccountInfoResponse(e,R,E)}else b=ri._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new so(u,e,s))}}function gv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ME(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(NE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kE(e))return"Blackberry";if(VE(e))return"Webos";if(IE(e))return"Safari";if((e.includes("chrome/")||DE(e))&&!e.includes("edge/"))return"Chrome";if(OE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function NE(r=rn()){return/firefox\//i.test(r)}function IE(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DE(r=rn()){return/crios\//i.test(r)}function ME(r=rn()){return/iemobile/i.test(r)}function OE(r=rn()){return/android/i.test(r)}function kE(r=rn()){return/blackberry/i.test(r)}function VE(r=rn()){return/webos/i.test(r)}function Ip(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BN(r=rn()){return Ip(r)&&!!window.navigator?.standalone}function HN(){return iC()&&document.documentMode===10}function PE(r=rn()){return Ip(r)||OE(r)||VE(r)||kE(r)||/windows phone/i.test(r)||ME(r)}function LE(r,e=[]){let n;switch(r){case"Browser":n=gv(rn());break;case"Worker":n=`${gv(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bo}/${s}`}class qN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function FN(r,e={}){return To(r,"GET","/v2/passwordPolicy",Cp(r,e))}const GN=6;class YN{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GN,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class $N{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yv(this),this.idTokenSubscription=new yv(this),this.beforeStateQueue=new qN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rh(this,{idToken:e}),s=await ri._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=RN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Qs(this));const n=e?Rn(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await FN(this),n=new YN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await zN(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&wN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Zh(r){return Rn(r)}class yv{constructor(e){this.auth=e,this.observer=null,this.addObserver=hC(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QN(r){Dp=r}function KN(r){return Dp.loadJS(r)}function XN(){return Dp.gapiScript}function WN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function JN(r,e){const n=Sp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ws(u,e??{}))return o;Pi(o,"already-initialized")}return n.initialize({options:e})}function ZN(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function eI(r,e,n){const s=Zh(r);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=UE(e),{host:f,port:m}=tI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(Ws(g,s.config.emulator)&&Ws(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Eo(f)?(mE(`${u}//${f}${p}`),pE("Auth",!0)):nI()}function UE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function tI(r){const e=UE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:_v(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:_v(f)}}}function _v(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function nI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class jE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function ao(r,e){return DN(r,"POST","/v1/accounts:signInWithIdp",Cp(r,e))}const iI="http://localhost";class Zs extends jE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:iI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=fu(n)}return e}}class Mp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends Mp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jr extends mu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";class rr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rr.credentialFromTaggedObject(e)}static credentialFromError(e){return rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return rr.credential(n,s)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class Zr extends mu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.GITHUB_SIGN_IN_METHOD="github.com";Zr.PROVIDER_ID="github.com";class es extends mu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";class fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ri._fromIdTokenResponse(e,s,o),f=vv(s);return new fo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=vv(s);return new fo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function vv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Nh extends pr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function zE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function rI(r,e,n=!1){const s=await Jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return fo._forOperation(r,"link",s)}async function sI(r,e,n=!1){const{auth:s}=r;if(ii(s.app))return Promise.reject(Qs(s));const o="reauthenticate";try{const u=await Jl(r,zE(s,o,e,r),n);we(u.idToken,s,"internal-error");const f=Np(u.idToken);we(f,s,"internal-error");const{sub:m}=f;return we(r.uid===m,s,"user-mismatch"),fo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Pi(s,"user-mismatch"),u}}async function aI(r,e,n=!1){if(ii(r.app))return Promise.reject(Qs(r));const s="signIn",o=await zE(r,s,e),u=await fo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function oI(r,e,n,s){return Rn(r).onIdTokenChanged(e,n,s)}function lI(r,e,n){return Rn(r).beforeAuthStateChanged(e,n)}function uI(r,e,n,s){return Rn(r).onAuthStateChanged(e,n,s)}function cI(r){return Rn(r).signOut()}const Ih="__sak";class BE{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hI=1e3,fI=10;class HE extends BE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);HN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,fI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},hI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HE.type="LOCAL";const dI=HE;class qE extends BE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qE.type="SESSION";const FE=qE;function mI(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await mI(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];function Op(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class pI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Op("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Mi(){return window}function gI(r){Mi().location.href=r}function GE(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function yI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _I(){return navigator?.serviceWorker?.controller||null}function vI(){return GE()?self:null}const YE="firebaseLocalStorageDb",EI=1,Dh="firebaseLocalStorage",$E="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(r,e){return r.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function bI(){const r=indexedDB.deleteDatabase(YE);return new pu(r).toPromise()}function Xm(){const r=indexedDB.open(YE,EI);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dh,{keyPath:$E})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dh)?e(s):(s.close(),await bI(),e(await Xm()))})})}async function Ev(r,e,n){const s=tf(r,!0).put({[$E]:e,value:n});return new pu(s).toPromise()}async function TI(r,e){const n=tf(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function bv(r,e){const n=tf(r,!0).delete(e);return new pu(n).toPromise()}const wI=800,SI=3;class QE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>SI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return GE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(vI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await yI(),!this.activeServiceWorker)return;this.sender=new pI(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||_I()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await Ev(e,Ih,"1"),await bv(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ev(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>TI(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}QE.type="LOCAL";const AI=QE;new du(3e4,6e4);function KE(r,e){return e?ar(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class kp extends jE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xI(r){return aI(r.auth,new kp(r),r.bypassAuthState)}function RI(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),sI(n,new kp(r),r.bypassAuthState)}async function CI(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),rI(n,new kp(r),r.bypassAuthState)}class XE{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xI;case"linkViaPopup":case"linkViaRedirect":return CI;case"reauthViaPopup":case"reauthViaRedirect":return RI;default:Pi(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const NI=new du(2e3,1e4);async function II(r,e,n){if(ii(r.app))return Promise.reject(ai(r,"operation-not-supported-in-this-environment"));const s=Zh(r);SN(r,e,Mp);const o=KE(s,n);return new Ys(s,"signInViaPopup",e,o).executeNotNull()}class Ys extends XE{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ys.currentPopupAction&&Ys.currentPopupAction.cancel(),Ys.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Op();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ys.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,NI.get())};e()}}Ys.currentPopupAction=null;const DI="pendingRedirect",ch=new Map;class MI extends XE{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await OI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OI(r,e){const n=PI(e),s=VI(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kI(r,e){ch.set(r._key(),e)}function VI(r){return ar(r._redirectPersistence)}function PI(r){return uh(DI,r.config.apiKey,r.name)}async function LI(r,e,n=!1){if(ii(r.app))return Promise.reject(Qs(r));const s=Zh(r),o=KE(s,e),f=await new MI(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const UI=600*1e3;class jI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!zI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!WE(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ai(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(e))}saveEventToCache(e){this.cachedEventUids.add(Tv(e)),this.lastProcessedEventTime=Date.now()}}function Tv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function WE({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function zI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WE(r);default:return!1}}async function BI(r,e={}){return To(r,"GET","/v1/projects",e)}const HI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qI=/^https?/;async function FI(r){if(r.config.emulator)return;const{authorizedDomains:e}=await BI(r);for(const n of e)try{if(GI(n))return}catch{}Pi(r,"unauthorized-domain")}function GI(r){const e=Qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!qI.test(n))return!1;if(HI.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}const YI=new du(3e4,6e4);function wv(){const r=Mi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function $I(r){return new Promise((e,n)=>{function s(){wv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wv(),n(ai(r,"network-request-failed"))},timeout:YI.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=WN("iframefcb");return Mi()[o]=()=>{gapi.load?s():n(ai(r,"network-request-failed"))},KN(`${XN()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw hh=null,e})}let hh=null;function QI(r){return hh=hh||$I(r),hh}const KI=new du(5e3,15e3),XI="__/auth/iframe",WI="emulator/auth/iframe",JI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ZI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eD(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Rp(e,WI):`https://${r.config.authDomain}/${XI}`,s={apiKey:e.apiKey,appName:r.name,v:bo},o=ZI.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${fu(s).slice(1)}`}async function tD(r){const e=await QI(r),n=Mi().gapi;return we(n,r,"internal-error"),e.open({where:document.body,url:eD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JI,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=ai(r,"network-request-failed"),m=Mi().setTimeout(()=>{u(f)},KI.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}const nD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iD=500,rD=600,sD="_blank",aD="http://localhost";class Sv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oD(r,e,n,s=iD,o=rD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...nD,width:s.toString(),height:o.toString(),top:u,left:f},g=rn().toLowerCase();n&&(m=DE(g)?sD:n),NE(g)&&(e=e||aD,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[L,Q])=>`${R}${L}=${Q},`,"");if(BN(g)&&m!=="_self")return lD(e||"",m),new Sv(null);const b=window.open(e||"",m,E);we(b,r,"popup-blocked");try{b.focus()}catch{}return new Sv(b)}function lD(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const uD="__/auth/handler",cD="emulator/auth/handler",hD=encodeURIComponent("fac");async function Av(r,e,n,s,o,u){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:bo,eventId:o};if(e instanceof Mp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",cC(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))f[E]=b}if(e instanceof mu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${hD}=${encodeURIComponent(p)}`:"";return`${fD(r)}?${fu(m).slice(1)}${g}`}function fD({config:r}){return r.emulator?Rp(r,cD):`https://${r.authDomain}/${uD}`}const Mm="webStorageSupport";class dD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FE,this._completeRedirectFn=LI,this._overrideRedirectResult=kI}async _openPopup(e,n,s,o){hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await Av(e,n,s,Qm(),o);return oD(e,u,Op())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Av(e,n,s,Qm(),o);return gI(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await tD(e),s=new jI(e);return n.register("authEvent",o=>(we(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Mm,{type:Mm},o=>{const u=o?.[0]?.[Mm];u!==void 0&&n(!!u),Pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PE()||IE()||Ip()}}const mD=dD;var xv="@firebase/auth",Rv="1.12.0";class pD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function gD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function yD(r){ho(new Js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LE(r)},g=new $N(s,o,u,p);return ZN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new Js("auth-internal",e=>{const n=Zh(e.getProvider("auth").getImmediate());return(s=>new pD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(xv,Rv,gD(r)),rs(xv,Rv,"esm2020")}const _D=300,vD=dE("authIdTokenMaxAge")||_D;let Cv=null;const ED=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>vD)return;const o=n?.token;Cv!==o&&(Cv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function bD(r=vE()){const e=Sp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=JN(r,{popupRedirectResolver:mD,persistence:[AI,dI,FE]}),s=dE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=ED(u.toString());lI(n,f,()=>f(n.currentUser)),oI(n,m=>f(m))}}const o=hE("auth");return o&&eI(n,`http://${o}`),n}function TD(){return document.getElementsByTagName("head")?.[0]??document}QN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",TD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});yD("Browser");var wD="firebase",SD="12.9.0";rs(wD,SD,"app");var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ss,JE;(function(){var r;function e(C,A){function x(){}x.prototype=A.prototype,C.F=A.prototype,C.prototype=new x,C.prototype.constructor=C,C.D=function(M,I,O){for(var N=Array(arguments.length-2),De=2;De<arguments.length;De++)N[De-2]=arguments[De];return A.prototype[I].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,x){x||(x=0);const M=Array(16);if(typeof A=="string")for(var I=0;I<16;++I)M[I]=A.charCodeAt(x++)|A.charCodeAt(x++)<<8|A.charCodeAt(x++)<<16|A.charCodeAt(x++)<<24;else for(I=0;I<16;++I)M[I]=A[x++]|A[x++]<<8|A[x++]<<16|A[x++]<<24;A=C.g[0],x=C.g[1],I=C.g[2];let O=C.g[3],N;N=A+(O^x&(I^O))+M[0]+3614090360&4294967295,A=x+(N<<7&4294967295|N>>>25),N=O+(I^A&(x^I))+M[1]+3905402710&4294967295,O=A+(N<<12&4294967295|N>>>20),N=I+(x^O&(A^x))+M[2]+606105819&4294967295,I=O+(N<<17&4294967295|N>>>15),N=x+(A^I&(O^A))+M[3]+3250441966&4294967295,x=I+(N<<22&4294967295|N>>>10),N=A+(O^x&(I^O))+M[4]+4118548399&4294967295,A=x+(N<<7&4294967295|N>>>25),N=O+(I^A&(x^I))+M[5]+1200080426&4294967295,O=A+(N<<12&4294967295|N>>>20),N=I+(x^O&(A^x))+M[6]+2821735955&4294967295,I=O+(N<<17&4294967295|N>>>15),N=x+(A^I&(O^A))+M[7]+4249261313&4294967295,x=I+(N<<22&4294967295|N>>>10),N=A+(O^x&(I^O))+M[8]+1770035416&4294967295,A=x+(N<<7&4294967295|N>>>25),N=O+(I^A&(x^I))+M[9]+2336552879&4294967295,O=A+(N<<12&4294967295|N>>>20),N=I+(x^O&(A^x))+M[10]+4294925233&4294967295,I=O+(N<<17&4294967295|N>>>15),N=x+(A^I&(O^A))+M[11]+2304563134&4294967295,x=I+(N<<22&4294967295|N>>>10),N=A+(O^x&(I^O))+M[12]+1804603682&4294967295,A=x+(N<<7&4294967295|N>>>25),N=O+(I^A&(x^I))+M[13]+4254626195&4294967295,O=A+(N<<12&4294967295|N>>>20),N=I+(x^O&(A^x))+M[14]+2792965006&4294967295,I=O+(N<<17&4294967295|N>>>15),N=x+(A^I&(O^A))+M[15]+1236535329&4294967295,x=I+(N<<22&4294967295|N>>>10),N=A+(I^O&(x^I))+M[1]+4129170786&4294967295,A=x+(N<<5&4294967295|N>>>27),N=O+(x^I&(A^x))+M[6]+3225465664&4294967295,O=A+(N<<9&4294967295|N>>>23),N=I+(A^x&(O^A))+M[11]+643717713&4294967295,I=O+(N<<14&4294967295|N>>>18),N=x+(O^A&(I^O))+M[0]+3921069994&4294967295,x=I+(N<<20&4294967295|N>>>12),N=A+(I^O&(x^I))+M[5]+3593408605&4294967295,A=x+(N<<5&4294967295|N>>>27),N=O+(x^I&(A^x))+M[10]+38016083&4294967295,O=A+(N<<9&4294967295|N>>>23),N=I+(A^x&(O^A))+M[15]+3634488961&4294967295,I=O+(N<<14&4294967295|N>>>18),N=x+(O^A&(I^O))+M[4]+3889429448&4294967295,x=I+(N<<20&4294967295|N>>>12),N=A+(I^O&(x^I))+M[9]+568446438&4294967295,A=x+(N<<5&4294967295|N>>>27),N=O+(x^I&(A^x))+M[14]+3275163606&4294967295,O=A+(N<<9&4294967295|N>>>23),N=I+(A^x&(O^A))+M[3]+4107603335&4294967295,I=O+(N<<14&4294967295|N>>>18),N=x+(O^A&(I^O))+M[8]+1163531501&4294967295,x=I+(N<<20&4294967295|N>>>12),N=A+(I^O&(x^I))+M[13]+2850285829&4294967295,A=x+(N<<5&4294967295|N>>>27),N=O+(x^I&(A^x))+M[2]+4243563512&4294967295,O=A+(N<<9&4294967295|N>>>23),N=I+(A^x&(O^A))+M[7]+1735328473&4294967295,I=O+(N<<14&4294967295|N>>>18),N=x+(O^A&(I^O))+M[12]+2368359562&4294967295,x=I+(N<<20&4294967295|N>>>12),N=A+(x^I^O)+M[5]+4294588738&4294967295,A=x+(N<<4&4294967295|N>>>28),N=O+(A^x^I)+M[8]+2272392833&4294967295,O=A+(N<<11&4294967295|N>>>21),N=I+(O^A^x)+M[11]+1839030562&4294967295,I=O+(N<<16&4294967295|N>>>16),N=x+(I^O^A)+M[14]+4259657740&4294967295,x=I+(N<<23&4294967295|N>>>9),N=A+(x^I^O)+M[1]+2763975236&4294967295,A=x+(N<<4&4294967295|N>>>28),N=O+(A^x^I)+M[4]+1272893353&4294967295,O=A+(N<<11&4294967295|N>>>21),N=I+(O^A^x)+M[7]+4139469664&4294967295,I=O+(N<<16&4294967295|N>>>16),N=x+(I^O^A)+M[10]+3200236656&4294967295,x=I+(N<<23&4294967295|N>>>9),N=A+(x^I^O)+M[13]+681279174&4294967295,A=x+(N<<4&4294967295|N>>>28),N=O+(A^x^I)+M[0]+3936430074&4294967295,O=A+(N<<11&4294967295|N>>>21),N=I+(O^A^x)+M[3]+3572445317&4294967295,I=O+(N<<16&4294967295|N>>>16),N=x+(I^O^A)+M[6]+76029189&4294967295,x=I+(N<<23&4294967295|N>>>9),N=A+(x^I^O)+M[9]+3654602809&4294967295,A=x+(N<<4&4294967295|N>>>28),N=O+(A^x^I)+M[12]+3873151461&4294967295,O=A+(N<<11&4294967295|N>>>21),N=I+(O^A^x)+M[15]+530742520&4294967295,I=O+(N<<16&4294967295|N>>>16),N=x+(I^O^A)+M[2]+3299628645&4294967295,x=I+(N<<23&4294967295|N>>>9),N=A+(I^(x|~O))+M[0]+4096336452&4294967295,A=x+(N<<6&4294967295|N>>>26),N=O+(x^(A|~I))+M[7]+1126891415&4294967295,O=A+(N<<10&4294967295|N>>>22),N=I+(A^(O|~x))+M[14]+2878612391&4294967295,I=O+(N<<15&4294967295|N>>>17),N=x+(O^(I|~A))+M[5]+4237533241&4294967295,x=I+(N<<21&4294967295|N>>>11),N=A+(I^(x|~O))+M[12]+1700485571&4294967295,A=x+(N<<6&4294967295|N>>>26),N=O+(x^(A|~I))+M[3]+2399980690&4294967295,O=A+(N<<10&4294967295|N>>>22),N=I+(A^(O|~x))+M[10]+4293915773&4294967295,I=O+(N<<15&4294967295|N>>>17),N=x+(O^(I|~A))+M[1]+2240044497&4294967295,x=I+(N<<21&4294967295|N>>>11),N=A+(I^(x|~O))+M[8]+1873313359&4294967295,A=x+(N<<6&4294967295|N>>>26),N=O+(x^(A|~I))+M[15]+4264355552&4294967295,O=A+(N<<10&4294967295|N>>>22),N=I+(A^(O|~x))+M[6]+2734768916&4294967295,I=O+(N<<15&4294967295|N>>>17),N=x+(O^(I|~A))+M[13]+1309151649&4294967295,x=I+(N<<21&4294967295|N>>>11),N=A+(I^(x|~O))+M[4]+4149444226&4294967295,A=x+(N<<6&4294967295|N>>>26),N=O+(x^(A|~I))+M[11]+3174756917&4294967295,O=A+(N<<10&4294967295|N>>>22),N=I+(A^(O|~x))+M[2]+718787259&4294967295,I=O+(N<<15&4294967295|N>>>17),N=x+(O^(I|~A))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+I&4294967295,C.g[3]=C.g[3]+O&4294967295}s.prototype.v=function(C,A){A===void 0&&(A=C.length);const x=A-this.blockSize,M=this.C;let I=this.h,O=0;for(;O<A;){if(I==0)for(;O<=x;)o(this,C,O),O+=this.blockSize;if(typeof C=="string"){for(;O<A;)if(M[I++]=C.charCodeAt(O++),I==this.blockSize){o(this,M),I=0;break}}else for(;O<A;)if(M[I++]=C[O++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=A},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var x=C.length-8;x<C.length;++x)C[x]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,x=0;x<4;++x)for(let M=0;M<32;M+=8)C[A++]=this.g[x]>>>M&255;return C};function u(C,A){var x=m;return Object.prototype.hasOwnProperty.call(x,C)?x[C]:x[C]=A(C)}function f(C,A){this.h=A;const x=[];let M=!0;for(let I=C.length-1;I>=0;I--){const O=C[I]|0;M&&O==A||(x[I]=O,M=!1)}this.g=x}var m={};function p(C){return-128<=C&&C<128?u(C,function(A){return new f([A|0],A<0?-1:0)}):new f([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return b;if(C<0)return P(g(-C));const A=[];let x=1;for(let M=0;C>=x;M++)A[M]=C/x|0,x*=4294967296;return new f(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return P(E(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=g(Math.pow(A,8));let M=b;for(let O=0;O<C.length;O+=8){var I=Math.min(8,C.length-O);const N=parseInt(C.substring(O,O+I),A);I<8?(I=g(Math.pow(A,I)),M=M.j(I).add(g(N))):(M=M.j(x),M=M.add(g(N)))}return M}var b=p(0),R=p(1),L=p(16777216);r=f.prototype,r.m=function(){if(K(this))return-P(this).m();let C=0,A=1;for(let x=0;x<this.g.length;x++){const M=this.i(x);C+=(M>=0?M:4294967296+M)*A,A*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Q(this))return"0";if(K(this))return"-"+P(this).toString(C);const A=g(Math.pow(C,6));var x=this;let M="";for(;;){const I=ue(x,A).g;x=X(x,I.j(A));let O=((x.g.length>0?x.g[0]:x.h)>>>0).toString(C);if(x=I,Q(x))return O+M;for(;O.length<6;)O="0"+O;M=O+M}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Q(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function K(C){return C.h==-1}r.l=function(C){return C=X(this,C),K(C)?-1:Q(C)?0:1};function P(C){const A=C.g.length,x=[];for(let M=0;M<A;M++)x[M]=~C.g[M];return new f(x,~C.h).add(R)}r.abs=function(){return K(this)?P(this):this},r.add=function(C){const A=Math.max(this.g.length,C.g.length),x=[];let M=0;for(let I=0;I<=A;I++){let O=M+(this.i(I)&65535)+(C.i(I)&65535),N=(O>>>16)+(this.i(I)>>>16)+(C.i(I)>>>16);M=N>>>16,O&=65535,N&=65535,x[I]=N<<16|O}return new f(x,x[x.length-1]&-2147483648?-1:0)};function X(C,A){return C.add(P(A))}r.j=function(C){if(Q(this)||Q(C))return b;if(K(this))return K(C)?P(this).j(P(C)):P(P(this).j(C));if(K(C))return P(this.j(P(C)));if(this.l(L)<0&&C.l(L)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,x=[];for(var M=0;M<2*A;M++)x[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<C.g.length;I++){const O=this.i(M)>>>16,N=this.i(M)&65535,De=C.i(I)>>>16,He=C.i(I)&65535;x[2*M+2*I]+=N*He,Y(x,2*M+2*I),x[2*M+2*I+1]+=O*He,Y(x,2*M+2*I+1),x[2*M+2*I+1]+=N*De,Y(x,2*M+2*I+1),x[2*M+2*I+2]+=O*De,Y(x,2*M+2*I+2)}for(C=0;C<A;C++)x[C]=x[2*C+1]<<16|x[2*C];for(C=A;C<2*A;C++)x[C]=0;return new f(x,0)};function Y(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function re(C,A){this.g=C,this.h=A}function ue(C,A){if(Q(A))throw Error("division by zero");if(Q(C))return new re(b,b);if(K(C))return A=ue(P(C),A),new re(P(A.g),P(A.h));if(K(A))return A=ue(C,P(A)),new re(P(A.g),A.h);if(C.g.length>30){if(K(C)||K(A))throw Error("slowDivide_ only works with positive integers.");for(var x=R,M=A;M.l(C)<=0;)x=ne(x),M=ne(M);var I=le(x,1),O=le(M,1);for(M=le(M,2),x=le(x,2);!Q(M);){var N=O.add(M);N.l(C)<=0&&(I=I.add(x),O=N),M=le(M,1),x=le(x,1)}return A=X(C,I.j(A)),new re(I,A)}for(I=b;C.l(A)>=0;){for(x=Math.max(1,Math.floor(C.m()/A.m())),M=Math.ceil(Math.log(x)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),O=g(x),N=O.j(A);K(N)||N.l(C)>0;)x-=M,O=g(x),N=O.j(A);Q(O)&&(O=R),I=I.add(O),C=X(C,N)}return new re(I,C)}r.B=function(C){return ue(this,C).h},r.and=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)&C.i(M);return new f(x,this.h&C.h)},r.or=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)|C.i(M);return new f(x,this.h|C.h)},r.xor=function(C){const A=Math.max(this.g.length,C.g.length),x=[];for(let M=0;M<A;M++)x[M]=this.i(M)^C.i(M);return new f(x,this.h^C.h)};function ne(C){const A=C.g.length+1,x=[];for(let M=0;M<A;M++)x[M]=C.i(M)<<1|C.i(M-1)>>>31;return new f(x,C.h)}function le(C,A){const x=A>>5;A%=32;const M=C.g.length-x,I=[];for(let O=0;O<M;O++)I[O]=A>0?C.i(O+x)>>>A|C.i(O+x+1)<<32-A:C.i(O+x);return new f(I,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,JE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,ss=f}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var th=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ZE,zl,eb,fh,Wm,tb,nb,ib;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof th=="object"&&th];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break e;v=v[j]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function b(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,j,G){for(var ce=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ce[Ne-2]=arguments[Ne];return y.prototype[j].apply(S,ce)}}var R=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function L(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function Q(c,y){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const G=j.length||0;c.length=v+G;for(let ce=0;ce<G;ce++)c[v+ce]=j[ce]}else c.push(j)}}class K{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(c){f.setTimeout(()=>{throw c},0)}function X(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Y{constructor(){this.h=this.g=null}add(y,v){const S=re.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new K(()=>new ue,c=>c.reset());class ue{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,C=new Y,A=()=>{const c=Promise.resolve(void 0);ne=()=>{c.then(x)}};function x(){for(var c;c=X();){try{c.h.call(c.g)}catch(v){P(v)}var y=re;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}le=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,y),f.removeEventListener("test",v,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function De(c,y){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(De,I),De.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&De.Z.h.call(this)},De.prototype.h=function(){De.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var He="closure_listenable_"+(Math.random()*1e6|0),F=0;function ae(c,y,v,S,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=j,this.key=++F,this.da=this.fa=!1}function pe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Me(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function ve(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function k(c){const y={};for(const v in c)y[v]=c[v];return y}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(c,y){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let G=0;G<J.length;G++)v=J[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,y,v,S,j){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ce=de(c,y,S,j);return ce>-1?(y=c[ce],v||(y.fa=!1)):(y=new ae(y,this.src,G,!!S,j),y.fa=v,c.push(y)),y};function Z(c,y){const v=y.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,y,void 0),G;(G=j>=0)&&Array.prototype.splice.call(S,j,1),G&&(pe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function de(c,y,v,S){for(let j=0;j<c.length;++j){const G=c[j];if(!G.da&&G.listener==y&&G.capture==!!v&&G.ha==S)return j}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),ut={};function rt(c,y,v,S,j){if(Array.isArray(y)){for(let G=0;G<y.length;G++)rt(c,y[G],v,S,j);return null}return v=No(v),c&&c[He]?c.J(y,v,m(S)?!!S.capture:!1,j):yn(c,y,v,!1,S,j)}function yn(c,y,v,S,j,G){if(!y)throw Error("Invalid event type");const ce=m(j)?!!j.capture:!!j;let Ne=ms(c);if(Ne||(c[Se]=Ne=new he(c)),v=Ne.add(y,v,S,ce,G),v.proxy)return v;if(S=gr(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)O||(j=ce),j===void 0&&(j=!1),c.addEventListener(y.toString(),S,j);else if(c.attachEvent)c.attachEvent(ui(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function gr(){function c(v){return y.call(c.src,c.listener,v)}const y=Ro;return c}function la(c,y,v,S,j){if(Array.isArray(y))for(var G=0;G<y.length;G++)la(c,y[G],v,S,j);else S=m(S)?!!S.capture:!!S,v=No(v),c&&c[He]?(c=c.i,G=String(y).toString(),G in c.g&&(y=c.g[G],v=de(y,v,S,j),v>-1&&(pe(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[G],c.h--)))):c&&(c=ms(c))&&(y=c.g[y.toString()],c=-1,y&&(c=de(y,v,S,j)),(v=c>-1?y[c]:null)&&ua(v))}function ua(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[He])Z(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(ui(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=ms(y))?(Z(v,c),v.h==0&&(v.src=null,y[Se]=null)):pe(c)}}}function ui(c){return c in ut?ut[c]:ut[c]="on"+c}function Ro(c,y){if(c.da)c=!0;else{y=new De(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&ua(c),c=v.call(S,y)}return c}function ms(c){return c=c[Se],c instanceof he?c:null}var Co="__closure_events_fn_"+(Math.random()*1e9>>>0);function No(c){return typeof c=="function"?c:(c[Co]||(c[Co]=function(y){return c.handleEvent(y)}),c[Co])}function Tt(){M.call(this),this.i=new he(this),this.M=this,this.G=null}b(Tt,M),Tt.prototype[He]=!0,Tt.prototype.removeEventListener=function(c,y,v,S){la(this,c,y,v,S)};function kt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new I(y,c);else if(y instanceof I)y.target=y.target||c;else{var j=y;y=new I(S,c),oe(y,j)}j=!0;let G,ce;if(v)for(ce=v.length-1;ce>=0;ce--)G=y.g=v[ce],j=yr(G,S,!0,y)&&j;if(G=y.g=c,j=yr(G,S,!0,y)&&j,j=yr(G,S,!1,y)&&j,v)for(ce=0;ce<v.length;ce++)G=y.g=v[ce],j=yr(G,S,!1,y)&&j}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)pe(v[S]);delete c.g[y],c.h--}}this.G=null},Tt.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},Tt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function yr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let G=0;G<y.length;++G){const ce=y[G];if(ce&&!ce.da&&ce.capture==v){const Ne=ce.listener,_t=ce.ha||ce.src;ce.fa&&Z(c.i,ce),j=Ne.call(_t,S)!==!1&&j}}return j&&!S.defaultPrevented}function gf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function bu(c){c.g=gf(()=>{c.g=null,c.i&&(c.i=!1,bu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class sn extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:bu(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){M.call(this),this.h=c,this.g={}}b(ps,M);var Io=[];function Do(c){Me(c.g,function(y,v){this.g.hasOwnProperty(v)&&ua(y)},c),c.g={}}ps.prototype.N=function(){ps.Z.N.call(this),Do(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=f.JSON.stringify,yf=f.JSON.parse,Tu=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function Su(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){I.call(this,"d")}b(Ft,I);function Cn(){I.call(this,"c")}b(Cn,I);var yt={},Au=null;function ca(){return Au=Au||new Tt}yt.Ia="serverreachability";function xu(c){I.call(this,yt.Ia,c)}b(xu,I);function ci(c){const y=ca();kt(y,new xu(y))}yt.STAT_EVENT="statevent";function gs(c,y){I.call(this,yt.STAT_EVENT,c),this.stat=y}b(gs,I);function wt(c){const y=ca();kt(y,new gs(y,c))}yt.Ja="timingevent";function hi(c,y){I.call(this,yt.Ja,c),this.size=y}b(hi,I);function fi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function _f(c,y,v,S,j,G){c.info(function(){if(c.g)if(G){var ce="",Ne=G.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var _t=Ne[Ye].split("=");if(_t.length>1){const ct=_t[0];_t=_t[1];const Mn=ct.split("_");ce=Mn.length>=2&&Mn[1]=="type"?ce+(ct+"="+_t+"&"):ce+(ct+"=redacted&")}}}else ce=null;else ce=G;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+y+`
`+v+`
`+ce})}function Ru(c,y,v,S,j,G,ce){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+y+`
`+v+`
`+G+" "+ce})}function di(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+vf(c,v)+(S?" "+S:"")})}function ys(c,y){c.info(function(){return"TIMEOUT: "+y})}Yn.prototype.info=function(){};function vf(c,y){if(!c.g)return y;if(!y)return null;try{const G=JSON.parse(y);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var v=G[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ce=1;ce<S.length;ce++)S[ce]=""}}}}return _r(G)}catch{return y}}var _s={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Oo;function vs(){}b(vs,wu),vs.prototype.g=function(){return new XMLHttpRequest},Oo=new vs;function ji(c){return encodeURIComponent(String(c))}function Cu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function $n(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new ps(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var St={},Ut={};function mi(c,y,v){c.M=1,c.A=Es(xt(y)),c.u=v,c.R=!0,ha(c,null)}function ha(c,y){c.F=Date.now(),pi(c),c.B=xt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),pa(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Qn,c.g=qu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new sn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Io[0]=j.toString()),j=Io);for(let G=0;G<j.length;G++){const ce=rt(v,j[G],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ci(),_f(c.i,c.v,c.B,c.l,c.S,c.u)}$n.prototype.ba=function(c){c=c.target;const y=this.O;y&&Wn(c)==3?y.j():this.Y(c)},$n.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=Wn(this.g),_t=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Gt(this.g)))){this.K||Ne!=4||_t==7||(_t==8||Ye<=0?ci(3):ci(2)),gi(this);var y=this.g.ca();this.X=y;var v=Ef(this);if(this.o=y==200,Ru(this.i,this.v,this.B,this.l,this.S,Ne,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var G=S;break t}}G=null}if(c=G)di(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,c);else{this.o=!1,this.m=3,wt(12),_n(this),Nn(this);break e}}if(this.R){c=!0;let ct;for(;!this.K&&this.C<v.length;)if(ct=Iu(this,v),ct==Ut){Ne==4&&(this.m=4,wt(14),c=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(ct==St){this.m=4,wt(15),di(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else di(this.i,this.l,ct,null),yi(this,ct);if(Nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||v.length!=0||this.h.h||(this.m=1,wt(16),c=!1),this.o=this.o&&c,!c)di(this.i,this.l,v,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(v.length>0&&!this.W){this.W=!0;var ce=this.j;ce.g==this&&ce.aa&&!ce.P&&(ce.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Qo(ce),ce.P=!0,wt(11))}}else di(this.i,this.l,v,null),yi(this,v);Ne==4&&_n(this),this.o&&!this.K&&(Ne==4?ju(this.j,this):(this.o=!1,pi(this)))}else Bi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),_n(this),Nn(this)}}}catch{}};function Ef(c){if(!Nu(c))return c.g.la();const y=Gt(c.g);if(y==="")return"";let v="";const S=y.length,j=Wn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Nn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,v+=c.h.i.decode(y[G],{stream:!(j&&G==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Nu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Iu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Ut:(v=Number(y.substring(v,S)),isNaN(v)?St:(S+=1,S+v>y.length?Ut:(y=y.slice(S,S+v),c.C=S+v,y)))}$n.prototype.cancel=function(){this.K=!0,_n(this)};function pi(c){c.T=Date.now()+c.H,fa(c,c.H)}function fa(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=fi(g(c.aa,c),y)}function gi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}$n.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ys(this.i,this.B),this.M!=2&&(ci(),wt(17)),_n(this),this.m=2,Nn(this)):fa(this,this.T-c)};function Nn(c){c.j.I==0||c.K||ju(c.j,c)}function _n(c){gi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Do(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function yi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||vi(v.h,c))){if(!c.L&&vi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ea(v),xr(v);else break e;Rs(v),wt(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(g(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ai(v,11)}else if((c.L||v.g==c)&&Ea(v),!N(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let Ye=j[y];const ct=Ye[0];if(!(ct<=v.K))if(v.K=ct,Ye=Ye[1],v.I==2)if(Ye[0]=="c"){v.M=Ye[1],v.ba=Ye[2];const Mn=Ye[3];Mn!=null&&(v.ka=Mn,v.j.info("VER="+v.ka));const xi=Ye[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const Jn=Ye[5];Jn!=null&&typeof Jn=="number"&&Jn>0&&(S=1.5*Jn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Zn=c.g;if(Zn){const Cs=Zn.g?Zn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cs){var G=S.h;G.g||Cs.indexOf("spdy")==-1&&Cs.indexOf("quic")==-1&&Cs.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Po(G,G.h),G.h=null))}if(S.G){const ba=Zn.g?Zn.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(S.wa=ba,Ke(S.J,S.G,ba))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var ce=c;if(S.na=Hu(S,S.L?S.ba:null,S.W),ce.L){Lo(S.h,ce);var Ne=ce,_t=S.O;_t&&(Ne.H=_t),Ne.D&&(gi(Ne),pi(Ne)),S.g=ce}else Lu(S);v.i.length>0&&Si(v)}else Ye[0]!="stop"&&Ye[0]!="close"||Ai(v,7);else v.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Ai(v,7):Yo(v):Ye[0]!="noop"&&v.l&&v.l.qa(Ye),v.A=0)}}ci(4)}catch{}}var At=class{constructor(c,y){this.g=c,this.map=y}};function ko(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _i(c){return c.h?1:c.g?c.g.size:0}function vi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Po(c,y){c.g?c.g.add(y):c.h=y}function Lo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ko.prototype.cancel=function(){if(this.i=Uo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Uo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return L(c.i)}var Du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let j,G=null;S>=0?(j=c[v].substring(0,S),G=c[v].substring(S+1)):j=c[v],y(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof vn?(this.l=c.l,jt(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,jo(this,Vu(c.i)),this.m=c.m):c&&(y=String(c).match(Du))?(this.l=!1,jt(this,y[1]||"",!0),this.o=Ei(y[2]||""),this.g=Ei(y[3]||"",!0),vr(this,y[4]),this.h=Ei(y[5]||"",!0),jo(this,y[6]||"",!0),this.m=Ei(y[7]||"")):(this.l=!1,this.i=new br(null,this.l))}vn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(bs(y,ma,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(bs(y,ma,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(bs(v,v.charAt(0)=="/"?zo:Mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",bs(v,Ou)),c.join("")},vn.prototype.resolve=function(c){const y=xt(this);let v=!!c.j;v?jt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)vr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=y.h.lastIndexOf("/");j!=-1&&(S=y.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let ce=0;ce<j.length;){const Ne=j[ce++];Ne=="."?S&&ce==j.length&&G.push(""):Ne==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&ce==j.length&&G.push("")):(G.push(Ne),S=!0)}S=G.join("/")}else S=j}return v?y.h=S:v=c.i.toString()!=="",v?jo(y,Vu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function xt(c){return new vn(c)}function jt(c,y,v){c.j=v?Ei(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function jo(c,y,v){y instanceof br?(c.i=y,ga(c.i,c.l)):(v||(y=bs(y,Er)),c.i=new br(y,c.l))}function Ke(c,y,v){c.i.set(y,v)}function Es(c){return Ke(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ei(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,un),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function un(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,Mu=/[#\?:]/g,zo=/[#\?]/g,Er=/[#\?@]/g,Ou=/#/g;function br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function cn(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=br.prototype,r.add=function(c,y){cn(this),this.i=null,c=Tr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ku(c,y){cn(c),y=Tr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bo(c,y){return cn(c),y=Tr(c,y),c.g.has(y)}r.forEach=function(c,y){cn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(y,j,S,this)},this)},this)};function Ho(c,y){cn(c);let v=[];if(typeof y=="string")Bo(c,y)&&(v=v.concat(c.g.get(Tr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return cn(this),this.i=null,c=Tr(this,c),Bo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Ho(this,c),c.length>0?String(c[0]):y):y};function pa(c,y,v){ku(c,y),v.length>0&&(c.i=null,c.g.set(Tr(c,y),L(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const j=ji(v);v=Ho(this,v);for(let G=0;G<v.length;G++){let ce=j;v[G]!==""&&(ce+="="+ji(v[G])),c.push(ce)}}return this.i=c.join("&")};function Vu(c){const y=new br;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Tr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function ga(c,y){y&&!c.j&&(cn(c),c.i=null,c.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&(ku(this,S),pa(this,j,v))},c)),c.j=y}function Kn(c,y){const v=new Yn;if(f.Image){const S=new Image;S.onload=E(In,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(In,v,"TestLoadImage: error",!1,y,S),S.onabort=E(In,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(In,v,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function qo(c,y){const v=new Yn,S=new AbortController,j=setTimeout(()=>{S.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(j),G.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function wr(){this.g=new Tu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}b(bi,wu),bi.prototype.g=function(){return new Ts(this.i,this.h)};function Ts(c,y){Tt.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Ts,Tt),r=Ts.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ya(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ya(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Sr(this):Xn(this),this.readyState==3&&ya(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},r.Na=function(c){this.g&&(this.response=c,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Dn(c){let y="";return Me(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function ws(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Dn(v),typeof c=="string"?v!=null&&ji(v):Ke(c,y,v))}function et(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(et,Tt);var Ti=/^https?$/i,Fo=["POST","PUT"];r=et.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Oo.g(),this.g.onreadystatechange=R(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ss(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Fo,y,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ce]of v)this.g.setRequestHeader(G,ce);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ss(this,G)}};function Ss(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Go(c),zi(c)}function Go(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,kt(this,"complete"),kt(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),et.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?As(this):this.Xa())},r.Xa=function(){As(this)};function As(c){if(c.h&&typeof u<"u"){if(c.v&&Wn(c)==4)setTimeout(c.Ca.bind(c),0);else if(kt(c,"readystatechange"),Wn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=G===0){let ce=String(c.D).match(Du)[1]||null;!ce&&f.self&&f.self.location&&(ce=f.self.location.protocol.slice(0,-1)),S=!Ti.test(ce?ce.toLowerCase():"")}v=S}if(v)kt(c,"complete"),kt(c,"success");else{c.o=6;try{var j=Wn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Go(c)}}finally{zi(c)}}}}function zi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||kt(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Wn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),yf(y)}};function Gt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const y={};c=(c.g&&Wn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var v=Cu(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=y[j]||[];y[j]=G,G.push(v)}ve(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function wi(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ar(c){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=wi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=wi("baseRetryDelayMs",5e3,c),this.Za=wi("retryDelaySeedMs",1e4,c),this.Ta=wi("forwardChannelMaxRetries",2,c),this.va=wi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ko(c&&c.concurrentRequestLimit),this.Ba=new wr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ar.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,S){wt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Hu(this,null,this.W),Si(this)};function Yo(c){if(_a(c),c.I==3){var y=c.V++,v=xt(c.J);if(Ke(v,"SID",c.M),Ke(v,"RID",y),Ke(v,"TYPE","terminate"),xs(c,v),y=new $n(c,c.j,y),y.M=2,y.A=Es(xt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=y.A,v=!0),v||(y.g=qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),pi(y)}Bu(c)}function xr(c){c.g&&(Qo(c),c.g.cancel(),c.g=null)}function _a(c){xr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Ea(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!Vo(c.h)&&!c.m){c.m=!0;var y=c.Ea;ne||A(),le||(ne(),le=!0),C.add(y,c),c.D=0}}function va(c,y){return _i(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=fi(g(c.Ea,c,y),zu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new $n(this,this.j,c);let G=this.o;if(this.U&&(G?(G=k(G),oe(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Pu(this,j,y),v=xt(this.J),Ke(v,"RID",c),Ke(v,"CVER",22),this.G&&Ke(v,"X-HTTP-Session-Id",this.G),xs(this,v),G&&(this.R?y="headers="+ji(Dn(G))+"&"+y:this.u&&ws(v,this.u,G)),Po(this.h,j),this.Ra&&Ke(v,"TYPE","init"),this.S?(Ke(v,"$req",y),Ke(v,"SID","null"),j.U=!0,mi(j,v,null)):mi(j,v,y),this.I=2}}else this.I==3&&(c?$o(this,c):this.i.length==0||Vo(this.h)||$o(this))};function $o(c,y){var v;y?v=y.l:v=c.V++;const S=xt(c.J);Ke(S,"SID",c.M),Ke(S,"RID",v),Ke(S,"AID",c.K),xs(c,S),c.u&&c.o&&ws(S,c.u,c.o),v=new $n(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Pu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Po(c.h,v),mi(v,S,y)}function xs(c,y){c.H&&Me(c.H,function(v,S){Ke(y,S,v)}),c.l&&Me({},function(v,S){Ke(y,S,v)})}function Pu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var j=c.i;let Ne=-1;for(;;){const _t=["count="+v];Ne==-1?v>0?(Ne=j[0].g,_t.push("ofs="+Ne)):Ne=0:_t.push("ofs="+Ne);let Ye=!0;for(let ct=0;ct<v;ct++){var G=j[ct].g;const Mn=j[ct].map;if(G-=Ne,G<0)Ne=Math.max(0,j[ct].g-100),Ye=!1;else try{G="req"+G+"_"||"";try{var ce=Mn instanceof Map?Mn:Object.entries(Mn);for(const[xi,Jn]of ce){let Zn=Jn;m(Jn)&&(Zn=_r(Jn)),_t.push(G+xi+"="+encodeURIComponent(Zn))}}catch(xi){throw _t.push(G+"type="+encodeURIComponent("_badmap")),xi}}catch{S&&S(Mn)}}if(Ye){ce=_t.join("&");break e}}ce=void 0}return c=c.i.splice(0,v),y.G=c,ce}function Lu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ne||A(),le||(ne(),le=!0),C.add(y,c),c.A=0}}function Rs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=fi(g(c.Da,c),zu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=fi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),xr(this),Uu(this))};function Qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Uu(c){c.g=new $n(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=xt(c.na);Ke(y,"RID","rpc"),Ke(y,"SID",c.M),Ke(y,"AID",c.K),Ke(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ke(y,"TO",c.ia),Ke(y,"TYPE","xmlhttp"),xs(c,y),c.u&&c.o&&ws(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Es(xt(y)),v.u=null,v.R=!0,ha(v,c)}r.Va=function(){this.C!=null&&(this.C=null,xr(this),Rs(this),wt(19))};function Ea(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function ju(c,y){var v=null;if(c.g==y){Ea(c),Qo(c),c.g=null;var S=2}else if(vi(c.h,y))v=y.G,Lo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;S=ca(),kt(S,new hi(S,v)),Si(c)}else Lu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(S==1&&va(c,y)||S==2&&Rs(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function zu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ai(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const j=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||jt(S,"https"),Es(S),j?Kn(S.toString(),v):qo(S.toString(),v)}else wt(2);c.I=0,c.l&&c.l.pa(y),Bu(c),_a(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Bu(c){if(c.I=0,c.ja=[],c.l){const y=Uo(c.h);(y.length!=0||c.i.length!=0)&&(Q(c.ja,y),Q(c.ja,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.oa()}}function Hu(c,y,v){var S=v instanceof vn?xt(v):new vn(v);if(S.g!="")y&&(S.g=y+"."+S.g),vr(S,S.u);else{var j=f.location;S=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const G=new vn(null);S&&jt(G,S),y&&(G.g=y),j&&vr(G,j),v&&(G.h=v),S=G}return v=c.G,y=c.wa,v&&y&&Ke(S,v,y),Ke(S,"VER",c.ka),xs(c,S),S}function qu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new et(new bi({ab:v})):new et(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fu(){}r=Fu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rr(){}Rr.prototype.g=function(c,y){return new an(c,y)};function an(c,y){Tt.call(this),this.g=new Ar(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hi(this)}b(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Yo(this.g)},an.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=_r(c),c=v);y.i.push(new At(y.Ya++,c)),y.I==3&&Si(y)},an.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,an.Z.N.call(this)};function Gu(c){Ft.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Gu,Ft);function Yu(){Cn.call(this),this.status=1}b(Yu,Cn);function Hi(c){this.g=c}b(Hi,Fu),Hi.prototype.ra=function(){kt(this.g,"a")},Hi.prototype.qa=function(c){kt(this.g,new Gu(c))},Hi.prototype.pa=function(c){kt(this.g,new Yu)},Hi.prototype.oa=function(){kt(this.g,"b")},Rr.prototype.createWebChannel=Rr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,ib=function(){return new Rr},nb=function(){return ca()},tb=yt,Wm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,fh=_s,Mo.COMPLETE="complete",eb=Mo,Su.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,zl=Su,et.prototype.listenOnce=et.prototype.K,et.prototype.getLastError=et.prototype.Ha,et.prototype.getLastErrorCode=et.prototype.ya,et.prototype.getStatus=et.prototype.ca,et.prototype.getResponseJson=et.prototype.La,et.prototype.getResponseText=et.prototype.la,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Fa,ZE=et}).apply(typeof th<"u"?th:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let wo="12.9.0";function AD(r){wo=r}const ea=new Tp("@firebase/firestore");function Za(){return ea.logLevel}function fe(r,...e){if(ea.logLevel<=Ue.DEBUG){const n=e.map(Vp);ea.debug(`Firestore (${wo}): ${r}`,...n)}}function fr(r,...e){if(ea.logLevel<=Ue.ERROR){const n=e.map(Vp);ea.error(`Firestore (${wo}): ${r}`,...n)}}function ta(r,...e){if(ea.logLevel<=Ue.WARN){const n=e.map(Vp);ea.warn(`Firestore (${wo}): ${r}`,...n)}}function Vp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,rb(r,s,n)}function rb(r,e,n){let s=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Qe(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||rb(e,o,s)}function Ce(r,e){return r}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ks{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class sb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class RD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class CD{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ks,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ks)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string",31837,{l:s}),new sb(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class ND{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ID{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new ND(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ii(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Iv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Qe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Iv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function MD(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=MD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function Jm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Om(o)===Om(u)?je(o,u):Om(o)?1:-1}return je(r.length,e.length)}const OD=55296,kD=57343;function Om(r){const e=r.charCodeAt(0);return e>=OD&&e<=kD}function mo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}const Dv="__name__";class Di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return je(e.length,n.length)}static compareSegments(e,n){const s=Di.isNumericId(e),o=Di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(n)):Jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class ft extends Di{construct(e,n,s){return new ft(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new ft(n)}static emptyPath(){return new ft([])}}const VD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Di{construct(e,n,s){return new Wt(e,n,s)}static isValidIdentifier(e){return VD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new Wt([Dv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(ft.fromString(e))}static fromName(e){return new Ee(ft.fromString(e).popFirst(5))}static empty(){return new Ee(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new ft(e.slice()))}}function PD(r,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LD(r,e,n,s){if(e===!0&&s===!0)throw new ye(se.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Mv(r){if(!Ee.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ab(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function oo(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Lp(r);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Mt(r,e){const n={typeString:r};return e&&(n.value=e),n}function gu(r,e){if(!ab(r))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ye(se.INVALID_ARGUMENT,n);return!0}const Ov=-62135596800,kv=1e6;class lt{static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*kv);return new lt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ov)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kv}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:lt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,lt._jsonSchema))return new lt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}lt._jsonSchemaVersion="firestore/timestamp/1.0",lt._jsonSchema={type:Mt("string",lt._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new lt(0,0))}static max(){return new xe(new lt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Zl=-1;function UD(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new lt(n+1,0):new lt(n,s));return new os(o,Ee.empty(),e)}function jD(r){return new os(r.readTime,r.key,Zl)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(xe.min(),Ee.empty(),Zl)}static max(){return new os(xe.max(),Ee.empty(),Zl)}}function zD(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}const BD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function So(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==BD)throw r;fe("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{f[g]=E,++m,m===u&&s(f)}),(E=>o(E)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function qD(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(r){return r.name==="IndexedDbTransactionError"}class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nf.ce=-1;const Up=-1;function rf(r){return r==null}function Mh(r){return r===0&&1/r==-1/0}function FD(r){return typeof r=="number"&&Number.isInteger(r)&&!Mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const ob="";function GD(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Vv(e)),e=YD(r.get(n),e);return Vv(e)}function YD(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ob:n+="";break;default:n+=u}}return n}function Vv(r){return r+ob+""}function Pv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ra(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function lb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class mt{constructor(e,n){this.comparator=e,this.root=n||Xt.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nh(this.root,e,this.comparator,!1)}getReverseIterator(){return new nh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nh(this.root,e,this.comparator,!0)}}class nh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Xt.RED,this.left=o??Xt.EMPTY,this.right=u??Xt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Xt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Xt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Xt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Xt.EMPTY=null,Xt.RED=!0,Xt.BLACK=!1;Xt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Xt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Lt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Lt(this.comparator);return n.data=e,n}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class si{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new si([])}unionWith(e){let n=new Lt(Wt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ub("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const $D=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(r){if(Qe(!!r,39018),typeof r=="string"){let e=0;const n=$D.exec(r);if(Qe(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(r.seconds),nanos:bt(r.nanos)}}function bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function us(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}const cb="server_timestamp",hb="__type__",fb="__previous_value__",db="__local_write_time__";function jp(r){return(r?.mapValue?.fields||{})[hb]?.stringValue===cb}function sf(r){const e=r.mapValue.fields[fb];return jp(e)?sf(e):e}function eu(r){const e=ls(r.mapValue.fields[db].timestampValue);return new lt(e.seconds,e.nanos)}class QD{constructor(e,n,s,o,u,f,m,p,g,E,b){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=b}}const Oh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||Oh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===Oh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}function KD(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(r.options.projectId,e)}const mb="__type__",XD="__max__",ih={mapValue:{}},pb="__vector__",kh="value";function cs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?jp(r)?4:JD(r)?9007199254740991:WD(r)?10:11:Te(28295,{value:r})}function Li(r,e){if(r===e)return!0;const n=cs(r);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ls(o.timestampValue),m=ls(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=bt(o.doubleValue),m=bt(u.doubleValue);return f===m?Mh(f)===Mh(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],Li);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Pv(f)!==Pv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Li(f[p],m[p])))return!1;return!0})(r,e);default:return Te(52216,{left:r})}}function nu(r,e){return(r.values||[]).find((n=>Li(n,e)))!==void 0}function po(r,e){if(r===e)return 0;const n=cs(r),s=cs(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=bt(u.integerValue||u.doubleValue),p=bt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return Uv(r.timestampValue,e.timestampValue);case 4:return Uv(eu(r),eu(e));case 5:return Jm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=us(u),p=us(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=je(m[g],p[g]);if(E!==0)return E}return je(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=je(bt(u.latitude),bt(f.latitude));return m!==0?m:je(bt(u.longitude),bt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return jv(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[kh]?.arrayValue,E=p[kh]?.arrayValue,b=je(g?.values?.length||0,E?.values?.length||0);return b!==0?b:jv(g,E)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===ih.mapValue&&f===ih.mapValue)return 0;if(u===ih.mapValue)return 1;if(f===ih.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const R=Jm(p[b],E[b]);if(R!==0)return R;const L=po(m[p[b]],g[E[b]]);if(L!==0)return L}return je(p.length,E.length)})(r.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Uv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=ls(r),s=ls(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function jv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function go(r){return Zm(r)}function Zm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return us(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ee.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Zm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Zm(n.fields[f])}`;return o+"}"})(r.mapValue):Te(61005,{value:r})}function dh(r){switch(cs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(r);return e?16+dh(e):16;case 5:return 2*r.stringValue.length;case 6:return us(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ra(s.fields,((u,f)=>{o+=u.length+dh(f)})),o})(r.mapValue);default:throw Te(13486,{value:r})}}function ep(r){return!!r&&"integerValue"in r}function zp(r){return!!r&&"arrayValue"in r}function zv(r){return!!r&&"nullValue"in r}function Bv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mh(r){return!!r&&"mapValue"in r}function WD(r){return(r?.mapValue?.fields||{})[mb]?.stringValue===pb}function Yl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ra(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Yl(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return{...r}}function JD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XD}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Wt.emptyPath(),s={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Li(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];mh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ra(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Bn(Yl(this.value))}}function gb(r){const e=[];return ra(r.fields,((n,s)=>{const o=new Wt([n]);if(mh(s)){const u=gb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new si(e)}class nn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,xe.min(),xe.min(),xe.min(),Bn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,xe.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,xe.min(),xe.min(),Bn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,xe.min(),xe.min(),Bn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vh{constructor(e,n){this.position=e,this.inclusive=n}}function Hv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function qv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Li(r.position[n],e.position[n]))return!1;return!0}class Ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function ZD(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class yb{}class Pt extends yb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tM(e,n,s):n==="array-contains"?new rM(e,s):n==="in"?new sM(e,s):n==="not-in"?new aM(e,s):n==="array-contains-any"?new oM(e,s):new Pt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nM(e,s):new iM(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(po(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ui extends yb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Ui(e,n)}matches(e){return _b(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _b(r){return r.op==="and"}function vb(r){return eM(r)&&_b(r)}function eM(r){for(const e of r.filters)if(e instanceof Ui)return!1;return!0}function tp(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+go(r.value);if(vb(r))return r.filters.map((e=>tp(e))).join(",");{const e=r.filters.map((n=>tp(n))).join(",");return`${r.op}(${e})`}}function Eb(r,e){return r instanceof Pt?(function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&Li(s.value,o.value)})(r,e):r instanceof Ui?(function(s,o){return o instanceof Ui&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,m)=>u&&Eb(f,o.filters[m])),!0):!1})(r,e):void Te(19439)}function bb(r){return r instanceof Pt?(function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`})(r):r instanceof Ui?(function(n){return n.op.toString()+" {"+n.getFilters().map(bb).join(" ,")+"}"})(r):"Filter"}class tM extends Pt{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class nM extends Pt{constructor(e,n){super(e,"in",n),this.keys=Tb("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iM extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=Tb("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Tb(r,e){return(e.arrayValue?.values||[]).map((n=>Ee.fromName(n.referenceValue)))}class rM extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zp(n)&&nu(n.arrayValue,this.value)}}class sM extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class aM extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nu(this.value.arrayValue,n)}}class oM extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>nu(this.value.arrayValue,s)))}}class lM{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Fv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new lM(r,e,n,s,o,u,f)}function Bp(r){const e=Ce(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>tp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>go(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>go(s))).join(",")),e.Te=n}return e.Te}function Hp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ZD(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Eb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!qv(r.startAt,e.startAt)&&qv(r.endAt,e.endAt)}function np(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class af{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function uM(r,e,n,s,o,u,f,m){return new af(r,e,n,s,o,u,f,m)}function qp(r){return new af(r)}function Gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cM(r){return Ee.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function hM(r){return r.collectionGroup!==null}function $l(r){const e=Ce(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Lt(Wt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ph(u,s))})),n.has(Wt.keyField().canonicalString())||e.Ie.push(new Ph(Wt.keyField(),s))}return e.Ie}function Oi(r){const e=Ce(r);return e.Ee||(e.Ee=fM(e,$l(r))),e.Ee}function fM(r,e){if(r.limitType==="F")return Fv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)}));const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return Fv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ip(r,e,n){return new af(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function of(r,e){return Hp(Oi(r),Oi(e))&&r.limitType===e.limitType}function wb(r){return`${Bp(Oi(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>bb(o))).join(", ")}]`),rf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>go(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>go(o))).join(",")),`Target(${s})`})(Oi(r))}; limitType=${r.limitType})`}function lf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,m,p){const g=Hv(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,$l(s),o)||s.endAt&&!(function(f,m,p){const g=Hv(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,$l(s),o))})(r,e)}function dM(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Sb(r){return(e,n)=>{let s=!1;for(const o of $l(r)){const u=mM(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function mM(r,e,n){const s=r.field.isKeyField()?Ee.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?po(p,g):Te(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}class sa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ra(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return lb(this.inner)}size(){return this.innerSize}}const pM=new mt(Ee.comparator);function dr(){return pM}const Ab=new mt(Ee.comparator);function Bl(...r){let e=Ab;for(const n of r)e=e.insert(n.key,n);return e}function xb(r){let e=Ab;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $s(){return Ql()}function Rb(){return Ql()}function Ql(){return new sa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gM=new mt(Ee.comparator),yM=new Lt(Ee.comparator);function ze(...r){let e=yM;for(const n of r)e=e.add(n);return e}const _M=new Lt(je);function vM(){return _M}function Fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function Cb(r){return{integerValue:""+r}}function EM(r,e){return FD(e)?Cb(e):Fp(r,e)}class uf{constructor(){this._=void 0}}function bM(r,e,n){return r instanceof Lh?(function(o,u){const f={fields:{[hb]:{stringValue:cb},[db]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&jp(u)&&(u=sf(u)),u&&(f.fields[fb]=u),{mapValue:f}})(n,e):r instanceof iu?Ib(r,e):r instanceof ru?Db(r,e):(function(o,u){const f=Nb(o,u),m=Yv(f)+Yv(o.Ae);return ep(f)&&ep(o.Ae)?Cb(m):Fp(o.serializer,m)})(r,e)}function TM(r,e,n){return r instanceof iu?Ib(r,e):r instanceof ru?Db(r,e):n}function Nb(r,e){return r instanceof Uh?(function(s){return ep(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Lh extends uf{}class iu extends uf{constructor(e){super(),this.elements=e}}function Ib(r,e){const n=Mb(e);for(const s of r.elements)n.some((o=>Li(o,s)))||n.push(s);return{arrayValue:{values:n}}}class ru extends uf{constructor(e){super(),this.elements=e}}function Db(r,e){let n=Mb(e);for(const s of r.elements)n=n.filter((o=>!Li(o,s)));return{arrayValue:{values:n}}}class Uh extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Yv(r){return bt(r.integerValue||r.doubleValue)}function Mb(r){return zp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function wM(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof iu&&o instanceof iu||s instanceof ru&&o instanceof ru?mo(s.elements,o.elements,Li):s instanceof Uh&&o instanceof Uh?Li(s.Ae,o.Ae):s instanceof Lh&&o instanceof Lh})(r.transform,e.transform)}class SM{constructor(e,n){this.version=e,this.transformResults=n}}class lr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new lr}static exists(e){return new lr(void 0,e)}static updateTime(e){return new lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class cf{}function Ob(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Vb(r.key,lr.none()):new yu(r.key,r.data,lr.none());{const n=r.data,s=Bn.empty();let o=new Lt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new aa(r.key,s,new si(o.toArray()),lr.none())}}function AM(r,e,n){r instanceof yu?(function(o,u,f){const m=o.value.clone(),p=Qv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof aa?(function(o,u,f){if(!ph(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Qv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(kb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Kl(r,e,n,s){return r instanceof yu?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=u.value.clone(),E=Kv(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof aa?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=Kv(u.fieldTransforms,p,f),E=f.data;return E.setAll(kb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function xM(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Nb(s.transform,o||null);u!=null&&(n===null&&(n=Bn.empty()),n.set(s.field,u))}return n||null}function $v(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,((u,f)=>wM(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yu extends cf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class aa extends cf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function kb(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function Qv(r,e,n){const s=new Map;Qe(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,TM(f,m,n[o]))}return s}function Kv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,bM(u,f,e))}return s}class Vb extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RM extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class CM{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&AM(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Kl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Rb();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=Ob(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(xe.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,((n,s)=>$v(n,s)))&&mo(this.baseMutations,e.baseMutations,((n,s)=>$v(n,s)))}}class Gp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return gM})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Gp(e,n,s,o)}}class NM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class IM{constructor(e,n){this.count=e,this.unchangedNames=n}}var Dt,qe;function DM(r){switch(r){case se.OK:return Te(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function Pb(r){if(r===void 0)return fr("GRPC error has no .code"),se.UNKNOWN;switch(r){case Dt.OK:return se.OK;case Dt.CANCELLED:return se.CANCELLED;case Dt.UNKNOWN:return se.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return se.INTERNAL;case Dt.UNAVAILABLE:return se.UNAVAILABLE;case Dt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Dt.NOT_FOUND:return se.NOT_FOUND;case Dt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Dt.ABORTED:return se.ABORTED;case Dt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Dt.DATA_LOSS:return se.DATA_LOSS;default:return Te(39323,{code:r})}}(qe=Dt||(Dt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";function MM(){return new TextEncoder}const OM=new ss([4294967295,4294967295],0);function Xv(r){const e=MM().encode(r),n=new JE;return n.update(e),new Uint8Array(n.digest())}function Wv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(OM)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Xv(e),[s,o]=Wv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Yp(u,o,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Xv(e),[s,o]=Wv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.be(f)}}be(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class hf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new hf(xe.min(),o,new mt(je),dr(),ze())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,ze(),ze(),ze())}}class gh{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Lb{constructor(e,n){this.targetId=e,this.Ce=n}}class Ub{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Jv{constructor(){this.ve=0,this.Fe=Zv(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}})),new _u(this.Me,this.xe,e,n,s)}Ke(){this.Oe=!1,this.Fe=Zv()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Qe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class kM{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.He=rh(),this.Je=rh(),this.Ze=new mt(je)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(np(u))if(s===0){const f=new Ee(u.path);this.et(n,f,nn.newNoDocument(f,xe.min()))}else Qe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=us(s).toUint8Array()}catch(p){if(p instanceof ub)return ta("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Yp(f,o,u)}catch(p){return ta(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&np(m.target)){const p=new Ee(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,nn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.Ke())}}));let s=ze();this.Je.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new hf(e,n,this.Ze,this.je,s);return this.je=dr(),this.He=rh(),this.Je=rh(),this.Ze=new mt(je),o}Ye(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Jv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Lt(je),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Lt(je),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Jv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function rh(){return new mt(Ee.comparator)}function Zv(){return new mt(Ee.comparator)}const VM={asc:"ASCENDING",desc:"DESCENDING"},PM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LM={and:"AND",or:"OR"};class UM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rp(r,e){return r.useProto3Json||rf(e)?e:{value:e}}function jh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jb(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function jM(r,e){return jh(r,e.toTimestamp())}function ki(r){return Qe(!!r,49232),xe.fromTimestamp((function(n){const s=ls(n);return new lt(s.seconds,s.nanos)})(r))}function $p(r,e){return sp(r,e).canonicalString()}function sp(r,e){const n=(function(o){return new ft(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function zb(r){const e=ft.fromString(r);return Qe(Gb(e),10190,{key:e.toString()}),e}function ap(r,e){return $p(r.databaseId,e.path)}function km(r,e){const n=zb(e);if(n.get(1)!==r.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ee(Hb(n))}function Bb(r,e){return $p(r.databaseId,e)}function zM(r){const e=zb(r);return e.length===4?ft.emptyPath():Hb(e)}function op(r){return new ft(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Hb(r){return Qe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function e1(r,e,n){return{name:ap(r,e),fields:n.value.mapValue.fields}}function BM(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Qe(E===void 0||typeof E=="string",58123),Jt.fromBase64String(E||"")):(Qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Jt.fromUint8Array(E||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const E=g.code===void 0?se.UNKNOWN:Pb(g.code);return new ye(E,g.message||"")})(f);n=new Ub(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=km(r,s.document.name),u=ki(s.document.updateTime),f=s.document.createTime?ki(s.document.createTime):xe.min(),m=new Bn({mapValue:{fields:s.document.fields}}),p=nn.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new gh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=km(r,s.document),u=s.readTime?ki(s.readTime):xe.min(),f=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=km(r,s.document),u=s.removedTargetIds||[];n=new gh([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new IM(o,u),m=s.targetId;n=new Lb(m,f)}}return n}function HM(r,e){let n;if(e instanceof yu)n={update:e1(r,e.key,e.value)};else if(e instanceof Vb)n={delete:ap(r,e.key)};else if(e instanceof aa)n={update:e1(r,e.key,e.data),updateMask:WM(e.fieldMask)};else{if(!(e instanceof RM))return Te(16599,{dt:e.type});n={verify:ap(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof Lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:jM(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)})(r,e.precondition)),n}function qM(r,e){return r&&r.length>0?(Qe(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ki(o.updateTime):ki(u);return f.isEqual(xe.min())&&(f=ki(u)),new SM(f,o.transformResults||[])})(n,e)))):[]}function FM(r,e){return{documents:[Bb(r,e.path)]}}function GM(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Bb(r,o);const u=(function(g){if(g.length!==0)return Fb(Ui.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((E=>(function(R){return{field:to(R.field),direction:QM(R.dir)}})(E)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=rp(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function YM(r){let e=zM(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(b){const R=qb(b);return R instanceof Ui&&vb(R)?R.getFilters():[R]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((R=>(function(Q){return new Ph(no(Q.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(R)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let R;return R=typeof b=="object"?b.value:b,rf(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(b){const R=!!b.before,L=b.values||[];return new Vh(L,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const R=!b.before,L=b.values||[];return new Vh(L,R)})(n.endAt)),uM(e,o,f,u,m,"F",p,g)}function $M(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qb(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return Pt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Pt.create(no(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Ui.create(n.compositeFilter.filters.map((s=>qb(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(r):Te(30097,{filter:r})}function QM(r){return VM[r]}function KM(r){return PM[r]}function XM(r){return LM[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Wt.fromServerFormat(r.fieldPath)}function Fb(r){return r instanceof Pt?(function(n){if(n.op==="=="){if(Bv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(zv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(zv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:KM(n.op),value:n.value}}})(r):r instanceof Ui?(function(n){const s=n.getFilters().map((o=>Fb(o)));return s.length===1?s[0]:{compositeFilter:{op:XM(n.op),filters:s}}})(r):Te(54877,{filter:r})}function WM(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function Gb(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Yb(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class ts{constructor(e,n,s,o,u=xe.min(),f=xe.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class JM{constructor(e){this.yt=e}}function ZM(r){const e=YM({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ip(e,e.limit,"L"):e}class e4{constructor(){this.Sn=new t4}addToCollectionParentIndex(e,n){return this.Sn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(os.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class t4{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Lt(ft.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Lt(ft.comparator)).toArray()}}const t1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$b=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn($b,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class yo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new yo(0)}static ar(){return new yo(-1)}}const n1="LruGarbageCollector",n4=1048576;function i1([r,e],[n,s]){const o=je(r,n);return o===0?je(e,s):o}class i4{constructor(e){this.Pr=e,this.buffer=new Lt(i1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();i1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class r4{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){fe(n1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?fe(n1,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Ar(3e5)}))}}class s4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(nf.ce);const s=new i4(n);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(t1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),Za()<=Ue.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b}))))}}function a4(r,e){return new s4(r,e)}class o4{constructor(){this.changes=new sa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class l4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class u4{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&Kl(s.mutation,o,si.empty(),lt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=$s();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=Bl();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,o){let u=dr();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof aa)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Kl(E.mutation,g,E.mutation.getFieldMask(),lt.now())):f.set(g.key,si.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>f.set(g,E))),n.forEach(((g,E)=>m.set(g,new l4(E,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new mt(((f,m)=>f-m)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||si.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||ze()).add(p);o=o.insert(m.batchId,b)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=Rb();E.forEach((R=>{if(!u.has(R)){const L=Ob(n.get(R),s.get(R));L!==null&&b.set(R,L),u=u.add(R)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return cM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve($s());let m=Zl,p=u;return f.next((g=>ie.forEach(g,((E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?ie.resolve():this.remoteDocumentCache.getEntry(e,E).next((R=>{p=p.insert(E,R)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,ze()))).next((E=>({batchId:m,changes:xb(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next((s=>{let o=Bl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const g=(function(b,R){return new af(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next((E=>{E.forEach(((b,R)=>{f=f.insert(b,R)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,nn.newInvalidDocument(E)))}));let m=Bl();return f.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Kl(E.mutation,g,si.empty(),lt.now()),lf(n,g)&&(m=m.insert(p,g))})),m}))}}class c4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return ie.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:ZM(o.bundledQuery),readTime:ki(o.readTime)}})(n)),ie.resolve()}}class h4{constructor(){this.overlays=new mt(Ee.comparator),this.Lr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.bt(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Lr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new mt(((g,E)=>g-E));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=$s(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return ie.resolve(m)}bt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(s.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new NM(n,s));let u=this.Lr.get(n);u===void 0&&(u=ze(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}class f4{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}class Qp{constructor(){this.kr=new Lt(Bt.Kr),this.qr=new Lt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((s=>this.removeReference(s,n)))}Gr(e){const n=new Ee(new ft([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.qr.forEachInRange([s,o],(f=>{this.Wr(f),u.push(f.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Ee(new ft([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=ze();return this.qr.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Ee.comparator(e.key,n.key)||je(e.Hr,n.Hr)}static Ur(e,n){return je(e.Hr,n.Hr)||Ee.comparator(e.key,n.key)}}class d4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Lt(Bt.Kr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new CM(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Up:this.Yn-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,o],(f=>{const m=this.Zr(f.Hr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Lt(je);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,f],(m=>{s=s.add(m.Hr)}))})),ie.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new Ee(u),0);let m=new Lt(je);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),f),ie.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Qe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ie.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Jr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class m4{constructor(e){this.ti=e,this.docs=(function(){return new mt(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=dr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||zD(jD(E),s)<=0||(o.has(E.key)||lf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}ni(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new p4(this)}getSize(e){return ie.resolve(this.size)}}class p4 extends o4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class g4{constructor(e){this.persistence=e,this.ri=new sa((n=>Bp(n)),Hp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.ii=0,this.si=new Qp,this.targetCount=0,this.oi=yo._r()}forEachTarget(e,n){return this.ri.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),ie.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.lr(n),ie.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ri.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.ri.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.si.$r(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.si.Qr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.si.jr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.si.containsKey(n))}}class Qb{constructor(e,n){this._i={},this.overlays={},this.ai=new nf(0),this.ui=!1,this.ui=!0,this.ci=new f4,this.referenceDelegate=e(this),this.li=new g4(this),this.indexManager=new e4,this.remoteDocumentCache=(function(o){return new m4(o)})((s=>this.referenceDelegate.hi(s))),this.serializer=new JM(n),this.Pi=new c4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new h4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this._i[e.toKey()];return s||(s=new d4(n,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new y4(this.ai.next());return this.referenceDelegate.Ti(),s(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return ie.or(Object.values(this._i).map((s=>()=>s.containsKey(e,n))))}}class y4 extends HD{constructor(e){super(),this.currentSequenceNumber=e}}class Kp{constructor(e){this.persistence=e,this.Ri=new Qp,this.Ai=null}static Vi(e){return new Kp(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.di,(s=>{const o=Ee.fromPath(s);return this.mi(e,o).next((u=>{u||n.removeEntry(o,xe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.fi=new sa((s=>GD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=a4(this,n)}static Vi(e,n){return new zh(e,n)}Ti(){}Ii(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}pr(e){let n=0;return this.mr(e,(s=>{n++})).next((()=>n))}mr(e,n){return ie.forEach(this.fi,((s,o)=>this.wr(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(s++,u.removeEntry(f,xe.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.fi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),ie.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}wr(e,n,s){return ie.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Xp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Ts=s,this.Is=o}static Es(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xp(e,n.fromCache,s,o)}}class _4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class v4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return rC()?8:qD(rn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.gs(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ps(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new _4;return this.ys(e,n,f).next((m=>{if(u.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>u.result))}ws(e,n,s,o){return s.documentReadCount<this.Vs?(Za()<=Ue.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ie.resolve()):(Za()<=Ue.DEBUG&&fe("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ds*o?(Za()<=Ue.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Oi(n))):ie.resolve())}gs(e,n){if(Gv(n))return ie.resolve(null);let s=Oi(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ip(n,null,"F"),s=Oi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ze(...u);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,f,p.readTime)?this.gs(e,ip(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,s,o){return Gv(n)||o.isEqual(xe.min())?ie.resolve(null):this.fs.getDocuments(e,s).next((u=>{const f=this.bs(n,u);return this.Ss(n,f,s,o)?ie.resolve(null):(Za()<=Ue.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.Ds(e,f,n,UD(o,Zl)).next((m=>m)))}))}bs(e,n){let s=new Lt(Sb(e));return n.forEach(((o,u)=>{lf(e,u)&&(s=s.add(u))})),s}Ss(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,s){return Za()<=Ue.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",eo(n)),this.fs.getDocumentsMatchingQuery(e,n,os.min(),s)}Ds(e,n,s,o){return this.fs.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const Wp="LocalStore",E4=3e8;class b4{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new mt(je),this.Fs=new sa((u=>Bp(u)),Hp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function T4(r,e,n,s){return new b4(r,e,n,s)}async function Kb(r,e){const n=Ce(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=ze();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ns:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function w4(r,e){const n=Ce(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const b=g.batch,R=b.keys();let L=ie.resolve();return R.forEach((Q=>{L=L.next((()=>E.getEntry(p,Q))).next((K=>{const P=g.docVersions.get(Q);Qe(P!==null,48541),K.version.compareTo(P)<0&&(b.applyToRemoteDocument(K,g),K.isValidDocument()&&(K.setReadTime(g.commitVersion),E.addEntry(K)))}))})),L.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=ze();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Xb(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function S4(r,e){const n=Ce(r),s=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,b)=>{const R=o.get(b);if(!R)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,b).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,b))));let L=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?L=L.withResumeToken(Jt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):E.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(E.resumeToken,s)),o=o.insert(b,L),(function(K,P,X){return K.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=E4?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0})(R,L,E)&&m.push(n.li.updateTargetData(u,L))}));let p=dr(),g=ze();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(A4(u,f,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!s.isEqual(xe.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((b=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return ie.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function A4(r,e,n){let s=ze(),o=ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=dr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):fe(Wp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:f,Ls:o}}))}function x4(r,e){const n=Ce(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function R4(r,e){const n=Ce(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.li.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.li.allocateTargetId(s).next((f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.vs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(e,s.targetId)),s}))}async function lp(r,e,n){const s=Ce(r),o=s.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ao(f))throw f;fe(Wp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.vs=s.vs.remove(e),s.Fs.delete(o.target)}function r1(r,e,n){const s=Ce(r);let o=xe.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,E){const b=Ce(p),R=b.Fs.get(E);return R!==void 0?ie.resolve(b.vs.get(R)):b.li.getTargetData(g,E)})(s,f,Oi(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?u:ze()))).next((m=>(C4(s,dM(e),m),{documents:m,ks:u})))))}function C4(r,e,n){let s=r.Ms.get(e)||xe.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(e,s)}class s1{constructor(){this.activeTargetIds=vM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class N4{constructor(){this.vo=new s1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,s){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new s1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class I4{Mo(e){}shutdown(){}}const a1="ConnectivityMonitor";class o1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){fe(a1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){fe(a1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let sh=null;function up(){return sh===null?sh=(function(){return 268435456+Math.round(2147483648*Math.random())})():sh++,"0x"+sh.toString(16)}const Vm="RestConnection",D4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class M4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.$o=this.databaseId.database===Oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const f=up(),m=this.Qo(e,n.toUriEncodedString());fe(Vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=Eo(g);return this.zo(e,m,p,s,E).then((b=>(fe(Vm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw ta(Vm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}jo(e,n,s,o,u,f){return this.Wo(e,n,s,o,u)}Go(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+wo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const s=D4[e];let o=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class O4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const en="WebChannelConnection",Ul=(r,e,n)=>{r.listen(e,(s=>{try{n(s)}catch(o){setTimeout((()=>{throw o}),0)}}))};class lo extends M4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!lo.c_){const e=nb();Ul(e,tb.STAT_EVENT,(n=>{n.stat===Wm.PROXY?fe(en,"STAT_EVENT: detected buffering proxy"):n.stat===Wm.NOPROXY&&fe(en,"STAT_EVENT: detected no buffering proxy")})),lo.c_=!0}}zo(e,n,s,o,u){const f=up();return new Promise(((m,p)=>{const g=new ZE;g.setWithCredentials(!0),g.listenOnce(eb.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const b=g.getResponseJson();fe(en,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case fh.TIMEOUT:fe(en,`RPC '${e}' ${f} timed out`),p(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const R=g.getStatus();if(fe(en,`RPC '${e}' ${f} failed with status:`,R,"response text:",g.getResponseText()),R>0){let L=g.getResponseJson();Array.isArray(L)&&(L=L[0]);const Q=L?.error;if(Q&&Q.status&&Q.message){const K=(function(X){const Y=X.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Y)>=0?Y:se.UNKNOWN})(Q.status);p(new ye(K,Q.message))}else p(new ye(se.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(en,`RPC '${e}' ${f} completed.`)}}));const E=JSON.stringify(o);fe(en,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(e,n,s){const o=up(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,s),m.encodeInitMessageHeaders=!0;const g=u.join("");fe(en,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=f.createWebChannel(g,m);this.I_(E);let b=!1,R=!1;const L=new O4({Ho:Q=>{R?fe(en,`Not sending because RPC '${e}' stream ${o} is closed:`,Q):(b||(fe(en,`Opening RPC '${e}' stream ${o} transport.`),E.open(),b=!0),fe(en,`RPC '${e}' stream ${o} sending:`,Q),E.send(Q))},Jo:()=>E.close()});return Ul(E,zl.EventType.OPEN,(()=>{R||(fe(en,`RPC '${e}' stream ${o} transport opened.`),L.i_())})),Ul(E,zl.EventType.CLOSE,(()=>{R||(R=!0,fe(en,`RPC '${e}' stream ${o} transport closed`),L.o_(),this.E_(E))})),Ul(E,zl.EventType.ERROR,(Q=>{R||(R=!0,ta(en,`RPC '${e}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),L.o_(new ye(se.UNAVAILABLE,"The operation could not be completed")))})),Ul(E,zl.EventType.MESSAGE,(Q=>{if(!R){const K=Q.data[0];Qe(!!K,16349);const P=K,X=P?.error||P[0]?.error;if(X){fe(en,`RPC '${e}' stream ${o} received error:`,X);const Y=X.status;let re=(function(le){const C=Dt[le];if(C!==void 0)return Pb(C)})(Y),ue=X.message;Y==="NOT_FOUND"&&ue.includes("database")&&ue.includes("does not exist")&&ue.includes(this.databaseId.database)&&ta(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),re===void 0&&(re=se.INTERNAL,ue="Unknown error status: "+Y+" with message "+X.message),R=!0,L.o_(new ye(re,ue)),E.close()}else fe(en,`RPC '${e}' stream ${o} received:`,K),L.__(K)}})),lo.u_(),setTimeout((()=>{L.s_()}),0),L}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,s){super.Go(e,n,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return ib()}}function k4(r){return new lo(r)}function Pm(){return typeof document<"u"?document:null}function ff(r){return new UM(r,!0)}lo.c_=!1;class Wb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=s,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const l1="PersistentStream";class Jb{constructor(e,n,s,o,u,f,m,p){this.Ci=e,this.b_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Wb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ye(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(l1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(fe(l1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class V4 extends Jb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=BM(this.serializer,e),s=(function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?ki(f.readTime):xe.min()})(e);return this.listener.J_(n,s)}Z_(e){const n={};n.database=op(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=np(p)?{documents:FM(u,p)}:{query:GM(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=jb(u,f.resumeToken);const g=rp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(xe.min())>0){m.readTime=jh(u,f.snapshotVersion.toTimestamp());const g=rp(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=$M(this.serializer,e);s&&(n.labels=s),this.K_(n)}X_(e){const n={};n.database=op(this.serializer),n.removeTarget=e,this.K_(n)}}class P4 extends Jb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=qM(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=op(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>HM(this.serializer,s)))};this.K_(n)}}class L4{}class U4 extends L4{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Wo(e,sp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())}))}jo(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,sp(n,s),o,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ye(se.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function j4(r,e,n,s){return new U4(r,e,n,s)}class z4{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class B4{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((f=>{s.enqueueAndForget((async()=>{oa(this)&&(fe(na,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await vu(g),g.Va.set("Unknown"),g.Ea.delete(4),await df(g)})(this))}))})),this.Va=new z4(s,o)}}async function df(r){if(oa(r))for(const e of r.Ra)await e(!0)}async function vu(r){for(const e of r.Ra)await e(!1)}function Zb(r,e){const n=Ce(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),tg(n)?eg(n):xo(n).O_()&&Zp(n,e))}function Jp(r,e){const n=Ce(r),s=xo(n);n.Ia.delete(e),s.O_()&&eT(n,e),n.Ia.size===0&&(s.O_()?s.L_():oa(n)&&n.Va.set("Unknown"))}function Zp(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xo(r).Z_(e)}function eT(r,e){r.da.$e(e),xo(r).X_(e)}function eg(r){r.da=new kM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),xo(r).start(),r.Va.ua()}function tg(r){return oa(r)&&!xo(r).x_()&&r.Ia.size>0}function oa(r){return Ce(r).Ea.size===0}function tT(r){r.da=void 0}async function H4(r){r.Va.set("Online")}async function q4(r){r.Ia.forEach(((e,n)=>{Zp(r,e)}))}async function F4(r,e){tT(r),tg(r)?(r.Va.ha(e),eg(r)):r.Va.set("Unknown")}async function G4(r,e,n){if(r.Va.set("Online"),e instanceof Ub&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(r,e)}catch(s){fe(na,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(r,s)}else if(e instanceof gh?r.da.Xe(e):e instanceof Lb?r.da.st(e):r.da.tt(e),!n.isEqual(xe.min()))try{const s=await Xb(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.da.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Jt.EMPTY_BYTE_STRING,E.snapshotVersion)),eT(u,p);const b=new ts(E.target,p,g,E.sequenceNumber);Zp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){fe(na,"Failed to raise snapshot:",s),await Bh(r,s)}}async function Bh(r,e,n){if(!Ao(e))throw e;r.Ea.add(1),await vu(r),r.Va.set("Offline"),n||(n=()=>Xb(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{fe(na,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await df(r)}))}function nT(r,e){return e().catch((n=>Bh(r,n,e)))}async function mf(r){const e=Ce(r),n=hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Up;for(;Y4(e);)try{const o=await x4(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,$4(e,o)}catch(o){await Bh(e,o)}iT(e)&&rT(e)}function Y4(r){return oa(r)&&r.Ta.length<10}function $4(r,e){r.Ta.push(e);const n=hs(r);n.O_()&&n.Y_&&n.ea(e.mutations)}function iT(r){return oa(r)&&!hs(r).x_()&&r.Ta.length>0}function rT(r){hs(r).start()}async function Q4(r){hs(r).ra()}async function K4(r){const e=hs(r);for(const n of r.Ta)e.ea(n.mutations)}async function X4(r,e,n){const s=r.Ta.shift(),o=Gp.from(s,e,n);await nT(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await mf(r)}async function W4(r,e){e&&hs(r).Y_&&await(async function(s,o){if((function(f){return DM(f)&&f!==se.ABORTED})(o.code)){const u=s.Ta.shift();hs(s).B_(),await nT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await mf(s)}})(r,e),iT(r)&&rT(r)}async function u1(r,e){const n=Ce(r);n.asyncQueue.verifyOperationInProgress(),fe(na,"RemoteStore received new credentials");const s=oa(n);n.Ea.add(3),await vu(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await df(n)}async function J4(r,e){const n=Ce(r);e?(n.Ea.delete(2),await df(n)):e||(n.Ea.add(2),await vu(n),n.Va.set("Unknown"))}function xo(r){return r.ma||(r.ma=(function(n,s,o){const u=Ce(n);return u.sa(),new V4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:H4.bind(null,r),Yo:q4.bind(null,r),t_:F4.bind(null,r),J_:G4.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),tg(r)?eg(r):r.Va.set("Unknown")):(await r.ma.stop(),tT(r))}))),r.ma}function hs(r){return r.fa||(r.fa=(function(n,s,o){const u=Ce(n);return u.sa(),new P4(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Q4.bind(null,r),t_:W4.bind(null,r),ta:K4.bind(null,r),na:X4.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await mf(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ng{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new ng(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(r,e){if(fr("AsyncQueue",`${e}: ${r}`),Ao(r))return new ye(se.UNAVAILABLE,`${e}: ${r}`);throw r}class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Bl(),this.sortedSet=new mt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new uo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class c1{constructor(){this.ga=new mt(Ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _o{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new _o(e,n,uo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}class Z4{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class eO{constructor(){this.queries=h1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=h1(),u.forEach(((f,m)=>{for(const p of m.ba)p.onError(s)}))})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function h1(){return new sa((r=>wb(r)),of)}async function tO(r,e){const n=Ce(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(s=2):(u=new Z4,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ig(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&rg(n)}async function nO(r,e){const n=Ce(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ba.indexOf(e);f>=0&&(u.ba.splice(f,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function iO(r,e){const n=Ce(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ba)m.Fa(o)&&(s=!0);f.wa=o}}s&&rg(n)}function rO(r,e,n){const s=Ce(r),o=s.queries.get(e);if(o)for(const u of o.ba)u.onError(n);s.queries.delete(e)}function rg(r){r.Ca.forEach((e=>{e.next()}))}var cp,f1;(f1=cp||(cp={})).Ma="default",f1.Cache="cache";class sO{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==cp.Cache}}class sT{constructor(e){this.key=e}}class aT{constructor(e){this.key=e}}class aO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=Sb(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,n){const s=n?n.iu:new c1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,b)=>{const R=o.get(E),L=lf(this.query,b)?b:null,Q=!!R&&this.mutatedKeys.has(R.key),K=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let P=!1;R&&L?R.data.isEqual(L.data)?Q!==K&&(s.track({type:3,doc:L}),P=!0):this.su(R,L)||(s.track({type:2,doc:L}),P=!0,(p&&this.eu(L,p)>0||g&&this.eu(L,g)<0)&&(m=!0)):!R&&L?(s.track({type:0,doc:L}),P=!0):R&&!L&&(s.track({type:1,doc:R}),P=!0,(p||g)&&(m=!0)),P&&(L?(f=f.add(L),u=K?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((E,b)=>(function(L,Q){const K=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:P})}};return K(L)-K(Q)})(E.type,b.type)||this.eu(E.doc,b.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,f.length!==0||g?{snapshot:new _o(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new c1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return e.forEach((s=>{this.Ya.has(s)||n.push(new aT(s))})),this.Ya.forEach((s=>{e.has(s)||n.push(new sT(s))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _o.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const sg="SyncEngine";class oO{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class lO{constructor(e){this.key=e,this.hu=!1}}class uO{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new sa((m=>wb(m)),of),this.Iu=new Map,this.Eu=new Set,this.Ru=new mt(Ee.comparator),this.Au=new Map,this.Vu=new Qp,this.du={},this.mu=new Map,this.fu=yo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cO(r,e,n=!0){const s=fT(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await oT(s,e,n,!0),o}async function hO(r,e){const n=fT(r);await oT(n,e,!0,!1)}async function oT(r,e,n,s){const o=await R4(r.localStore,Oi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await fO(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&Zb(r.remoteStore,o),m}async function fO(r,e,n,s,o){r.pu=(b,R,L)=>(async function(K,P,X,Y){let re=P.view.ru(X);re.Ss&&(re=await r1(K.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,re))));const ue=Y&&Y.targetChanges.get(P.targetId),ne=Y&&Y.targetMismatches.get(P.targetId)!=null,le=P.view.applyChanges(re,K.isPrimaryClient,ue,ne);return m1(K,P.targetId,le.au),le.snapshot})(r,b,R,L);const u=await r1(r.localStore,e,!0),f=new aO(e,u.ks),m=f.ru(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);m1(r,n,g.au);const E=new oO(e,n,f);return r.Tu.set(e,E),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function dO(r,e,n){const s=Ce(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!of(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await lp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Jp(s.remoteStore,o.targetId),hp(s,o.targetId)})).catch(So)):(hp(s,o.targetId),await lp(s.localStore,o.targetId,!0))}async function mO(r,e){const n=Ce(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Jp(n.remoteStore,s.targetId))}async function pO(r,e,n){const s=TO(r);try{const o=await(function(f,m){const p=Ce(f),g=lt.now(),E=m.reduce(((L,Q)=>L.add(Q.key)),ze());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(L=>{let Q=dr(),K=ze();return p.xs.getEntries(L,E).next((P=>{Q=P,Q.forEach(((X,Y)=>{Y.isValidDocument()||(K=K.add(X))}))})).next((()=>p.localDocuments.getOverlayedDocuments(L,Q))).next((P=>{b=P;const X=[];for(const Y of m){const re=xM(Y,b.get(Y.key).overlayedDocument);re!=null&&X.push(new aa(Y.key,re,gb(re.value.mapValue),lr.exists(!0)))}return p.mutationQueue.addMutationBatch(L,g,X,m)})).next((P=>{R=P;const X=P.applyToLocalDocumentSet(b,K);return p.documentOverlayCache.saveOverlays(L,P.batchId,X)}))})).then((()=>({batchId:R.batchId,changes:xb(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,m,p){let g=f.du[f.currentUser.toKey()];g||(g=new mt(je)),g=g.insert(m,p),f.du[f.currentUser.toKey()]=g})(s,o.batchId,n),await Eu(s,o.changes),await mf(s.remoteStore)}catch(o){const u=ig(o,"Failed to persist write");n.reject(u)}}async function lT(r,e){const n=Ce(r);try{const s=await S4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Qe(f.hu,14607):o.removedDocuments.size>0&&(Qe(f.hu,42227),f.hu=!1))})),await Eu(n,s,e)}catch(s){await So(s)}}function d1(r,e,n){const s=Ce(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach(((E,b)=>{for(const R of b.ba)R.va(m)&&(g=!0)})),g&&rg(p)})(s.eventManager,e),o.length&&s.Pu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function gO(r,e,n){const s=Ce(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new mt(Ee.comparator);f=f.insert(u,nn.newNoDocument(u,xe.min()));const m=ze().add(u),p=new hf(xe.min(),new Map,new mt(je),f,m);await lT(s,p),s.Ru=s.Ru.remove(u),s.Au.delete(e),ag(s)}else await lp(s.localStore,e,!1).then((()=>hp(s,e,n))).catch(So)}async function yO(r,e){const n=Ce(r),s=e.batch.batchId;try{const o=await w4(n.localStore,e);cT(n,s,null),uT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await So(o)}}async function _O(r,e,n){const s=Ce(r);try{const o=await(function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Qe(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,e);cT(s,e,n),uT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await So(o)}}function uT(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function cT(r,e,n){const s=Ce(r);let o=s.du[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.du[s.currentUser.toKey()]=o}}function hp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||hT(r,s)}))}function hT(r,e){r.Eu.delete(e.path.canonicalString());const n=r.Ru.get(e);n!==null&&(Jp(r.remoteStore,n),r.Ru=r.Ru.remove(e),r.Au.delete(n),ag(r))}function m1(r,e,n){for(const s of n)s instanceof sT?(r.Vu.addReference(s.key,e),vO(r,s)):s instanceof aT?(fe(sg,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||hT(r,s.key)):Te(19791,{wu:s})}function vO(r,e){const n=e.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(fe(sg,"New document in limbo: "+n),r.Eu.add(s),ag(r))}function ag(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new Ee(ft.fromString(e)),s=r.fu.next();r.Au.set(s,new lO(n)),r.Ru=r.Ru.insert(n,s),Zb(r.remoteStore,new ts(Oi(qp(n.path)),s,"TargetPurposeLimboResolution",nf.ce))}}async function Eu(r,e,n){const s=Ce(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=Xp.Es(p.targetId,g);u.push(E)}})))})),await Promise.all(f),s.Pu.J_(o),await(async function(p,g){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ie.forEach(g,(R=>ie.forEach(R.Ts,(L=>E.persistence.referenceDelegate.addReference(b,R.targetId,L))).next((()=>ie.forEach(R.Is,(L=>E.persistence.referenceDelegate.removeReference(b,R.targetId,L)))))))))}catch(b){if(!Ao(b))throw b;fe(Wp,"Failed to update sequence numbers: "+b)}for(const b of g){const R=b.targetId;if(!b.fromCache){const L=E.vs.get(R),Q=L.snapshotVersion,K=L.withLastLimboFreeSnapshotVersion(Q);E.vs=E.vs.insert(R,K)}}})(s.localStore,u))}async function EO(r,e){const n=Ce(r);if(!n.currentUser.isEqual(e)){fe(sg,"User change. New user:",e.toKey());const s=await Kb(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ye(se.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Ns)}}function bO(r,e){const n=Ce(r),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function fT(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gO.bind(null,e),e.Pu.J_=iO.bind(null,e.eventManager),e.Pu.yu=rO.bind(null,e.eventManager),e}function TO(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_O.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return T4(this.persistence,new v4,e.initialUser,this.serializer)}Cu(e){return new Qb(Kp.Vi,this.serializer)}Du(e){return new N4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class wO extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Qe(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new r4(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new Qb((s=>zh.Vi(s,n)),this.serializer)}}class fp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>d1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=EO.bind(null,this.syncEngine),await J4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new eO})()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),s=k4(e.databaseInfo);return j4(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,m){return new B4(s,o,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>d1(this.syncEngine,n,0)),(function(){return o1.v()?new o1:new I4})())}createSyncEngine(e,n){return(function(o,u,f,m,p,g,E){const b=new uO(o,u,f,m,p,g);return E&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ce(n);fe(na,"RemoteStore shutting down."),s.Ea.add(5),await vu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fp.provider={build:()=>new fp};class SO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const fs="FirestoreClient";class AO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{fe(fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(fe(fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ig(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Lm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(fs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Kb(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function p1(r,e){r.asyncQueue.verifyOperationInProgress();const n=await xO(r);fe(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>u1(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>u1(e.remoteStore,o))),r._onlineComponents=e}async function xO(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(fs,"Using user provided OfflineComponentProvider");try{await Lm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ta("Error using user provided cache. Falling back to memory cache: "+n),await Lm(r,new Hh)}}else fe(fs,"Using default OfflineComponentProvider"),await Lm(r,new wO(void 0));return r._offlineComponents}async function dT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(fs,"Using user provided OnlineComponentProvider"),await p1(r,r._uninitializedComponentsProvider._online)):(fe(fs,"Using default OnlineComponentProvider"),await p1(r,new fp))),r._onlineComponents}function RO(r){return dT(r).then((e=>e.syncEngine))}async function g1(r){const e=await dT(r),n=e.eventManager;return n.onListen=cO.bind(null,e.syncEngine),n.onUnlisten=dO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=hO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mO.bind(null,e.syncEngine),n}function CO(r,e,n,s){const o=new SO(s),u=new sO(e,o,n);return r.asyncQueue.enqueueAndForget((async()=>tO(await g1(r),u))),()=>{o.Nu(),r.asyncQueue.enqueueAndForget((async()=>nO(await g1(r),u)))}}function NO(r,e){const n=new Ks;return r.asyncQueue.enqueueAndForget((async()=>pO(await RO(r),e,n))),n.promise}function mT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const IO="ComponentProvider",y1=new Map;function DO(r,e,n,s,o){return new QD(r,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,mT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,s)}const pT="firestore.googleapis.com",_1=!0;class v1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pT,this.ssl=_1}else this.host=e.host,this.ssl=e.ssl??_1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$b;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n4)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new xD;switch(s.type){case"firstParty":return new ID(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=y1.get(n);s&&(fe(IO,"Removing Datastore"),y1.delete(n),s.terminate())})(this),Promise.resolve()}}function MO(r,e,n,s={}){r=oo(r,og);const o=Eo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(mE(`https://${m}`),pE("Firestore",!0)),u.host!==pT&&u.host!==m&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!Ws(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=tn.MOCK_USER;else{g=KR(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new tn(b)}r._authCredentials=new RD(new sb(g,E))}}class pf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new pf(this.firestore,e,this._query)}}class qt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gu(n,qt._jsonSchema))return new qt(e,s||null,new Ee(ft.fromString(n.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:Mt("string",qt._jsonSchemaVersion),referencePath:Mt("string")};class su extends pf{constructor(e,n,s){super(e,n,qp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Ee(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function OO(r,e,...n){if(r=Rn(r),arguments.length===1&&(e=Pp.newId()),PD("doc","path",e),r instanceof og){const s=ft.fromString(e,...n);return Mv(s),new qt(r,null,new Ee(s))}{if(!(r instanceof qt||r instanceof su))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ft.fromString(e,...n));return Mv(s),new qt(r.firestore,r instanceof su?r.converter:null,new Ee(s))}}const E1="AsyncQueue";class b1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Wb(this,"async_queue_retry"),this._c=()=>{const s=Pm();s&&fe(E1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ks;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ao(e))throw e;fe(E1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",T1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ng.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:T1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function T1(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class qh extends og{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new b1,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new b1(e),this._firestoreClient=void 0,await e}}}function kO(r,e){const n=typeof r=="object"?r:vE(),s=typeof r=="string"?r:Oh,o=Sp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=$R("firestore");u&&MO(o,...u)}return o}function gT(r){if(r._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||VO(r),r._firestoreClient}function VO(r){const e=r._freezeSettings(),n=DO(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new AO(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Jt.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Mt("string",Hn._jsonSchemaVersion),bytes:Mt("string")};class yT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class _T{constructor(e){this._methodName=e}}class Vi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Vi._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Vi._jsonSchema))return new Vi(e.latitude,e.longitude)}}Vi._jsonSchemaVersion="firestore/geoPoint/1.0",Vi._jsonSchema={type:Mt("string",Vi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};class oi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,oi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new oi(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}oi._jsonSchemaVersion="firestore/vectorValue/1.0",oi._jsonSchema={type:Mt("string",oi._jsonSchemaVersion),vectorValues:Mt("object")};const PO=/^__.*__$/;class LO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new aa(e,this.data,this.fieldMask,n,this.fieldTransforms):new yu(e,this.data,n,this.fieldTransforms)}}function vT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:r})}}class lg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new lg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const n=this.path?.child(e),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Fh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(vT(this.dataSource)&&PO.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class UO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ff(e)}createContext(e,n,s,o=!1){return new lg({dataSource:e,methodName:n,targetDoc:s,path:Wt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jO(r){const e=r._freezeSettings(),n=ff(r._databaseId);return new UO(r._databaseId,!!e.ignoreUndefinedProperties,n)}function zO(r,e,n,s,o,u={}){const f=r.createContext(u.merge||u.mergeFields?2:0,e,n,o);wT("Data must be an object, but it was:",f,s);const m=bT(s,f);let p,g;if(u.merge)p=new si(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const R=ug(e,b,n);if(!f.contains(R))throw new ye(se.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);qO(E,R)||E.push(R)}p=new si(E),g=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=f.fieldTransforms;return new LO(new Bn(m),p,g)}function ET(r,e){if(TT(r=Rn(r)))return wT("Unsupported field value:",e,r),bT(r,e);if(r instanceof _T)return(function(s,o){if(!vT(o.dataSource))throw o.createError(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const m of s){let p=ET(m,o.childContextForArray(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=Rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EM(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=lt.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof lt){const u=new lt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof Vi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:jb(o.serializer,s._byteString)};if(s instanceof qt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:$p(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof oi)return(function(f,m){const p=f instanceof oi?f.toArray():f;return{mapValue:{fields:{[mb]:{stringValue:pb},[kh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Fp(m.serializer,E)}))}}}}}})(s,o);if(Yb(s))return s._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Lp(s)}`)})(r,e)}function bT(r,e){const n={};return lb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ra(r,((s,o)=>{const u=ET(o,e.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function TT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof lt||r instanceof Vi||r instanceof Hn||r instanceof qt||r instanceof _T||r instanceof oi||Yb(r))}function wT(r,e,n){if(!TT(n)||!ab(n)){const s=Lp(n);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function ug(r,e,n){if((e=Rn(e))instanceof yT)return e._internalPath;if(typeof e=="string")return HO(r,e);throw Fh("Field path arguments must be of type string or ",r,!1,void 0,n)}const BO=new RegExp("[~\\*/\\[\\]]");function HO(r,e,n){if(e.search(BO)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new yT(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Fh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ye(se.INVALID_ARGUMENT,m+r+p)}function qO(r,e){return r.some((n=>n.isEqual(e)))}class FO{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ra(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[kh].arrayValue?.values?.map((s=>bt(s.doubleValue)));return new oi(n)}convertGeoPoint(e){return new Vi(bt(e.latitude),bt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=ls(e);return new lt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ft.fromString(e);Qe(Gb(s),9688,{name:e});const o=new tu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class ST extends FO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}const w1="@firebase/firestore",S1="4.11.0";function A1(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(r,["next","error","complete"])}class AT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const n=this._document.data.field(ug("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GO extends AT{data(){return super.data()}}function YO(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function $O(r,e,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,s}class ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xs extends AT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ug("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Xs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Xs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Xs._jsonSchema={type:Mt("string",Xs._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class yh extends Xs{data(e={}){return super.data(e)}}class co{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new yh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:QO(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=co._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function QO(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}co._jsonSchemaVersion="firestore/querySnapshot/1.0",co._jsonSchema={type:Mt("string",co._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function KO(r,e,n){r=oo(r,qt);const s=oo(r.firestore,qh),o=$O(r.converter,e,n),u=jO(s);return WO(s,[zO(u,"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,lr.none())])}function XO(r,...e){r=Rn(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||A1(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(A1(e[s])){const g=e[s];e[s]=g.next?.bind(g),e[s+1]=g.error?.bind(g),e[s+2]=g.complete?.bind(g)}let u,f,m;if(r instanceof qt)f=oo(r.firestore,qh),m=qp(r._key.path),u={next:g=>{e[s]&&e[s](JO(f,r,g))},error:e[s+1],complete:e[s+2]};else{const g=oo(r,pf);f=oo(g.firestore,qh),m=g._query;const E=new ST(f);u={next:b=>{e[s]&&e[s](new co(f,E,g,b))},error:e[s+1],complete:e[s+2]},YO(r._query)}const p=gT(f);return CO(p,m,o,u)}function WO(r,e){const n=gT(r);return NO(n,e)}function JO(r,e,n){const s=n.docs.get(e._key),o=new ST(r);return new Xs(r,o,e._key,s,new ql(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){AD(bo),ho(new Js("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new qh(new CD(s.getProvider("auth-internal")),new DD(f,s.getProvider("app-check-internal")),KD(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),rs(w1,S1,e),rs(w1,S1,"esm2020")})();const ZO={apiKey:"AIzaSyDkO9uuozHTfwWZ4dmQi-f2PnMga5sqEjs",authDomain:"gangneung-db-1218.firebaseapp.com",projectId:"gangneung-db-1218",storageBucket:"gangneung-db-1218.firebasestorage.app",messagingSenderId:"677101711159",appId:"1:677101711159:web:6276ff64df631dd23134b2"},xT=_E(ZO),ek=kO(xT),Um=bD(xT),tk=new rr;let _h=null,vh=null,jm=!1;const nk=r=>{RT();const e=OO(ek,"users",r);_h=XO(e,n=>{if(n.exists()){const s=n.data();jm=!0,Ht.setState({todos:s.todos||[],drawings:s.drawings||{},monthlyNotes:s.monthlyNotes||{},appPin:s.appPin!==void 0?s.appPin:null}),setTimeout(()=>{jm=!1},50)}}),vh=Ht.subscribe((n,s)=>{if(jm)return;const o={todos:n.todos,drawings:n.drawings,monthlyNotes:n.monthlyNotes,appPin:n.appPin},u={todos:s.todos,drawings:s.drawings,monthlyNotes:s.monthlyNotes,appPin:s.appPin};if(JSON.stringify(o)!==JSON.stringify(u)){console.log("[Sync] Local changes detected, syncing to Firestore..."),Ht.setState({isSyncing:!0});try{const f=JSON.parse(JSON.stringify(o));KO(e,{...f,updatedAt:new Date().toISOString()},{merge:!0}).then(()=>console.log("[Sync] Successfully synced to Firestore!")).catch(m=>console.error("[Sync] Firebase sync error:",m)).finally(()=>Ht.setState({isSyncing:!1}))}catch(f){console.error("[Sync] Synchronous error preparing/sending to Firestore:",f),Ht.setState({isSyncing:!1})}}})},RT=()=>{_h&&(_h(),_h=null),vh&&(vh(),vh=null)},ik=()=>{const{isSyncing:r}=Ht(),[e,n]=H.useState(null),[s,o]=H.useState(!0);H.useEffect(()=>{const m=uI(Um,p=>{n(p),o(!1),p?(Ht.setState({currentUserUid:p.uid}),nk(p.uid)):(Ht.setState({currentUserUid:null}),RT())});return()=>m()},[]);const u=async()=>{o(!0);try{await II(Um,tk)}catch(m){console.error("Login failed:",m),alert(" .")}finally{o(!1)}},f=async()=>{if(o(!0),window.confirm(" ?    ."))try{await cI(Um)}catch(m){console.error("Logout failed:",m)}o(!1)};return s?w.jsx("button",{disabled:!0,className:"p-2 ml-2 bg-white rounded-full border border-[var(--color-paper-200)] text-[var(--color-ink-300)] flex items-center justify-center",children:w.jsx(ev,{size:18,className:"animate-spin"})}):e?w.jsxs("div",{className:"flex items-center gap-2 ml-2 relative group",children:[w.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${r?"bg-orange-100 text-orange-600":"bg-green-100 text-green-700"} flex items-center gap-1 transition-colors duration-300`,children:[r?w.jsx(ev,{size:12,className:"animate-spin"}):w.jsx(Xx,{size:12}),r?" ...":" "]}),w.jsxs("button",{onClick:f,className:"p-1 px-3 bg-white rounded-full border border-[var(--color-paper-200)] text-[var(--color-ink-500)] hover:text-red-500 hover:border-red-200 hover:shadow-sm transition-all flex items-center gap-2",title:" ( )",children:[e.photoURL&&w.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-5 h-5 rounded-full"}),w.jsx(uR,{size:16})]})]}):w.jsxs("button",{onClick:u,className:"p-1.5 px-3 ml-2 bg-[var(--color-ink-900)] text-white rounded-full border border-[var(--color-ink-900)] hover:bg-[var(--color-ink-700)] hover:shadow-sm transition-all flex items-center gap-2 text-sm font-bold",title:"       ",children:[w.jsx(Qx,{size:16}),w.jsx(oR,{size:16}),w.jsx("span",{children:"  "})]})},rk=r=>r===0?"":r===1||r===2||r===3?"":r===45||r===48?"":r>=51&&r<=57?"":r>=61&&r<=67?"":r>=71&&r<=77?"":r>=80&&r<=82?"":r>=85&&r<=86?"":r>=95&&r<=99?"":"",sk=()=>{const{weatherCache:r,setWeatherCache:e}=Ht(),[n,s]=H.useState(!1),[o,u]=H.useState(null);return H.useEffect(()=>{if(Object.keys(r).length>7)return;const f=async(m,p)=>{s(!0);try{const g=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${m}&longitude=${p}&daily=weather_code&timezone=auto&past_days=14&forecast_days=14`);if(!g.ok)throw new Error("Failed to fetch weather data");const E=await g.json();if(E.daily&&E.daily.time&&E.daily.weather_code){const b={};E.daily.time.forEach((R,L)=>{const Q=E.daily.weather_code[L];b[R]=rk(Q)}),e(b)}}catch(g){console.error("Weather fetch error:",g),u(g instanceof Error?g.message:"Unknown error")}finally{s(!1)}};"geolocation"in navigator?navigator.geolocation.getCurrentPosition(m=>{f(m.coords.latitude,m.coords.longitude)},m=>{console.warn("Geolocation permission denied or failed:",m),u("Location access denied.")},{timeout:1e4,maximumAge:36e5}):u("Geolocation not supported by this browser.")},[r,e]),{isLoading:n,error:o}},ak=async()=>{if("serviceWorker"in navigator)try{const r=await navigator.serviceWorker.getRegistrations();for(const e of r)await e.unregister()}catch(r){console.error("SW unregister error",r)}window.location.href=window.location.href.split("#")[0]+"?t="+new Date().getTime()+window.location.hash,window.location.reload()},ok=()=>{const e=ds().pathname,n=[{name:"Yearly",path:"/yearly",icon:w.jsx(Ux,{size:16}),label:""},{name:"Monthly",path:"/",icon:w.jsx(zx,{size:16}),label:""},{name:"Weekly",path:"/weekly",icon:w.jsx(rE,{size:16}),label:""},{name:"Daily",path:"/daily",icon:w.jsx(nR,{size:16}),label:""}];return w.jsx("nav",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-[var(--color-paper-200)] shadow-sm",children:n.map(s=>{const o=e===s.path||e==="/"&&s.path==="/";return w.jsxs(vp,{to:s.path,className:`
              relative flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all duration-200 
              ${o?"bg-[var(--color-paper-50)] text-[var(--color-ink-900)] shadow-sm":"text-[var(--color-ink-400)] hover:text-[var(--color-ink-600)] hover:bg-[var(--color-paper-50)]/50"}
            `,children:[s.icon,w.jsx("span",{children:s.label})]},s.name)})})},x1="1.5.8";function lk(){const{isLocked:r}=Ht(),[e,n]=H.useState(!1);return sk(),w.jsxs("div",{className:"min-h-screen bg-[var(--color-paper-50)] flex flex-col items-center py-6 px-4 md:py-10",children:[r&&w.jsx(LR,{}),w.jsxs("header",{className:"w-full max-w-6xl mb-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsx("h1",{className:"text-3xl font-bold text-[var(--color-ink-900)] tracking-tight",children:" "}),w.jsxs("span",{className:"text-xs font-black text-accent-blue bg-blue-50 border border-blue-200 px-2 py-0.5 rounded-full shadow-sm",children:["v",x1]})]}),w.jsx("p",{className:"text-sm text-[var(--color-ink-500)] mt-1 font-medium",children:"Gangneung Branch Work Diary"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(ok,{}),w.jsxs("button",{onClick:ak,className:"flex items-center gap-1.5 px-3 py-1.5 bg-accent-red/10 text-accent-red rounded-full border border-accent-red/20 font-bold text-xs hover:bg-accent-red hover:text-white transition-all shadow-sm shrink-0",title:"    ",children:[w.jsx(ER,{size:14}),w.jsx("span",{className:"hidden md:inline",children:" "})]}),w.jsx(ik,{}),w.jsx("button",{onClick:()=>n(!0),className:"p-2 ml-1 bg-white rounded-full border border-[var(--color-paper-200)] text-[var(--color-ink-500)] hover:text-accent-blue hover:border-blue-200 hover:shadow-sm transition-all",title:" (PIN ) ",children:w.jsx(sE,{size:18})})]})]}),w.jsx("main",{className:`w-full max-w-6xl flex-1 diary-page p-6 md:p-8 relative ${r?"blur-md pointer-events-none opacity-50":""}`,children:w.jsxs(h2,{children:[w.jsx(jl,{path:"/",element:w.jsx(MR,{})}),w.jsx(jl,{path:"/yearly",element:w.jsx(DR,{})}),w.jsx(jl,{path:"/weekly",element:w.jsx(VR,{})}),w.jsx(jl,{path:"/daily",element:w.jsx(PR,{})})]})}),w.jsxs("div",{className:"fixed bottom-4 right-4 px-2 py-1 text-[11px] font-bold text-ink-300 font-mono tracking-wider pointer-events-none select-none z-50 opacity-60",children:["v",x1]}),w.jsx(UR,{isOpen:e,onClose:()=>n(!1)})]})}"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(r){for(let e of r)e.unregister()}).catch(function(r){console.log("Service Worker unregistration failed: ",r)});mS.createRoot(document.getElementById("root")).render(w.jsx(H.StrictMode,{children:w.jsx(V2,{children:w.jsx(lk,{})})}));
