var yS=Object.defineProperty,_S=Object.defineProperties;var vS=Object.getOwnPropertyDescriptors;var rh=Object.getOwnPropertySymbols,ES=Object.getPrototypeOf,z_=Object.prototype.hasOwnProperty,B_=Object.prototype.propertyIsEnumerable,TS=Reflect.get;var j_=(i,e,n)=>e in i?yS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[e]=n,ye=(i,e)=>{for(var n in e||(e={}))z_.call(e,n)&&j_(i,n,e[n]);if(rh)for(var n of rh(e))B_.call(e,n)&&j_(i,n,e[n]);return i},mt=(i,e)=>_S(i,vS(e));var si=(i,e)=>{var n={};for(var a in i)z_.call(i,a)&&e.indexOf(a)<0&&(n[a]=i[a]);if(i!=null&&rh)for(var a of rh(i))e.indexOf(a)<0&&B_.call(i,a)&&(n[a]=i[a]);return n};var bS=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var Qa=(i,e,n)=>TS(ES(i),n,e);var U=(i,e,n)=>new Promise((a,o)=>{var u=p=>{try{m(n.next(p))}catch(g){o(g)}},h=p=>{try{m(n.throw(p))}catch(g){o(g)}},m=p=>p.done?a(p.value):Promise.resolve(p.value).then(u,h);m((n=n.apply(i,e)).next())});var Ck=bS(Ao=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function wS(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var wm={exports:{}},Ul={};var H_;function SS(){if(H_)return Ul;H_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:a,key:h,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var q_;function AS(){return q_||(q_=1,wm.exports=SS()),wm.exports}var w=AS(),Sm={exports:{}},Ne={};var F_;function xS(){if(F_)return Ne;F_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),A=Symbol.iterator;function k(P){return P===null||typeof P!="object"?null:(P=A&&P[A]||P["@@iterator"],typeof P=="function"?P:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,V={};function J(P,ee,ue){this.props=P,this.context=ee,this.refs=V,this.updater=ue||F}J.prototype.isReactComponent={},J.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},J.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function te(){}te.prototype=J.prototype;function $(P,ee,ue){this.props=P,this.context=ee,this.refs=V,this.updater=ue||F}var re=$.prototype=new te;re.constructor=$,W(re,J.prototype),re.isPureReactComponent=!0;var X=Array.isArray;function ce(){}var R={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(P,ee,ue){var fe=ue.ref;return{$$typeof:i,type:P,key:ee,ref:fe!==void 0?fe:null,props:ue}}function M(P,ee){return C(P.type,ee,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function O(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ue){return ee[ue]})}var N=/\/+/g;function Oe(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?O(""+P.key):ee.toString(36)}function Fe(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(ce,ce):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Y(P,ee,ue,fe,ne){var me=typeof P;(me==="undefined"||me==="boolean")&&(P=null);var Re=!1;if(P===null)Re=!0;else switch(me){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(P.$$typeof){case i:case e:Re=!0;break;case E:return Re=P._init,Y(Re(P._payload),ee,ue,fe,ne)}}if(Re)return ne=ne(P),Re=fe===""?"."+Oe(P,0):fe,X(ne)?(ue="",Re!=null&&(ue=Re.replace(N,"$&/")+"/"),Y(ne,ee,ue,"",function(En){return En})):ne!=null&&(I(ne)&&(ne=M(ne,ue+(ne.key==null||P&&P.key===ne.key?"":(""+ne.key).replace(N,"$&/")+"/")+Re)),ee.push(ne)),1;Re=0;var ht=fe===""?".":fe+":";if(X(P))for(var st=0;st<P.length;st++)fe=P[st],me=ht+Oe(fe,st),Re+=Y(fe,ee,ue,me,ne);else if(st=k(P),typeof st=="function")for(P=st.call(P),st=0;!(fe=P.next()).done;)fe=fe.value,me=ht+Oe(fe,st++),Re+=Y(fe,ee,ue,me,ne);else if(me==="object"){if(typeof P.then=="function")return Y(Fe(P),ee,ue,fe,ne);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Re}function le(P,ee,ue){if(P==null)return P;var fe=[],ne=0;return Y(P,fe,"","",function(me){return ee.call(ue,me,ne++)}),fe}function ge(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(ue){(P._status===0||P._status===-1)&&(P._status=1,P._result=ue)},function(ue){(P._status===0||P._status===-1)&&(P._status=2,P._result=ue)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var ke=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)},Te={map:le,forEach:function(P,ee,ue){le(P,function(){ee.apply(this,arguments)},ue)},count:function(P){var ee=0;return le(P,function(){ee++}),ee},toArray:function(P){return le(P,function(ee){return ee})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}};return Ne.Activity=T,Ne.Children=Te,Ne.Component=J,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=$,Ne.StrictMode=a,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(P){return R.H.useMemoCache(P)}},Ne.cache=function(P){return function(){return P.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(P,ee,ue){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var fe=W({},P.props),ne=P.key;if(ee!=null)for(me in ee.key!==void 0&&(ne=""+ee.key),ee)!x.call(ee,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&ee.ref===void 0||(fe[me]=ee[me]);var me=arguments.length-2;if(me===1)fe.children=ue;else if(1<me){for(var Re=Array(me),ht=0;ht<me;ht++)Re[ht]=arguments[ht+2];fe.children=Re}return C(P.type,ne,fe)},Ne.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ne.createElement=function(P,ee,ue){var fe,ne={},me=null;if(ee!=null)for(fe in ee.key!==void 0&&(me=""+ee.key),ee)x.call(ee,fe)&&fe!=="key"&&fe!=="__self"&&fe!=="__source"&&(ne[fe]=ee[fe]);var Re=arguments.length-2;if(Re===1)ne.children=ue;else if(1<Re){for(var ht=Array(Re),st=0;st<Re;st++)ht[st]=arguments[st+2];ne.children=ht}if(P&&P.defaultProps)for(fe in Re=P.defaultProps,Re)ne[fe]===void 0&&(ne[fe]=Re[fe]);return C(P,me,ne)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(P){return{$$typeof:m,render:P}},Ne.isValidElement=I,Ne.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ge}},Ne.memo=function(P,ee){return{$$typeof:g,type:P,compare:ee===void 0?null:ee}},Ne.startTransition=function(P){var ee=R.T,ue={};R.T=ue;try{var fe=P(),ne=R.S;ne!==null&&ne(ue,fe),typeof fe=="object"&&fe!==null&&typeof fe.then=="function"&&fe.then(ce,ke)}catch(me){ke(me)}finally{ee!==null&&ue.types!==null&&(ee.types=ue.types),R.T=ee}},Ne.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ne.use=function(P){return R.H.use(P)},Ne.useActionState=function(P,ee,ue){return R.H.useActionState(P,ee,ue)},Ne.useCallback=function(P,ee){return R.H.useCallback(P,ee)},Ne.useContext=function(P){return R.H.useContext(P)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(P,ee){return R.H.useDeferredValue(P,ee)},Ne.useEffect=function(P,ee){return R.H.useEffect(P,ee)},Ne.useEffectEvent=function(P){return R.H.useEffectEvent(P)},Ne.useId=function(){return R.H.useId()},Ne.useImperativeHandle=function(P,ee,ue){return R.H.useImperativeHandle(P,ee,ue)},Ne.useInsertionEffect=function(P,ee){return R.H.useInsertionEffect(P,ee)},Ne.useLayoutEffect=function(P,ee){return R.H.useLayoutEffect(P,ee)},Ne.useMemo=function(P,ee){return R.H.useMemo(P,ee)},Ne.useOptimistic=function(P,ee){return R.H.useOptimistic(P,ee)},Ne.useReducer=function(P,ee,ue){return R.H.useReducer(P,ee,ue)},Ne.useRef=function(P){return R.H.useRef(P)},Ne.useState=function(P){return R.H.useState(P)},Ne.useSyncExternalStore=function(P,ee,ue){return R.H.useSyncExternalStore(P,ee,ue)},Ne.useTransition=function(){return R.H.useTransition()},Ne.version="19.2.4",Ne}var G_;function bp(){return G_||(G_=1,Sm.exports=xS()),Sm.exports}var q=bp();const ah=wS(q);var Am={exports:{}},jl={},xm={exports:{}},Rm={};var Y_;function RS(){return Y_||(Y_=1,(function(i){function e(Y,le){var ge=Y.length;Y.push(le);e:for(;0<ge;){var ke=ge-1>>>1,Te=Y[ke];if(0<o(Te,le))Y[ke]=le,Y[ge]=Te,ge=ke;else break e}}function n(Y){return Y.length===0?null:Y[0]}function a(Y){if(Y.length===0)return null;var le=Y[0],ge=Y.pop();if(ge!==le){Y[0]=ge;e:for(var ke=0,Te=Y.length,P=Te>>>1;ke<P;){var ee=2*(ke+1)-1,ue=Y[ee],fe=ee+1,ne=Y[fe];if(0>o(ue,ge))fe<Te&&0>o(ne,ue)?(Y[ke]=ne,Y[fe]=ge,ke=fe):(Y[ke]=ue,Y[ee]=ge,ke=ee);else if(fe<Te&&0>o(ne,ge))Y[ke]=ne,Y[fe]=ge,ke=fe;else break e}}return le}function o(Y,le){var ge=Y.sortIndex-le.sortIndex;return ge!==0?ge:Y.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,A=3,k=!1,F=!1,W=!1,V=!1,J=typeof setTimeout=="function"?setTimeout:null,te=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate!="undefined"?setImmediate:null;function re(Y){for(var le=n(g);le!==null;){if(le.callback===null)a(g);else if(le.startTime<=Y)a(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function X(Y){if(W=!1,re(Y),!F)if(n(p)!==null)F=!0,ce||(ce=!0,O());else{var le=n(g);le!==null&&Fe(X,le.startTime-Y)}}var ce=!1,R=-1,x=5,C=-1;function M(){return V?!0:!(i.unstable_now()-C<x)}function I(){if(V=!1,ce){var Y=i.unstable_now();C=Y;var le=!0;try{e:{F=!1,W&&(W=!1,te(R),R=-1),k=!0;var ge=A;try{t:{for(re(Y),T=n(p);T!==null&&!(T.expirationTime>Y&&M());){var ke=T.callback;if(typeof ke=="function"){T.callback=null,A=T.priorityLevel;var Te=ke(T.expirationTime<=Y);if(Y=i.unstable_now(),typeof Te=="function"){T.callback=Te,re(Y),le=!0;break t}T===n(p)&&a(p),re(Y)}else a(p);T=n(p)}if(T!==null)le=!0;else{var P=n(g);P!==null&&Fe(X,P.startTime-Y),le=!1}}break e}finally{T=null,A=ge,k=!1}le=void 0}}finally{le?O():ce=!1}}}var O;if(typeof $=="function")O=function(){$(I)};else if(typeof MessageChannel!="undefined"){var N=new MessageChannel,Oe=N.port2;N.port1.onmessage=I,O=function(){Oe.postMessage(null)}}else O=function(){J(I,0)};function Fe(Y,le){R=J(function(){Y(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var ge=A;A=le;try{return Y()}finally{A=ge}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Y,le){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ge=A;A=Y;try{return le()}finally{A=ge}},i.unstable_scheduleCallback=function(Y,le,ge){var ke=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ke+ge:ke):ge=ke,Y){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=ge+Te,Y={id:E++,callback:le,priorityLevel:Y,startTime:ge,expirationTime:Te,sortIndex:-1},ge>ke?(Y.sortIndex=ge,e(g,Y),n(p)===null&&Y===n(g)&&(W?(te(R),R=-1):W=!0,Fe(X,ge-ke))):(Y.sortIndex=Te,e(p,Y),F||k||(F=!0,ce||(ce=!0,O()))),Y},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Y){var le=A;return function(){var ge=A;A=le;try{return Y.apply(this,arguments)}finally{A=ge}}}})(Rm)),Rm}var $_;function CS(){return $_||($_=1,xm.exports=RS()),xm.exports}var Cm={exports:{}},nn={};var Q_;function NS(){if(Q_)return nn;Q_=1;var i=bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},nn.flushSync=function(p){var g=h.T,E=a.p;try{if(h.T=null,a.p=2,p)return p()}finally{h.T=g,a.p=E,a.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:k}):E==="script"&&a.d.X(p,{crossOrigin:T,integrity:A,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);a.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},nn.requestFormReset=function(p){a.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.2.4",nn}var K_;function IS(){if(K_)return Cm.exports;K_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Cm.exports=NS(),Cm.exports}var X_;function DS(){if(X_)return jl;X_=1;var i=CS(),e=bp(),n=IS();function a(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,s=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(s=r.return),t=r.return;while(t)}return r.tag===3?s:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(a(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(a(188));return r!==t?null:t}for(var s=t,l=r;;){var f=s.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===s)return p(f),t;if(d===l)return p(f),r;d=d.sibling}throw Error(a(188))}if(s.return!==l.return)s=f,l=d;else{for(var _=!1,b=f.child;b;){if(b===s){_=!0,s=f,l=d;break}if(b===l){_=!0,l=f,s=d;break}b=b.sibling}if(!_){for(b=d.child;b;){if(b===s){_=!0,s=d,l=f;break}if(b===l){_=!0,l=d,s=f;break}b=b.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:r}function E(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=E(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),te=Symbol.for("react.consumer"),$=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case W:return"Fragment";case J:return"Profiler";case V:return"StrictMode";case X:return"Suspense";case ce:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case $:return t.displayName||"Context";case te:return(t._context.displayName||"Context")+".Consumer";case re:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return r=t.displayName||null,r!==null?r:Oe(t.type)||"Memo";case x:r=t._payload,t=t._init;try{return Oe(t(r))}catch(s){}}return null}var Fe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},ke=[],Te=-1;function P(t){return{current:t}}function ee(t){0>Te||(t.current=ke[Te],ke[Te]=null,Te--)}function ue(t,r){Te++,ke[Te]=t.current,t.current=r}var fe=P(null),ne=P(null),me=P(null),Re=P(null);function ht(t,r){switch(ue(me,r),ue(ne,t),ue(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?l_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=l_(r),t=u_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ee(fe),ue(fe,t)}function st(){ee(fe),ee(ne),ee(me)}function En(t){t.memoizedState!==null&&ue(Re,t);var r=fe.current,s=u_(r,t.type);r!==s&&(ue(ne,t),ue(fe,s))}function Er(t){ne.current===t&&(ee(fe),ee(ne)),Re.current===t&&(ee(Re),kl._currentValue=ge)}var ds,ms;function di(t){if(ds===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);ds=r&&r[1]||"",ms=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+t+ms}var ko=!1;function _a(t,r){if(!t||ko)return"";ko=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(K){var G=K}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(K){G=K}t.call(ae.prototype)}}else{try{throw Error()}catch(K){G=K}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],b=d[1];if(_&&b){var D=_.split(`
`),H=b.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===H.length)for(l=D.length-1,f=H.length-1;1<=l&&0<=f&&D[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==H[f]){var Z=`
`+D[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{ko=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?di(s):""}function Vo(t,r){switch(t.tag){case 26:case 27:case 5:return di(t.type);case 16:return di("Lazy");case 13:return t.child!==r&&r!==null?di("Suspense Fallback"):di("Suspense");case 19:return di("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return di("Activity");default:return""}}function Po(t){try{var r="",s=null;do r+=Vo(t,s),s=t,t=t.return;while(t);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var At=Object.prototype.hasOwnProperty,Lt=i.unstable_scheduleCallback,Tr=i.unstable_cancelCallback,Af=i.unstable_shouldYield,Nu=i.unstable_requestPaint,ln=i.unstable_now,va=i.unstable_getCurrentPriorityLevel,Lo=i.unstable_ImmediatePriority,Uo=i.unstable_UserBlockingPriority,br=i.unstable_NormalPriority,xf=i.unstable_LowPriority,Iu=i.unstable_IdlePriority,Du=i.log,Mu=i.unstable_setDisableYieldValue,Qn=null,$t=null;function Dn(t){if(typeof Du=="function"&&Mu(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(Qn,t)}catch(r){}}var Et=Math.clz32?Math.clz32:ku,Ou=Math.log,ps=Math.LN2;function ku(t){return t>>>=0,t===0?32:31-(Ou(t)/ps|0)|0}var mi=256,Ea=262144,xt=4194304;function pi(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,r,s){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=pi(l):(_&=b,_!==0?f=pi(_):s||(s=b&~t,s!==0&&(f=pi(s))))):(b=l&~d,b!==0?f=pi(b):_!==0?f=pi(_):s||(s=l&~t,s!==0&&(f=pi(s)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,s=r&-r,d>=s||d===32&&(s&4194048)!==0)?r:f}function Kn(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Rf(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vu(){var t=xt;return xt<<=1,(xt&62914560)===0&&(xt=4194304),t}function yi(t){for(var r=[],s=0;31>s;s++)r.push(t);return r}function Ta(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cf(t,r,s,l,f,d){var _=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(s=_&~s;0<s;){var Z=31-Et(s),ae=1<<Z;b[Z]=0,D[Z]=-1;var G=H[Z];if(G!==null)for(H[Z]=null,Z=0;Z<G.length;Z++){var K=G[Z];K!==null&&(K.lane&=-536870913)}s&=~ae}l!==0&&ba(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function ba(t,r,s){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Et(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|s&261930}function jo(t,r){var s=t.entangledLanes|=r;for(t=t.entanglements;s;){var l=31-Et(s),f=1<<l;f&r|t[l]&r&&(t[l]|=r),s&=~f}}function zo(t,r){var s=r&-r;return s=(s&42)!==0?1:wa(s),(s&(t.suspendedLanes|r))!==0?0:s}function wa(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function qi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:M_(t.type))}function Xn(t,r){var s=le.p;try{return le.p=t,r()}finally{le.p=s}}var Wn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Wn,Ht="__reactProps$"+Wn,_i="__reactContainer$"+Wn,gs="__reactEvents$"+Wn,Nf="__reactListeners$"+Wn,Lu="__reactHandles$"+Wn,Uu="__reactResources$"+Wn,vi="__reactMarker$"+Wn;function ys(t){delete t[Rt],delete t[Ht],delete t[gs],delete t[Nf],delete t[Lu]}function Ei(t){var r=t[Rt];if(r)return r;for(var s=t.parentNode;s;){if(r=s[_i]||s[Rt]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(t=g_(t);t!==null;){if(s=t[Rt])return s;t=g_(t)}return r}t=s,s=t.parentNode}return null}function Mn(t){if(t=t[Rt]||t[_i]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Tn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(a(33))}function Ti(t){var r=t[Uu];return r||(r=t[Uu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ct(t){t[vi]=!0}var Bo=new Set,Ho={};function bi(t,r){wi(t,r),wi(t+"Capture",r)}function wi(t,r){for(Ho[t]=r,t=0;t<r.length;t++)Bo.add(r[t])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function ju(t){return At.call(Go,t)?!0:At.call(Fo,t)?!1:qo.test(t)?Go[t]=!0:(Fo[t]=!0,!1)}function _s(t,r,s){if(ju(r))if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+s)}}function bn(t,r,s){if(s===null)t.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+s)}}function Nt(t,r,s,l){if(l===null)t.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(r,s,""+l)}}function qt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wr(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yo(t,r,s){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof l!="undefined"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){s=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(_){s=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function We(t){if(!t._valueTracker){var r=wr(t)?"checked":"value";t._valueTracker=Yo(t,r,""+t[r])}}function Sa(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return t&&(l=wr(t)?t.checked?"true":"false":t.value),t=l,t!==s?(r.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch(r){return t.body}}var Aa=/[\n"\\]/g;function fn(t){return t.replace(Aa,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vs(t,r,s,l,f,d,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+qt(r)):t.value!==""+qt(r)&&(t.value=""+qt(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?$o(t,_,qt(r)):s!=null?$o(t,_,qt(s)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+qt(b):t.removeAttribute("name")}function zu(t,r,s,l,f,d,_,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||r!=null)){We(t);return}s=s!=null?""+qt(s):"",r=r!=null?""+qt(r):s,b||r===t.value||(t.value=r),t.defaultValue=r}l=l!=null?l:f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),We(t)}function $o(t,r,s){r==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Sr(t,r,s,l){if(t=t.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<t.length;s++)f=r.hasOwnProperty("$"+t[s].value),t[s].selected!==f&&(t[s].selected=f),f&&l&&(t[s].defaultSelected=!0)}else{for(s=""+qt(s),r=null,f=0;f<t.length;f++){if(t[f].value===s){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Bu(t,r,s){if(r!=null&&(r=""+qt(r),r!==t.value&&(t.value=r),s==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=s!=null?""+qt(s):""}function Ar(t,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(Fe(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=qt(r),t.defaultValue=s,l=t.textContent,l===s&&l!==""&&l!==null&&(t.value=l),We(t)}function dn(t,r){if(r){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=r;return}}t.textContent=r}var Hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,s):typeof s!="number"||s===0||Hu.has(r)?r==="float"?t.cssFloat=s:t[r]=(""+s).trim():t[r]=s+"px"}function Ko(t,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(t=t.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&Qo(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Qo(t,d,r[d])}function Es(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ts(t){return xr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var Xo=null;function On(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Rr=null,Ai=null;function xa(t){var r=Mn(t);if(r&&(t=r.stateNode)){var s=t[Ht]||null;e:switch(t=r.stateNode,r.type){case"input":if(vs(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==t&&l.form===t.form){var f=l[Ht]||null;if(!f)throw Error(a(90));vs(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===t.form&&Sa(l)}break e;case"textarea":Bu(t,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Sr(t,!!s.multiple,r,!1)}}}var bs=!1;function Cr(t,r,s){if(bs)return t(r,s);bs=!0;try{var l=t(r);return l}finally{if(bs=!1,(Rr!==null||Ai!==null)&&(Pc(),Rr&&(r=Rr,t=Ai,Ai=Rr=null,xa(r),t)))for(r=0;r<t.length;r++)xa(t[r])}}function Zn(t,r){var s=t.stateNode;if(s===null)return null;var l=s[Ht]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var kn=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),Ra=!1;if(kn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch(t){Ra=!1}var xi=null,Wo=null,Ca=null;function Jo(){if(Ca)return Ca;var t,r=Wo,s=r.length,l,f="value"in xi?xi.value:xi.textContent,d=f.length;for(t=0;t<s&&r[t]===f[t];t++);var _=s-t;for(l=1;l<=_&&r[s-l]===f[d-l];l++);return Ca=f.slice(t,1<l?1-l:void 0)}function Na(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Fi(){return!0}function ei(){return!1}function Qt(t){function r(s,l,f,d,_){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(s=t[b],this[b]=s?s(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fi:ei,this.isPropagationStopped=ei,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),r}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Qt(Gi),Nr=T({},Gi,{view:0,detail:0}),Zo=Qt(Nr),Ir,ws,Ci,Ss=T({},Nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Ir=t.screenX-Ci.screenX,ws=t.screenY-Ci.screenY):ws=Ir=0,Ci=t),Ir)},movementY:function(t){return"movementY"in t?t.movementY:ws}}),el=Qt(Ss),Ia=T({},Ss,{dataTransfer:0}),Fu=Qt(Ia),Gu=T({},Nr,{relatedTarget:0}),Da=Qt(Gu),tl=T({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),Yu=Qt(tl),As=T({},Gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$u=Qt(As),Qu=T({},Gi,{data:0}),Ni=Qt(Qu),Ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ju(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Wu[t])?!!r[t]:!1}function Dr(){return Ju}var un=T({},Nr,{key:function(t){if(t.key){var r=Ku[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Na(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dr,charCode:function(t){return t.type==="keypress"?Na(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Na(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zu=Qt(un),ec=T({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Qt(ec),c=T({},Nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dr}),y=Qt(c),v=T({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Qt(v),z=T({},Ss,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Qt(z),he=T({},Gi,{newState:0,oldState:0}),De=Qt(he),Tt=[9,13,27,32],Qe=kn&&"CompositionEvent"in window,ft=null;kn&&"documentMode"in document&&(ft=document.documentMode);var Vn=kn&&"TextEvent"in window&&!ft,Ii=kn&&(!Qe||ft&&8<ft&&11>=ft),ti=" ",ni=!1;function Ma(t,r){switch(t){case"keyup":return Tt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rs=!1;function Bb(t,r){switch(t){case"compositionend":return xs(r);case"keypress":return r.which!==32?null:(ni=!0,ti);case"textInput":return t=r.data,t===ti&&ni?null:t;default:return null}}function Hb(t,r){if(Rs)return t==="compositionend"||!Qe&&Ma(t,r)?(t=Jo(),Ca=Wo=xi=null,Rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ii&&r.locale!=="ko"?null:r.data;default:return null}}var qb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vg(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!qb[t.type]:r==="textarea"}function Eg(t,r,s,l){Rr?Ai?Ai.push(l):Ai=[l]:Rr=l,r=qc(r,"onChange"),0<r.length&&(s=new Ri("onChange","change",null,s,l),t.push({event:s,listeners:r}))}var nl=null,il=null;function Fb(t){n_(t,0)}function tc(t){var r=Tn(t);if(Sa(r))return t}function Tg(t,r){if(t==="change")return r}var bg=!1;if(kn){var If;if(kn){var Df="oninput"in document;if(!Df){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Df=typeof wg.oninput=="function"}If=Df}else If=!1;bg=If&&(!document.documentMode||9<document.documentMode)}function Sg(){nl&&(nl.detachEvent("onpropertychange",Ag),il=nl=null)}function Ag(t){if(t.propertyName==="value"&&tc(il)){var r=[];Eg(r,il,t,On(t)),Cr(Fb,r)}}function Gb(t,r,s){t==="focusin"?(Sg(),nl=r,il=s,nl.attachEvent("onpropertychange",Ag)):t==="focusout"&&Sg()}function Yb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(il)}function $b(t,r){if(t==="click")return tc(r)}function Qb(t,r){if(t==="input"||t==="change")return tc(r)}function Kb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var wn=typeof Object.is=="function"?Object.is:Kb;function rl(t,r){if(wn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var s=Object.keys(t),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!At.call(r,f)||!wn(t[f],r[f]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rg(t,r){var s=xg(t);t=0;for(var l;s;){if(s.nodeType===3){if(l=t+s.textContent.length,t<=r&&l>=r)return{node:s,offset:r-t};t=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xg(s)}}function Cg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Cg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Ng(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Si(t.document);r instanceof t.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch(l){s=!1}if(s)t=r.contentWindow;else break;r=Si(t.document)}return r}function Mf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Xb=kn&&"documentMode"in document&&11>=document.documentMode,Cs=null,Of=null,al=null,kf=!1;function Ig(t,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kf||Cs==null||Cs!==Si(l)||(l=Cs,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&rl(al,l)||(al=l,l=qc(Of,"onSelect"),0<l.length&&(r=new Ri("onSelect","select",null,r,s),t.push({event:r,listeners:l}),r.target=Cs)))}function Oa(t,r){var s={};return s[t.toLowerCase()]=r.toLowerCase(),s["Webkit"+t]="webkit"+r,s["Moz"+t]="moz"+r,s}var Ns={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},Vf={},Dg={};kn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Ns.animationend.animation,delete Ns.animationiteration.animation,delete Ns.animationstart.animation),"TransitionEvent"in window||delete Ns.transitionend.transition);function ka(t){if(Vf[t])return Vf[t];if(!Ns[t])return t;var r=Ns[t],s;for(s in r)if(r.hasOwnProperty(s)&&s in Dg)return Vf[t]=r[s];return t}var Mg=ka("animationend"),Og=ka("animationiteration"),kg=ka("animationstart"),Wb=ka("transitionrun"),Jb=ka("transitionstart"),Zb=ka("transitioncancel"),Vg=ka("transitionend"),Pg=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function ii(t,r){Pg.set(t,r),bi(r,[t])}var nc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Is=0,Lf=0;function ic(){for(var t=Is,r=Lf=Is=0;r<t;){var s=Pn[r];Pn[r++]=null;var l=Pn[r];Pn[r++]=null;var f=Pn[r];Pn[r++]=null;var d=Pn[r];if(Pn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Lg(s,f,d)}}function rc(t,r,s,l){Pn[Is++]=t,Pn[Is++]=r,Pn[Is++]=s,Pn[Is++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,r,s,l){return rc(t,r,s,l),ac(t)}function Va(t,r){return rc(t,null,null,r),ac(t)}function Lg(t,r,s){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s);for(var f=!1,d=t.return;d!==null;)d.childLanes|=s,l=d.alternate,l!==null&&(l.childLanes|=s),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-Et(s),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=s|536870912),d):null}function ac(t){if(50<Rl)throw Rl=0,$d=null,Error(a(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ds={};function ew(t,r,s,l){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(t,r,s,l){return new ew(t,r,s,l)}function jf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $i(t,r){var s=t.alternate;return s===null?(s=Sn(t.tag,r,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=r,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,r=t.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Ug(t,r){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,r=s.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function sc(t,r,s,l,f,d){var _=0;if(l=t,typeof t=="function")jf(t)&&(_=1);else if(typeof t=="string")_=aS(t,s,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=Sn(31,s,r,f),t.elementType=C,t.lanes=d,t;case W:return Pa(s.children,f,d,r);case V:_=8,f|=24;break;case J:return t=Sn(12,s,r,f|2),t.elementType=J,t.lanes=d,t;case X:return t=Sn(13,s,r,f),t.elementType=X,t.lanes=d,t;case ce:return t=Sn(19,s,r,f),t.elementType=ce,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:_=10;break e;case te:_=9;break e;case re:_=11;break e;case R:_=14;break e;case x:_=16,l=null;break e}_=29,s=Error(a(130,t===null?"null":typeof t,"")),l=null}return r=Sn(_,s,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Pa(t,r,s,l){return t=Sn(7,t,l,r),t.lanes=s,t}function zf(t,r,s){return t=Sn(6,t,null,r),t.lanes=s,t}function jg(t){var r=Sn(18,null,null,0);return r.stateNode=t,r}function Bf(t,r,s){return r=Sn(4,t.children!==null?t.children:[],t.key,r),r.lanes=s,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var zg=new WeakMap;function Ln(t,r){if(typeof t=="object"&&t!==null){var s=zg.get(t);return s!==void 0?s:(r={value:t,source:r,stack:Po(r)},zg.set(t,r),r)}return{value:t,source:r,stack:Po(r)}}var Ms=[],Os=0,oc=null,sl=0,Un=[],jn=0,Mr=null,Di=1,Mi="";function Qi(t,r){Ms[Os++]=sl,Ms[Os++]=oc,oc=t,sl=r}function Bg(t,r,s){Un[jn++]=Di,Un[jn++]=Mi,Un[jn++]=Mr,Mr=t;var l=Di;t=Mi;var f=32-Et(l)-1;l&=~(1<<f),s+=1;var d=32-Et(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Di=1<<32-Et(r)+f|s<<f|l,Mi=d+t}else Di=1<<d|s<<f|l,Mi=t}function Hf(t){t.return!==null&&(Qi(t,1),Bg(t,1,0))}function qf(t){for(;t===oc;)oc=Ms[--Os],Ms[Os]=null,sl=Ms[--Os],Ms[Os]=null;for(;t===Mr;)Mr=Un[--jn],Un[jn]=null,Mi=Un[--jn],Un[jn]=null,Di=Un[--jn],Un[jn]=null}function Hg(t,r){Un[jn++]=Di,Un[jn++]=Mi,Un[jn++]=Mr,Di=r.id,Mi=r.overflow,Mr=t}var Kt=null,lt=null,qe=!1,Or=null,zn=!1,Ff=Error(a(519));function kr(t){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ol(Ln(r,t)),Ff}function qg(t){var r=t.stateNode,s=t.type,l=t.memoizedProps;switch(r[Rt]=t,r[Ht]=l,s){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<Nl.length;s++)Le(Nl[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":Le("invalid",r),zu(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Le("invalid",r);break;case"textarea":Le("invalid",r),Ar(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||s_(r.textContent,s)?(l.popover!=null&&(Le("beforetoggle",r),Le("toggle",r)),l.onScroll!=null&&Le("scroll",r),l.onScrollEnd!=null&&Le("scrollend",r),l.onClick!=null&&(r.onclick=Jn),r=!0):r=!1,r||kr(t,!0)}function Fg(t){for(Kt=t.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Kt=Kt.return}}function ks(t){if(t!==Kt)return!1;if(!qe)return Fg(t),qe=!0,!1;var r=t.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||lm(t.type,t.memoizedProps)),s=!s),s&&lt&&kr(t),Fg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));lt=p_(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));lt=p_(t)}else r===27?(r=lt,Qr(t.type)?(t=dm,dm=null,lt=t):lt=r):lt=Kt?Hn(t.stateNode.nextSibling):null;return!0}function La(){lt=Kt=null,qe=!1}function Gf(){var t=Or;return t!==null&&(yn===null?yn=t:yn.push.apply(yn,t),Or=null),t}function ol(t){Or===null?Or=[t]:Or.push(t)}var Yf=P(null),Ua=null,Ki=null;function Vr(t,r,s){ue(Yf,r._currentValue),r._currentValue=s}function Xi(t){t._currentValue=Yf.current,ee(Yf)}function $f(t,r,s){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===s)break;t=t.return}}function Qf(t,r,s,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var D=0;D<r.length;D++)if(b.context===r[D]){d.lanes|=s,b=d.alternate,b!==null&&(b.lanes|=s),$f(d.return,s,t),l||(_=null);break e}d=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,d=_.alternate,d!==null&&(d.lanes|=s),$f(_,s,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Vs(t,r,s,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var b=f.type;wn(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===Re.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}f=f.return}t!==null&&Qf(r,t,s,l),r.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!wn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ja(t){Ua=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Gg(Ua,t)}function uc(t,r){return Ua===null&&ja(t),Gg(t,r)}function Gg(t,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Ki===null){if(t===null)throw Error(a(308));Ki=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ki=Ki.next=r;return s}var tw=typeof AbortController!="undefined"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(s,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(s){return s()})}},nw=i.unstable_scheduleCallback,iw=i.unstable_NormalPriority,It={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new tw,data:new Map,refCount:0}}function ll(t){t.refCount--,t.refCount===0&&nw(iw,function(){t.controller.abort()})}var ul=null,Xf=0,Ps=0,Ls=null;function rw(t,r){if(ul===null){var s=ul=[];Xf=0,Ps=Zd(),Ls={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Xf++,r.then(Yg,Yg),r}function Yg(){if(--Xf===0&&ul!==null){Ls!==null&&(Ls.status="fulfilled");var t=ul;ul=null,Ps=0,Ls=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function aw(t,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var $g=Y.S;Y.S=function(t,r){I0=ln(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&rw(t,r),$g!==null&&$g(t,r)};var za=P(null);function Wf(){var t=za.current;return t!==null?t:ot.pooledCache}function cc(t,r){r===null?ue(za,za.current):ue(za,r.pool)}function Qg(){var t=Wf();return t===null?null:{parent:It._currentValue,pool:t}}var Us=Error(a(460)),Jf=Error(a(474)),hc=Error(a(542)),fc={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xg(t,r,s){switch(s=t[s],s===void 0?t.push(r):s!==r&&(r.then(Jn,Jn),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jg(t),t;default:if(typeof r.status=="string")r.then(Jn,Jn);else{if(t=ot,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Jg(t),t}throw Ha=r,Us}}function Ba(t){try{var r=t._init;return r(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ha=s,Us):s}}var Ha=null;function Wg(){if(Ha===null)throw Error(a(459));var t=Ha;return Ha=null,t}function Jg(t){if(t===Us||t===hc)throw Error(a(483))}var js=null,cl=0;function dc(t){var r=cl;return cl+=1,js===null&&(js=[]),Xg(js,t,r)}function hl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function mc(t,r){throw r.$$typeof===A?Error(a(525)):(t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Zg(t){function r(j,L){if(t){var B=j.deletions;B===null?(j.deletions=[L],j.flags|=16):B.push(L)}}function s(j,L){if(!t)return null;for(;L!==null;)r(j,L),L=L.sibling;return null}function l(j){for(var L=new Map;j!==null;)j.key!==null?L.set(j.key,j):L.set(j.index,j),j=j.sibling;return L}function f(j,L){return j=$i(j,L),j.index=0,j.sibling=null,j}function d(j,L,B){return j.index=B,t?(B=j.alternate,B!==null?(B=B.index,B<L?(j.flags|=67108866,L):B):(j.flags|=67108866,L)):(j.flags|=1048576,L)}function _(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,L,B,ie){return L===null||L.tag!==6?(L=zf(B,j.mode,ie),L.return=j,L):(L=f(L,B),L.return=j,L)}function D(j,L,B,ie){var Ee=B.type;return Ee===W?Z(j,L,B.props.children,ie,B.key):L!==null&&(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&Ba(Ee)===L.type)?(L=f(L,B.props),hl(L,B),L.return=j,L):(L=sc(B.type,B.key,B.props,null,j.mode,ie),hl(L,B),L.return=j,L)}function H(j,L,B,ie){return L===null||L.tag!==4||L.stateNode.containerInfo!==B.containerInfo||L.stateNode.implementation!==B.implementation?(L=Bf(B,j.mode,ie),L.return=j,L):(L=f(L,B.children||[]),L.return=j,L)}function Z(j,L,B,ie,Ee){return L===null||L.tag!==7?(L=Pa(B,j.mode,ie,Ee),L.return=j,L):(L=f(L,B),L.return=j,L)}function ae(j,L,B){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=zf(""+L,j.mode,B),L.return=j,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return B=sc(L.type,L.key,L.props,null,j.mode,B),hl(B,L),B.return=j,B;case F:return L=Bf(L,j.mode,B),L.return=j,L;case x:return L=Ba(L),ae(j,L,B)}if(Fe(L)||O(L))return L=Pa(L,j.mode,B,null),L.return=j,L;if(typeof L.then=="function")return ae(j,dc(L),B);if(L.$$typeof===$)return ae(j,uc(j,L),B);mc(j,L)}return null}function G(j,L,B,ie){var Ee=L!==null?L.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Ee!==null?null:b(j,L,""+B,ie);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===Ee?D(j,L,B,ie):null;case F:return B.key===Ee?H(j,L,B,ie):null;case x:return B=Ba(B),G(j,L,B,ie)}if(Fe(B)||O(B))return Ee!==null?null:Z(j,L,B,ie,null);if(typeof B.then=="function")return G(j,L,dc(B),ie);if(B.$$typeof===$)return G(j,L,uc(j,B),ie);mc(j,B)}return null}function K(j,L,B,ie,Ee){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return j=j.get(B)||null,b(L,j,""+ie,Ee);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case k:return j=j.get(ie.key===null?B:ie.key)||null,D(L,j,ie,Ee);case F:return j=j.get(ie.key===null?B:ie.key)||null,H(L,j,ie,Ee);case x:return ie=Ba(ie),K(j,L,B,ie,Ee)}if(Fe(ie)||O(ie))return j=j.get(B)||null,Z(L,j,ie,Ee,null);if(typeof ie.then=="function")return K(j,L,B,dc(ie),Ee);if(ie.$$typeof===$)return K(j,L,B,uc(L,ie),Ee);mc(L,ie)}return null}function pe(j,L,B,ie){for(var Ee=null,Ye=null,_e=L,Ve=L=0,je=null;_e!==null&&Ve<B.length;Ve++){_e.index>Ve?(je=_e,_e=null):je=_e.sibling;var $e=G(j,_e,B[Ve],ie);if($e===null){_e===null&&(_e=je);break}t&&_e&&$e.alternate===null&&r(j,_e),L=d($e,L,Ve),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e,_e=je}if(Ve===B.length)return s(j,_e),qe&&Qi(j,Ve),Ee;if(_e===null){for(;Ve<B.length;Ve++)_e=ae(j,B[Ve],ie),_e!==null&&(L=d(_e,L,Ve),Ye===null?Ee=_e:Ye.sibling=_e,Ye=_e);return qe&&Qi(j,Ve),Ee}for(_e=l(_e);Ve<B.length;Ve++)je=K(_e,j,Ve,B[Ve],ie),je!==null&&(t&&je.alternate!==null&&_e.delete(je.key===null?Ve:je.key),L=d(je,L,Ve),Ye===null?Ee=je:Ye.sibling=je,Ye=je);return t&&_e.forEach(function(Zr){return r(j,Zr)}),qe&&Qi(j,Ve),Ee}function we(j,L,B,ie){if(B==null)throw Error(a(151));for(var Ee=null,Ye=null,_e=L,Ve=L=0,je=null,$e=B.next();_e!==null&&!$e.done;Ve++,$e=B.next()){_e.index>Ve?(je=_e,_e=null):je=_e.sibling;var Zr=G(j,_e,$e.value,ie);if(Zr===null){_e===null&&(_e=je);break}t&&_e&&Zr.alternate===null&&r(j,_e),L=d(Zr,L,Ve),Ye===null?Ee=Zr:Ye.sibling=Zr,Ye=Zr,_e=je}if($e.done)return s(j,_e),qe&&Qi(j,Ve),Ee;if(_e===null){for(;!$e.done;Ve++,$e=B.next())$e=ae(j,$e.value,ie),$e!==null&&(L=d($e,L,Ve),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e);return qe&&Qi(j,Ve),Ee}for(_e=l(_e);!$e.done;Ve++,$e=B.next())$e=K(_e,j,Ve,$e.value,ie),$e!==null&&(t&&$e.alternate!==null&&_e.delete($e.key===null?Ve:$e.key),L=d($e,L,Ve),Ye===null?Ee=$e:Ye.sibling=$e,Ye=$e);return t&&_e.forEach(function(gS){return r(j,gS)}),qe&&Qi(j,Ve),Ee}function at(j,L,B,ie){if(typeof B=="object"&&B!==null&&B.type===W&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:e:{for(var Ee=B.key;L!==null;){if(L.key===Ee){if(Ee=B.type,Ee===W){if(L.tag===7){s(j,L.sibling),ie=f(L,B.props.children),ie.return=j,j=ie;break e}}else if(L.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&Ba(Ee)===L.type){s(j,L.sibling),ie=f(L,B.props),hl(ie,B),ie.return=j,j=ie;break e}s(j,L);break}else r(j,L);L=L.sibling}B.type===W?(ie=Pa(B.props.children,j.mode,ie,B.key),ie.return=j,j=ie):(ie=sc(B.type,B.key,B.props,null,j.mode,ie),hl(ie,B),ie.return=j,j=ie)}return _(j);case F:e:{for(Ee=B.key;L!==null;){if(L.key===Ee)if(L.tag===4&&L.stateNode.containerInfo===B.containerInfo&&L.stateNode.implementation===B.implementation){s(j,L.sibling),ie=f(L,B.children||[]),ie.return=j,j=ie;break e}else{s(j,L);break}else r(j,L);L=L.sibling}ie=Bf(B,j.mode,ie),ie.return=j,j=ie}return _(j);case x:return B=Ba(B),at(j,L,B,ie)}if(Fe(B))return pe(j,L,B,ie);if(O(B)){if(Ee=O(B),typeof Ee!="function")throw Error(a(150));return B=Ee.call(B),we(j,L,B,ie)}if(typeof B.then=="function")return at(j,L,dc(B),ie);if(B.$$typeof===$)return at(j,L,uc(j,B),ie);mc(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,L!==null&&L.tag===6?(s(j,L.sibling),ie=f(L,B),ie.return=j,j=ie):(s(j,L),ie=zf(B,j.mode,ie),ie.return=j,j=ie),_(j)):s(j,L)}return function(j,L,B,ie){try{cl=0;var Ee=at(j,L,B,ie);return js=null,Ee}catch(_e){if(_e===Us||_e===hc)throw _e;var Ye=Sn(29,_e,null,j.mode);return Ye.lanes=ie,Ye.return=j,Ye}}}var qa=Zg(!0),ey=Zg(!1),Pr=!1;function Zf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ed(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,s){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ac(t),Lg(t,null,s),r}return rc(t,l,r,s),ac(t)}function fl(t,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,jo(t,s)}}function td(t,r){var s=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,s=s.next}while(s!==null);d===null?f=d=r:d=d.next=r}else f=d=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=r:t.next=r,s.lastBaseUpdate=r}var nd=!1;function dl(){if(nd){var t=Ls;if(t!==null)throw t}}function ml(t,r,s,l){nd=!1;var f=t.updateQueue;Pr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var D=b,H=D.next;D.next=null,_===null?d=H:_.next=H,_=D;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,b=Z.lastBaseUpdate,b!==_&&(b===null?Z.firstBaseUpdate=H:b.next=H,Z.lastBaseUpdate=D))}if(d!==null){var ae=f.baseState;_=0,Z=H=D=null,b=d;do{var G=b.lane&-536870913,K=G!==b.lane;if(K?(Ue&G)===G:(l&G)===G){G!==0&&G===Ps&&(nd=!0),Z!==null&&(Z=Z.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var pe=t,we=b;G=r;var at=s;switch(we.tag){case 1:if(pe=we.payload,typeof pe=="function"){ae=pe.call(at,ae,G);break e}ae=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=we.payload,G=typeof pe=="function"?pe.call(at,ae,G):pe,G==null)break e;ae=T({},ae,G);break e;case 2:Pr=!0}}G=b.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Z===null?(H=Z=K,D=ae):Z=Z.next=K,_|=G;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Z===null&&(D=ae),f.baseState=D,f.firstBaseUpdate=H,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),qr|=_,t.lanes=_,t.memoizedState=ae}}function ty(t,r){if(typeof t!="function")throw Error(a(191,t));t.call(r)}function ny(t,r){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)ty(s[t],r)}var zs=P(null),pc=P(0);function iy(t,r){t=ar,ue(pc,t),ue(zs,r),ar=t|r.baseLanes}function id(){ue(pc,ar),ue(zs,zs.current)}function rd(){ar=pc.current,ee(zs),ee(pc)}var An=P(null),Bn=null;function jr(t){var r=t.alternate;ue(bt,bt.current&1),ue(An,t),Bn===null&&(r===null||zs.current!==null||r.memoizedState!==null)&&(Bn=t)}function ad(t){ue(bt,bt.current),ue(An,t),Bn===null&&(Bn=t)}function ry(t){t.tag===22?(ue(bt,bt.current),ue(An,t),Bn===null&&(Bn=t)):zr()}function zr(){ue(bt,bt.current),ue(An,An.current)}function xn(t){ee(An),Bn===t&&(Bn=null),ee(bt)}var bt=P(0);function gc(t){for(var r=t;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||hm(s)||fm(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Wi=0,Me=null,it=null,Dt=null,yc=!1,Bs=!1,Fa=!1,_c=0,pl=0,Hs=null,sw=0;function _t(){throw Error(a(321))}function sd(t,r){if(r===null)return!1;for(var s=0;s<r.length&&s<t.length;s++)if(!wn(t[s],r[s]))return!1;return!0}function od(t,r,s,l,f,d){return Wi=d,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?By:bd,Fa=!1,d=s(l,f),Fa=!1,Bs&&(d=sy(r,s,l,f)),ay(t),d}function ay(t){Y.H=_l;var r=it!==null&&it.next!==null;if(Wi=0,Dt=it=Me=null,yc=!1,pl=0,Hs=null,r)throw Error(a(300));t===null||Mt||(t=t.dependencies,t!==null&&lc(t)&&(Mt=!0))}function sy(t,r,s,l){Me=t;var f=0;do{if(Bs&&(Hs=null),pl=0,Bs=!1,25<=f)throw Error(a(301));if(f+=1,Dt=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Hy,d=r(s,l)}while(Bs);return d}function ow(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?gl(r):r,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Me.flags|=1024),r}function ld(){var t=_c!==0;return _c=0,t}function ud(t,r,s){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~s}function cd(t){if(yc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}yc=!1}Wi=0,Dt=it=Me=null,Bs=!1,pl=_c=0,Hs=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Me.memoizedState=Dt=t:Dt=Dt.next=t,Dt}function wt(){if(it===null){var t=Me.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var r=Dt===null?Me.memoizedState:Dt.next;if(r!==null)Dt=r,it=t;else{if(t===null)throw Me.alternate===null?Error(a(467)):Error(a(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},Dt===null?Me.memoizedState=Dt=t:Dt=Dt.next=t}return Dt}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(t){var r=pl;return pl+=1,Hs===null&&(Hs=[]),t=Xg(Hs,t,r),r=Me,(Dt===null?r.memoizedState:Dt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?By:bd),t}function Ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return gl(t);if(t.$$typeof===$)return Xt(t)}throw Error(a(438,String(t)))}function hd(t){var r=null,s=Me.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=vc(),Me.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(t),l=0;l<t;l++)s[l]=M;return r.index++,s}function Ji(t,r){return typeof r=="function"?r(t):r}function Tc(t){var r=wt();return fd(r,it,t)}function fd(t,r,s){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var b=_=null,D=null,H=r,Z=!1;do{var ae=H.lane&-536870913;if(ae!==H.lane?(Ue&ae)===ae:(Wi&ae)===ae){var G=H.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),ae===Ps&&(Z=!0);else if((Wi&G)===G){H=H.next,G===Ps&&(Z=!0);continue}else ae={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=ae,_=d):D=D.next=ae,Me.lanes|=G,qr|=G;ae=H.action,Fa&&s(d,ae),d=H.hasEagerState?H.eagerState:s(d,ae)}else G={lane:ae,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(b=D=G,_=d):D=D.next=G,Me.lanes|=ae,qr|=ae;H=H.next}while(H!==null&&H!==r);if(D===null?_=d:D.next=b,!wn(d,t.memoizedState)&&(Mt=!0,Z&&(s=Ls,s!==null)))throw s;t.memoizedState=d,t.baseState=_,t.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function dd(t){var r=wt(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var l=s.dispatch,f=s.pending,d=r.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);wn(d,r.memoizedState)||(Mt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),s.lastRenderedState=d}return[d,l]}function oy(t,r,s){var l=Me,f=wt(),d=qe;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=r();var _=!wn((it||f).memoizedState,s);if(_&&(f.memoizedState=s,Mt=!0),f=f.queue,gd(cy.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,qs(9,{destroy:void 0},uy.bind(null,l,f,s,r),null),ot===null)throw Error(a(349));d||(Wi&127)!==0||ly(l,r,s)}return s}function ly(t,r,s){t.flags|=16384,t={getSnapshot:r,value:s},r=Me.updateQueue,r===null?(r=vc(),Me.updateQueue=r,r.stores=[t]):(s=r.stores,s===null?r.stores=[t]:s.push(t))}function uy(t,r,s,l){r.value=s,r.getSnapshot=l,hy(r)&&fy(t)}function cy(t,r,s){return s(function(){hy(r)&&fy(t)})}function hy(t){var r=t.getSnapshot;t=t.value;try{var s=r();return!wn(t,s)}catch(l){return!0}}function fy(t){var r=Va(t,2);r!==null&&_n(r,t,2)}function md(t){var r=cn();if(typeof t=="function"){var s=t;if(t=s(),Fa){Dn(!0);try{s()}finally{Dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:t},r}function dy(t,r,s,l){return t.baseState=s,fd(t,it,typeof l=="function"?l:Ji)}function lw(t,r,s,l,f){if(Sc(t))throw Error(a(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Y.T!==null?s(!0):d.isTransition=!1,l(d),s=r.pending,s===null?(d.next=r.pending=d,my(r,d)):(d.next=s.next,r.pending=s.next=d)}}function my(t,r){var s=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=Y.T,_={};Y.T=_;try{var b=s(f,l),D=Y.S;D!==null&&D(_,b),py(t,r,b)}catch(H){pd(t,r,H)}finally{d!==null&&_.types!==null&&(d.types=_.types),Y.T=d}}else try{d=s(f,l),py(t,r,d)}catch(H){pd(t,r,H)}}function py(t,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){gy(t,r,l)},function(l){return pd(t,r,l)}):gy(t,r,s)}function gy(t,r,s){r.status="fulfilled",r.value=s,yy(r),t.state=s,r=t.pending,r!==null&&(s=r.next,s===r?t.pending=null:(s=s.next,r.next=s,my(t,s)))}function pd(t,r,s){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,yy(r),r=r.next;while(r!==l)}t.action=null}function yy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function _y(t,r){return r}function vy(t,r){if(qe){var s=ot.formState;if(s!==null){e:{var l=Me;if(qe){if(lt){t:{for(var f=lt,d=zn;f.nodeType!==8;){if(!d){f=null;break t}if(f=Hn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){lt=Hn(f.nextSibling),l=f.data==="F!";break e}}kr(l)}l=!1}l&&(r=s[0])}}return s=cn(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:r},s.queue=l,s=Uy.bind(null,Me,l),l.dispatch=s,l=md(!1),d=Td.bind(null,Me,!1,l.queue),l=cn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,s=lw.bind(null,Me,f,d,s),f.dispatch=s,l.memoizedState=t,[r,s,!1]}function Ey(t){var r=wt();return Ty(r,it,t)}function Ty(t,r,s){if(r=fd(t,r,_y)[0],t=Tc(Ji)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=gl(r)}catch(_){throw _===Us?hc:_}else l=r;r=wt();var f=r.queue,d=f.dispatch;return s!==r.memoizedState&&(Me.flags|=2048,qs(9,{destroy:void 0},uw.bind(null,f,s),null)),[l,d,t]}function uw(t,r){t.action=r}function by(t){var r=wt(),s=it;if(s!==null)return Ty(r,s,t);wt(),r=r.memoizedState,s=wt();var l=s.queue.dispatch;return s.memoizedState=t,[r,l,!1]}function qs(t,r,s,l){return t={tag:t,create:s,deps:l,inst:r,next:null},r=Me.updateQueue,r===null&&(r=vc(),Me.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=t.next=t:(l=s.next,s.next=t,t.next=l,r.lastEffect=t),t}function wy(){return wt().memoizedState}function bc(t,r,s,l){var f=cn();Me.flags|=t,f.memoizedState=qs(1|r,{destroy:void 0},s,l===void 0?null:l)}function wc(t,r,s,l){var f=wt();l=l===void 0?null:l;var d=f.memoizedState.inst;it!==null&&l!==null&&sd(l,it.memoizedState.deps)?f.memoizedState=qs(r,d,s,l):(Me.flags|=t,f.memoizedState=qs(1|r,d,s,l))}function Sy(t,r){bc(8390656,8,t,r)}function gd(t,r){wc(2048,8,t,r)}function cw(t){Me.flags|=4;var r=Me.updateQueue;if(r===null)r=vc(),Me.updateQueue=r,r.events=[t];else{var s=r.events;s===null?r.events=[t]:s.push(t)}}function Ay(t){var r=wt().memoizedState;return cw({ref:r,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function xy(t,r){return wc(4,2,t,r)}function Ry(t,r){return wc(4,4,t,r)}function Cy(t,r){if(typeof r=="function"){t=t();var s=r(t);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ny(t,r,s){s=s!=null?s.concat([t]):null,wc(4,4,Cy.bind(null,r,t),s)}function yd(){}function Iy(t,r){var s=wt();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&sd(r,l[1])?l[0]:(s.memoizedState=[t,r],t)}function Dy(t,r){var s=wt();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&sd(r,l[1]))return l[0];if(l=t(),Fa){Dn(!0);try{t()}finally{Dn(!1)}}return s.memoizedState=[l,r],l}function _d(t,r,s){return s===void 0||(Wi&1073741824)!==0&&(Ue&261930)===0?t.memoizedState=r:(t.memoizedState=s,t=M0(),Me.lanes|=t,qr|=t,s)}function My(t,r,s,l){return wn(s,r)?s:zs.current!==null?(t=_d(t,s,l),wn(t,r)||(Mt=!0),t):(Wi&42)===0||(Wi&1073741824)!==0&&(Ue&261930)===0?(Mt=!0,t.memoizedState=s):(t=M0(),Me.lanes|=t,qr|=t,r)}function Oy(t,r,s,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var _=Y.T,b={};Y.T=b,Td(t,!1,r,s);try{var D=f(),H=Y.S;if(H!==null&&H(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=aw(D,l);yl(t,r,Z,Nn(t))}else yl(t,r,l,Nn(t))}catch(ae){yl(t,r,{then:function(){},status:"rejected",reason:ae},Nn())}finally{le.p=d,_!==null&&b.types!==null&&(_.types=b.types),Y.T=_}}function hw(){}function vd(t,r,s,l){if(t.tag!==5)throw Error(a(476));var f=ky(t).queue;Oy(t,f,r,ge,s===null?hw:function(){return Vy(t),s(l)})}function ky(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:ge},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Vy(t){var r=ky(t);r.next===null&&(r=t.alternate.memoizedState),yl(t,r.next.queue,{},Nn())}function Ed(){return Xt(kl)}function Py(){return wt().memoizedState}function Ly(){return wt().memoizedState}function fw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var s=Nn();t=Lr(s);var l=Ur(r,t,s);l!==null&&(_n(l,r,s),fl(l,r,s)),r={cache:Kf()},t.payload=r;return}r=r.return}}function dw(t,r,s){var l=Nn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Sc(t)?jy(r,s):(s=Uf(t,r,s,l),s!==null&&(_n(s,t,l),zy(s,r,l)))}function Uy(t,r,s){var l=Nn();yl(t,r,s,l)}function yl(t,r,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))jy(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,b=d(_,s);if(f.hasEagerState=!0,f.eagerState=b,wn(b,_))return rc(t,r,f,0),ot===null&&ic(),!1}catch(D){}if(s=Uf(t,r,f,l),s!==null)return _n(s,t,l),zy(s,r,l),!0}return!1}function Td(t,r,s,l){if(l={lane:2,revertLane:Zd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(r)throw Error(a(479))}else r=Uf(t,s,l,2),r!==null&&_n(r,t,2)}function Sc(t){var r=t.alternate;return t===Me||r!==null&&r===Me}function jy(t,r){Bs=yc=!0;var s=t.pending;s===null?r.next=r:(r.next=s.next,s.next=r),t.pending=r}function zy(t,r,s){if((s&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,s|=l,r.lanes=s,jo(t,s)}}var _l={readContext:Xt,use:Ec,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};_l.useEffectEvent=_t;var By={readContext:Xt,use:Ec,useCallback:function(t,r){return cn().memoizedState=[t,r===void 0?null:r],t},useContext:Xt,useEffect:Sy,useImperativeHandle:function(t,r,s){s=s!=null?s.concat([t]):null,bc(4194308,4,Cy.bind(null,r,t),s)},useLayoutEffect:function(t,r){return bc(4194308,4,t,r)},useInsertionEffect:function(t,r){bc(4,2,t,r)},useMemo:function(t,r){var s=cn();r=r===void 0?null:r;var l=t();if(Fa){Dn(!0);try{t()}finally{Dn(!1)}}return s.memoizedState=[l,r],l},useReducer:function(t,r,s){var l=cn();if(s!==void 0){var f=s(r);if(Fa){Dn(!0);try{s(r)}finally{Dn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=dw.bind(null,Me,t),[l.memoizedState,t]},useRef:function(t){var r=cn();return t={current:t},r.memoizedState=t},useState:function(t){t=md(t);var r=t.queue,s=Uy.bind(null,Me,r);return r.dispatch=s,[t.memoizedState,s]},useDebugValue:yd,useDeferredValue:function(t,r){var s=cn();return _d(s,t,r)},useTransition:function(){var t=md(!1);return t=Oy.bind(null,Me,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,s){var l=Me,f=cn();if(qe){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),ot===null)throw Error(a(349));(Ue&127)!==0||ly(l,r,s)}f.memoizedState=s;var d={value:s,getSnapshot:r};return f.queue=d,Sy(cy.bind(null,l,d,t),[t]),l.flags|=2048,qs(9,{destroy:void 0},uy.bind(null,l,d,s,r),null),s},useId:function(){var t=cn(),r=ot.identifierPrefix;if(qe){var s=Mi,l=Di;s=(l&~(1<<32-Et(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=_c++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=sw++,r="_"+r+"r_"+s.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Ed,useFormState:vy,useActionState:vy,useOptimistic:function(t){var r=cn();r.memoizedState=r.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Td.bind(null,Me,!0,s),s.dispatch=r,[t,r]},useMemoCache:hd,useCacheRefresh:function(){return cn().memoizedState=fw.bind(null,Me)},useEffectEvent:function(t){var r=cn(),s={impl:t};return r.memoizedState=s,function(){if((Ke&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},bd={readContext:Xt,use:Ec,useCallback:Iy,useContext:Xt,useEffect:gd,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Ry,useMemo:Dy,useReducer:Tc,useRef:wy,useState:function(){return Tc(Ji)},useDebugValue:yd,useDeferredValue:function(t,r){var s=wt();return My(s,it.memoizedState,t,r)},useTransition:function(){var t=Tc(Ji)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:oy,useId:Py,useHostTransitionStatus:Ed,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,r){var s=wt();return dy(s,it,t,r)},useMemoCache:hd,useCacheRefresh:Ly};bd.useEffectEvent=Ay;var Hy={readContext:Xt,use:Ec,useCallback:Iy,useContext:Xt,useEffect:gd,useImperativeHandle:Ny,useInsertionEffect:xy,useLayoutEffect:Ry,useMemo:Dy,useReducer:dd,useRef:wy,useState:function(){return dd(Ji)},useDebugValue:yd,useDeferredValue:function(t,r){var s=wt();return it===null?_d(s,t,r):My(s,it.memoizedState,t,r)},useTransition:function(){var t=dd(Ji)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:gl(t),r]},useSyncExternalStore:oy,useId:Py,useHostTransitionStatus:Ed,useFormState:by,useActionState:by,useOptimistic:function(t,r){var s=wt();return it!==null?dy(s,it,t,r):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:hd,useCacheRefresh:Ly};Hy.useEffectEvent=Ay;function wd(t,r,s,l){r=t.memoizedState,s=s(l,r),s=s==null?r:T({},r,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Sd={enqueueSetState:function(t,r,s){t=t._reactInternals;var l=Nn(),f=Lr(l);f.payload=r,s!=null&&(f.callback=s),r=Ur(t,f,l),r!==null&&(_n(r,t,l),fl(r,t,l))},enqueueReplaceState:function(t,r,s){t=t._reactInternals;var l=Nn(),f=Lr(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=Ur(t,f,l),r!==null&&(_n(r,t,l),fl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var s=Nn(),l=Lr(s);l.tag=2,r!=null&&(l.callback=r),r=Ur(t,l,s),r!==null&&(_n(r,t,s),fl(r,t,s))}};function qy(t,r,s,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!rl(s,l)||!rl(f,d):!0}function Fy(t,r,s,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==t&&Sd.enqueueReplaceState(r,r.state,null)}function Ga(t,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(t=t.defaultProps){s===r&&(s=T({},s));for(var f in t)s[f]===void 0&&(s[f]=t[f])}return s}function Gy(t){nc(t)}function Yy(t){console.error(t)}function $y(t){nc(t)}function Ac(t,r){try{var s=t.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Qy(t,r,s){try{var l=t.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ad(t,r,s){return s=Lr(s),s.tag=3,s.payload={element:null},s.callback=function(){Ac(t,r)},s}function Ky(t){return t=Lr(t),t.tag=3,t}function Xy(t,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){Qy(r,s,l)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Qy(r,s,l),typeof f!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function mw(t,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Vs(r,s,f,!0),s=An.current,s!==null){switch(s.tag){case 31:case 13:return Bn===null?Lc():s.alternate===null&&vt===0&&(vt=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===fc?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),Xd(t,l,f)),!1;case 22:return s.flags|=65536,l===fc?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),Xd(t,l,f)),!1}throw Error(a(435,s.tag))}return Xd(t,l,f),Lc(),!1}if(qe)return r=An.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Ff&&(t=Error(a(422),{cause:l}),ol(Ln(t,s)))):(l!==Ff&&(r=Error(a(423),{cause:l}),ol(Ln(r,s))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Ln(l,s),f=Ad(t.stateNode,l,f),td(t,f),vt!==4&&(vt=2)),!1;var d=Error(a(520),{cause:l});if(d=Ln(d,s),xl===null?xl=[d]:xl.push(d),vt!==4&&(vt=2),r===null)return!0;l=Ln(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,t=f&-f,s.lanes|=t,t=Ad(s.stateNode,l,t),td(s,t),!1;case 1:if(r=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Ky(f),Xy(f,t,s,l),td(s,f),!1}s=s.return}while(s!==null);return!1}var xd=Error(a(461)),Mt=!1;function Wt(t,r,s,l){r.child=t===null?ey(r,null,s,l):qa(r,t.child,s,l)}function Wy(t,r,s,l,f){s=s.render;var d=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return ja(r),l=od(t,r,s,_,d,f),b=ld(),t!==null&&!Mt?(ud(t,r,f),Zi(t,r,f)):(qe&&b&&Hf(r),r.flags|=1,Wt(t,r,l,f),r.child)}function Jy(t,r,s,l,f){if(t===null){var d=s.type;return typeof d=="function"&&!jf(d)&&d.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=d,Zy(t,r,d,l,f)):(t=sc(s.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!kd(t,f)){var _=d.memoizedProps;if(s=s.compare,s=s!==null?s:rl,s(_,l)&&t.ref===r.ref)return Zi(t,r,f)}return r.flags|=1,t=$i(d,l),t.ref=r.ref,t.return=r,r.child=t}function Zy(t,r,s,l,f){if(t!==null){var d=t.memoizedProps;if(rl(d,l)&&t.ref===r.ref)if(Mt=!1,r.pendingProps=l=d,kd(t,f))(t.flags&131072)!==0&&(Mt=!0);else return r.lanes=t.lanes,Zi(t,r,f)}return Rd(t,r,s,l,f)}function e0(t,r,s,l){var f=l.children,d=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,t!==null){for(l=r.child=t.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,r.child=null;return t0(t,r,d,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&cc(r,d!==null?d.cachePool:null),d!==null?iy(r,d):id(),ry(r);else return l=r.lanes=536870912,t0(t,r,d!==null?d.baseLanes|s:s,s,l)}else d!==null?(cc(r,d.cachePool),iy(r,d),zr(),r.memoizedState=null):(t!==null&&cc(r,null),id(),zr());return Wt(t,r,f,s),r.child}function vl(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function t0(t,r,s,l,f){var d=Wf();return d=d===null?null:{parent:It._currentValue,pool:d},r.memoizedState={baseLanes:s,cachePool:d},t!==null&&cc(r,null),id(),ry(r),t!==null&&Vs(t,r,l,!0),r.childLanes=f,null}function xc(t,r){return r=Cc({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function n0(t,r,s){return qa(r,t.child,null,s),t=xc(r,r.pendingProps),t.flags|=2,xn(r),r.memoizedState=null,t}function pw(t,r,s){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(qe){if(l.mode==="hidden")return t=xc(r,l),r.lanes=536870912,vl(null,t);if(ad(r),(t=lt)?(t=m_(t,zn),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=r,r.child=s,Kt=r,lt=null)):t=null,t===null)throw kr(r);return r.lanes=536870912,null}return xc(r,l)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(ad(r),f)if(r.flags&256)r.flags&=-257,r=n0(t,r,s);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(a(558));else if(Mt||Vs(t,r,s,!1),f=(s&t.childLanes)!==0,Mt||f){if(l=ot,l!==null&&(_=zo(l,s),_!==0&&_!==d.retryLane))throw d.retryLane=_,Va(t,_),_n(l,t,_),xd;Lc(),r=n0(t,r,s)}else t=d.treeContext,lt=Hn(_.nextSibling),Kt=r,qe=!0,Or=null,zn=!1,t!==null&&Hg(r,t),r=xc(r,l),r.flags|=4096;return r}return t=$i(t.child,{mode:l.mode,children:l.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Rc(t,r){var s=r.ref;if(s===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(r.flags|=4194816)}}function Rd(t,r,s,l,f){return ja(r),s=od(t,r,s,l,void 0,f),l=ld(),t!==null&&!Mt?(ud(t,r,f),Zi(t,r,f)):(qe&&l&&Hf(r),r.flags|=1,Wt(t,r,s,f),r.child)}function i0(t,r,s,l,f,d){return ja(r),r.updateQueue=null,s=sy(r,l,s,f),ay(t),l=ld(),t!==null&&!Mt?(ud(t,r,d),Zi(t,r,d)):(qe&&l&&Hf(r),r.flags|=1,Wt(t,r,s,d),r.child)}function r0(t,r,s,l,f){if(ja(r),r.stateNode===null){var d=Ds,_=s.contextType;typeof _=="object"&&_!==null&&(d=Xt(_)),d=new s(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Zf(r),_=s.contextType,d.context=typeof _=="object"&&_!==null?Xt(_):Ds,d.state=r.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(wd(r,s,_,l),d.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Sd.enqueueReplaceState(d,d.state,null),ml(r,l,d,f),dl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,D=Ga(s,b);d.props=D;var H=d.context,Z=s.contextType;_=Ds,typeof Z=="object"&&Z!==null&&(_=Xt(Z));var ae=s.getDerivedStateFromProps;Z=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==_)&&Fy(r,d,l,_),Pr=!1;var G=r.memoizedState;d.state=G,ml(r,l,d,f),dl(),H=r.memoizedState,b||G!==H||Pr?(typeof ae=="function"&&(wd(r,s,ae,l),H=r.memoizedState),(D=Pr||qy(r,s,D,l,G,H,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,ed(t,r),_=r.memoizedProps,Z=Ga(s,_),d.props=Z,ae=r.pendingProps,G=d.context,H=s.contextType,D=Ds,typeof H=="object"&&H!==null&&(D=Xt(H)),b=s.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ae||G!==D)&&Fy(r,d,l,D),Pr=!1,G=r.memoizedState,d.state=G,ml(r,l,d,f),dl();var K=r.memoizedState;_!==ae||G!==K||Pr||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof b=="function"&&(wd(r,s,b,l),K=r.memoizedState),(Z=Pr||qy(r,s,Z,l,G,K,D)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=D,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Rc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=qa(r,t.child,null,f),r.child=qa(r,null,s,f)):Wt(t,r,s,f),r.memoizedState=d.state,t=r.child):t=Zi(t,r,f),t}function a0(t,r,s,l){return La(),r.flags|=256,Wt(t,r,s,l),r.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:Qg()}}function Id(t,r,s){return t=t!==null?t.childLanes&~s:0,r&&(t|=Cn),t}function s0(t,r,s){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(f?jr(r):zr(),(t=lt)?(t=m_(t,zn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:Mr!==null?{id:Di,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},s=jg(t),s.return=r,r.child=s,Kt=r,lt=null)):t=null,t===null)throw kr(r);return fm(t)?r.lanes=32:r.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(zr(),f=r.mode,b=Cc({mode:"hidden",children:b},f),l=Pa(l,f,s,null),b.return=r,l.return=r,b.sibling=l,r.child=b,l=r.child,l.memoizedState=Nd(s),l.childLanes=Id(t,_,s),r.memoizedState=Cd,vl(null,l)):(jr(r),Dd(r,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)r.flags&256?(jr(r),r.flags&=-257,r=Md(t,r,s)):r.memoizedState!==null?(zr(),r.child=t.child,r.flags|=128,r=null):(zr(),b=l.fallback,f=r.mode,l=Cc({mode:"visible",children:l.children},f),b=Pa(b,f,s,null),b.flags|=2,l.return=r,b.return=r,l.sibling=b,r.child=l,qa(r,t.child,null,s),l=r.child,l.memoizedState=Nd(s),l.childLanes=Id(t,_,s),r.memoizedState=Cd,r=vl(null,l));else if(jr(r),fm(b)){if(_=b.nextSibling&&b.nextSibling.dataset,_)var H=_.dgst;_=H,l=Error(a(419)),l.stack="",l.digest=_,ol({value:l,source:null,stack:null}),r=Md(t,r,s)}else if(Mt||Vs(t,r,s,!1),_=(s&t.childLanes)!==0,Mt||_){if(_=ot,_!==null&&(l=zo(_,s),l!==0&&l!==D.retryLane))throw D.retryLane=l,Va(t,l),_n(_,t,l),xd;hm(b)||Lc(),r=Md(t,r,s)}else hm(b)?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,lt=Hn(b.nextSibling),Kt=r,qe=!0,Or=null,zn=!1,t!==null&&Hg(r,t),r=Dd(r,l.children),r.flags|=4096);return r}return f?(zr(),b=l.fallback,f=r.mode,D=t.child,H=D.sibling,l=$i(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?b=$i(H,b):(b=Pa(b,f,s,null),b.flags|=2),b.return=r,l.return=r,l.sibling=b,r.child=l,vl(null,l),l=r.child,b=t.child.memoizedState,b===null?b=Nd(s):(f=b.cachePool,f!==null?(D=It._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Qg(),b={baseLanes:b.baseLanes|s,cachePool:f}),l.memoizedState=b,l.childLanes=Id(t,_,s),r.memoizedState=Cd,vl(t.child,l)):(jr(r),s=t.child,t=s.sibling,s=$i(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=s,r.memoizedState=null,s)}function Dd(t,r){return r=Cc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Cc(t,r){return t=Sn(22,t,null,r),t.lanes=0,t}function Md(t,r,s){return qa(r,t.child,null,s),t=Dd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function o0(t,r,s){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),$f(t.return,r,s)}function Od(t,r,s,l,f,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=s,_.tailMode=f,_.treeForkCount=d)}function l0(t,r,s){var l=r.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=bt.current,b=(_&2)!==0;if(b?(_=_&1|2,r.flags|=128):_&=1,ue(bt,_),Wt(t,r,l,s),l=qe?sl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o0(t,s,r);else if(t.tag===19)o0(t,s,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(f){case"forwards":for(s=r.child,f=null;s!==null;)t=s.alternate,t!==null&&gc(t)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),Od(r,!1,f,s,d,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&gc(t)===null){r.child=f;break}t=f.sibling,f.sibling=s,s=f,f=t}Od(r,!0,s,null,d,l);break;case"together":Od(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function Zi(t,r,s){if(t!==null&&(r.dependencies=t.dependencies),qr|=r.lanes,(s&r.childLanes)===0)if(t!==null){if(Vs(t,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,s=$i(t,t.pendingProps),r.child=s,s.return=r;t.sibling!==null;)t=t.sibling,s=s.sibling=$i(t,t.pendingProps),s.return=r;s.sibling=null}return r.child}function kd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function gw(t,r,s){switch(r.tag){case 3:ht(r,r.stateNode.containerInfo),Vr(r,It,t.memoizedState.cache),La();break;case 27:case 5:En(r);break;case 4:ht(r,r.stateNode.containerInfo);break;case 10:Vr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,ad(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?s0(t,r,s):(jr(r),t=Zi(t,r,s),t!==null?t.sibling:null);jr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Vs(t,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return l0(t,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ue(bt,bt.current),l)break;return null;case 22:return r.lanes=0,e0(t,r,s,r.pendingProps);case 24:Vr(r,It,t.memoizedState.cache)}return Zi(t,r,s)}function u0(t,r,s){if(t!==null)if(t.memoizedProps!==r.pendingProps)Mt=!0;else{if(!kd(t,s)&&(r.flags&128)===0)return Mt=!1,gw(t,r,s);Mt=(t.flags&131072)!==0}else Mt=!1,qe&&(r.flags&1048576)!==0&&Bg(r,sl,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(t=Ba(r.elementType),r.type=t,typeof t=="function")jf(t)?(l=Ga(t,l),r.tag=1,r=r0(null,r,t,l,s)):(r.tag=0,r=Rd(null,r,t,l,s));else{if(t!=null){var f=t.$$typeof;if(f===re){r.tag=11,r=Wy(null,r,t,l,s);break e}else if(f===R){r.tag=14,r=Jy(null,r,t,l,s);break e}}throw r=Oe(t)||t,Error(a(306,r,""))}}return r;case 0:return Rd(t,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=Ga(l,r.pendingProps),r0(t,r,l,f,s);case 3:e:{if(ht(r,r.stateNode.containerInfo),t===null)throw Error(a(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,ed(t,r),ml(r,l,null,s);var _=r.memoizedState;if(l=_.cache,Vr(r,It,l),l!==d.cache&&Qf(r,[It],s,!0),dl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=a0(t,r,l,s);break e}else if(l!==f){f=Ln(Error(a(424)),r),ol(f),r=a0(t,r,l,s);break e}else for(t=r.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,lt=Hn(t.firstChild),Kt=r,qe=!0,Or=null,zn=!0,s=ey(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(La(),l===f){r=Zi(t,r,s);break e}Wt(t,r,l,s)}r=r.child}return r;case 26:return Rc(t,r),t===null?(s=E_(r.type,null,r.pendingProps,null))?r.memoizedState=s:qe||(s=r.type,t=r.pendingProps,l=Fc(me.current).createElement(s),l[Rt]=r,l[Ht]=t,Jt(l,s,t),Ct(l),r.stateNode=l):r.memoizedState=E_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return En(r),t===null&&qe&&(l=r.stateNode=y_(r.type,r.pendingProps,me.current),Kt=r,zn=!0,f=lt,Qr(r.type)?(dm=f,lt=Hn(l.firstChild)):lt=f),Wt(t,r,r.pendingProps.children,s),Rc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((f=l=lt)&&(l=Yw(l,r.type,r.pendingProps,zn),l!==null?(r.stateNode=l,Kt=r,lt=Hn(l.firstChild),zn=!1,f=!0):f=!1),f||kr(r)),En(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,lm(f,d)?l=null:_!==null&&lm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=od(t,r,ow,null,null,s),kl._currentValue=f),Rc(t,r),Wt(t,r,l,s),r.child;case 6:return t===null&&qe&&((t=s=lt)&&(s=$w(s,r.pendingProps,zn),s!==null?(r.stateNode=s,Kt=r,lt=null,t=!0):t=!1),t||kr(r)),null;case 13:return s0(t,r,s);case 4:return ht(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=qa(r,null,l,s):Wt(t,r,l,s),r.child;case 11:return Wy(t,r,r.type,r.pendingProps,s);case 7:return Wt(t,r,r.pendingProps,s),r.child;case 8:return Wt(t,r,r.pendingProps.children,s),r.child;case 12:return Wt(t,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,Vr(r,r.type,l.value),Wt(t,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ja(r),f=Xt(f),l=l(f),r.flags|=1,Wt(t,r,l,s),r.child;case 14:return Jy(t,r,r.type,r.pendingProps,s);case 15:return Zy(t,r,r.type,r.pendingProps,s);case 19:return l0(t,r,s);case 31:return pw(t,r,s);case 22:return e0(t,r,s,r.pendingProps);case 24:return ja(r),l=Xt(It),t===null?(f=Wf(),f===null&&(f=ot,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=s),f=d),r.memoizedState={parent:l,cache:f},Zf(r),Vr(r,It,f)):((t.lanes&s)!==0&&(ed(t,r),ml(r,null,null,s),dl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Vr(r,It,l)):(l=d.cache,Vr(r,It,l),l!==f.cache&&Qf(r,[It],s,!0))),Wt(t,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function er(t){t.flags|=4}function Vd(t,r,s,l,f){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(f&335544128)===f)if(t.stateNode.complete)t.flags|=8192;else if(P0())t.flags|=8192;else throw Ha=fc,Jf}else t.flags&=-16777217}function c0(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!A_(r))if(P0())t.flags|=8192;else throw Ha=fc,Jf}function Nc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Vu():536870912,t.lanes|=r,$s|=r)}function El(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,s=0,l=0;if(r)for(var f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=s,r}function yw(t,r,s){var l=r.pendingProps;switch(qf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return s=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Xi(It),st(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ks(r)?er(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Gf())),ut(r),null;case 26:var f=r.type,d=r.memoizedState;return t===null?(er(r),d!==null?(ut(r),c0(r,d)):(ut(r),Vd(r,f,null,l,s))):d?d!==t.memoizedState?(er(r),ut(r),c0(r,d)):(ut(r),r.flags&=-16777217):(t=t.memoizedProps,t!==l&&er(r),ut(r),Vd(r,f,t,l,s)),null;case 27:if(Er(r),s=me.current,f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ut(r),null}t=fe.current,ks(r)?qg(r):(t=y_(f,l,s),r.stateNode=t,er(r))}return ut(r),null;case 5:if(Er(r),f=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return ut(r),null}if(d=fe.current,ks(r))qg(r);else{var _=Fc(me.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[Rt]=r,d[Ht]=l;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=d;e:switch(Jt(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&er(r)}}return ut(r),Vd(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,s),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&er(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(t=me.current,ks(r)){if(t=r.stateNode,s=r.memoizedProps,l=null,f=Kt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Rt]=r,t=!!(t.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||s_(t.nodeValue,s)),t||kr(r,!0)}else t=Fc(t).createTextNode(l),t[Rt]=r,r.stateNode=t}return ut(r),null;case 31:if(s=r.memoizedState,t===null||t.memoizedState!==null){if(l=ks(r),s!==null){if(t===null){if(!l)throw Error(a(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Rt]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),t=!1}else s=Gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return r.flags&256?(xn(r),r):(xn(r),null);if((r.flags&128)!==0)throw Error(a(558))}return ut(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ks(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(a(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Rt]=r}else La(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=Gf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(xn(r),r):(xn(r),null)}return xn(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,t=t!==null&&t.memoizedState!==null,s&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),s!==t&&s&&(r.child.flags|=8192),Nc(r,r.updateQueue),ut(r),null);case 4:return st(),t===null&&im(r.stateNode.containerInfo),ut(r),null;case 10:return Xi(r.type),ut(r),null;case 19:if(ee(bt),l=r.memoizedState,l===null)return ut(r),null;if(f=(r.flags&128)!==0,d=l.rendering,d===null)if(f)El(l,!1);else{if(vt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=gc(t),d!==null){for(r.flags|=128,El(l,!1),t=d.updateQueue,r.updateQueue=t,Nc(r,t),r.subtreeFlags=0,t=s,s=r.child;s!==null;)Ug(s,t),s=s.sibling;return ue(bt,bt.current&1|2),qe&&Qi(r,l.treeForkCount),r.child}t=t.sibling}l.tail!==null&&ln()>kc&&(r.flags|=128,f=!0,El(l,!1),r.lanes=4194304)}else{if(!f)if(t=gc(d),t!==null){if(r.flags|=128,f=!0,t=t.updateQueue,r.updateQueue=t,Nc(r,t),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qe)return ut(r),null}else 2*ln()-l.renderingStartTime>kc&&s!==536870912&&(r.flags|=128,f=!0,El(l,!1),r.lanes=4194304);l.isBackwards?(d.sibling=r.child,r.child=d):(t=l.last,t!==null?t.sibling=d:r.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ln(),t.sibling=null,s=bt.current,ue(bt,f?s&1|2:s&1),qe&&Qi(r,l.treeForkCount),t):(ut(r),null);case 22:case 23:return xn(r),rd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),s=r.updateQueue,s!==null&&Nc(r,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),t!==null&&ee(za),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Xi(It),ut(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function _w(t,r){switch(qf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Xi(It),st(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Er(r),null;case 31:if(r.memoizedState!==null){if(xn(r),r.alternate===null)throw Error(a(340));La()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(xn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));La()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ee(bt),null;case 4:return st(),null;case 10:return Xi(r.type),null;case 22:case 23:return xn(r),rd(),t!==null&&ee(za),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Xi(It),null;case 25:return null;default:return null}}function h0(t,r){switch(qf(r),r.tag){case 3:Xi(It),st();break;case 26:case 27:case 5:Er(r);break;case 4:st();break;case 31:r.memoizedState!==null&&xn(r);break;case 13:xn(r);break;case 19:ee(bt);break;case 10:Xi(r.type);break;case 22:case 23:xn(r),rd(),t!==null&&ee(za);break;case 24:Xi(It)}}function Tl(t,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&t)===t){l=void 0;var d=s.create,_=s.inst;l=d(),_.destroy=l}s=s.next}while(s!==f)}}catch(b){Ze(r,r.return,b)}}function Br(t,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var D=s,H=b;try{H()}catch(Z){Ze(f,D,Z)}}}l=l.next}while(l!==d)}}catch(Z){Ze(r,r.return,Z)}}function f0(t){var r=t.updateQueue;if(r!==null){var s=t.stateNode;try{ny(r,s)}catch(l){Ze(t,t.return,l)}}}function d0(t,r,s){s.props=Ga(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(l){Ze(t,r,l)}}function bl(t,r){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof s=="function"?t.refCleanup=s(l):s.current=l}}catch(f){Ze(t,r,f)}}function Oi(t,r){var s=t.ref,l=t.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Ze(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Ze(t,r,f)}else s.current=null}function m0(t){var r=t.type,s=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Ze(t,t.return,f)}}function Pd(t,r,s){try{var l=t.stateNode;zw(l,t.type,s,r),l[Ht]=r}catch(f){Ze(t,t.return,f)}}function p0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Qr(t.type)||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||p0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Qr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(t),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Jn));else if(l!==4&&(l===27&&Qr(t.type)&&(s=t.stateNode,r=null),t=t.child,t!==null))for(Ud(t,r,s),t=t.sibling;t!==null;)Ud(t,r,s),t=t.sibling}function Ic(t,r,s){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?s.insertBefore(t,r):s.appendChild(t);else if(l!==4&&(l===27&&Qr(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Ic(t,r,s),t=t.sibling;t!==null;)Ic(t,r,s),t=t.sibling}function g0(t){var r=t.stateNode,s=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Jt(r,l,s),r[Rt]=t,r[Ht]=s}catch(d){Ze(t,t.return,d)}}var tr=!1,Ot=!1,jd=!1,y0=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function vw(t,r){if(t=t.containerInfo,sm=Wc,t=Ng(t),Mf(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch(we){s=null;break e}var _=0,b=-1,D=-1,H=0,Z=0,ae=t,G=null;t:for(;;){for(var K;ae!==s||f!==0&&ae.nodeType!==3||(b=_+f),ae!==d||l!==0&&ae.nodeType!==3||(D=_+l),ae.nodeType===3&&(_+=ae.nodeValue.length),(K=ae.firstChild)!==null;)G=ae,ae=K;for(;;){if(ae===t)break t;if(G===s&&++H===f&&(b=_),G===d&&++Z===l&&(D=_),(K=ae.nextSibling)!==null)break;ae=G,G=ae.parentNode}ae=K}s=b===-1||D===-1?null:{start:b,end:D}}else s=null}s=s||{start:0,end:0}}else s=null;for(om={focusedElem:t,selectionRange:s},Wc=!1,Ft=r;Ft!==null;)if(r=Ft,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Ft=t;else for(;Ft!==null;){switch(r=Ft,d=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)f=t[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,s=r,f=d.memoizedProps,d=d.memoizedState,l=s.stateNode;try{var pe=Ga(s.type,f);t=l.getSnapshotBeforeUpdate(pe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){Ze(s,s.return,we)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,s=t.nodeType,s===9)cm(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":cm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=r.sibling,t!==null){t.return=r.return,Ft=t;break}Ft=r.return}}function _0(t,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:ir(t,s),l&4&&Tl(5,s);break;case 1:if(ir(t,s),l&4)if(t=s.stateNode,r===null)try{t.componentDidMount()}catch(_){Ze(s,s.return,_)}else{var f=Ga(s.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ze(s,s.return,_)}}l&64&&f0(s),l&512&&bl(s,s.return);break;case 3:if(ir(t,s),l&64&&(t=s.updateQueue,t!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{ny(t,r)}catch(_){Ze(s,s.return,_)}}break;case 27:r===null&&l&4&&g0(s);case 26:case 5:ir(t,s),r===null&&l&4&&m0(s),l&512&&bl(s,s.return);break;case 12:ir(t,s);break;case 31:ir(t,s),l&4&&T0(t,s);break;case 13:ir(t,s),l&4&&b0(t,s),l&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=Cw.bind(null,s),Qw(t,s))));break;case 22:if(l=s.memoizedState!==null||tr,!l){r=r!==null&&r.memoizedState!==null||Ot,f=tr;var d=Ot;tr=l,(Ot=r)&&!d?rr(t,s,(s.subtreeFlags&8772)!==0):ir(t,s),tr=f,Ot=d}break;case 30:break;default:ir(t,s)}}function v0(t){var r=t.alternate;r!==null&&(t.alternate=null,v0(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ys(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var dt=null,mn=!1;function nr(t,r,s){for(s=s.child;s!==null;)E0(t,r,s),s=s.sibling}function E0(t,r,s){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Qn,s)}catch(d){}switch(s.tag){case 26:Ot||Oi(s,r),nr(t,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ot||Oi(s,r);var l=dt,f=mn;Qr(s.type)&&(dt=s.stateNode,mn=!1),nr(t,r,s),Dl(s.stateNode),dt=l,mn=f;break;case 5:Ot||Oi(s,r);case 6:if(l=dt,f=mn,dt=null,nr(t,r,s),dt=l,mn=f,dt!==null)if(mn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(s.stateNode)}catch(d){Ze(s,r,d)}else try{dt.removeChild(s.stateNode)}catch(d){Ze(s,r,d)}break;case 18:dt!==null&&(mn?(t=dt,f_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),to(t)):f_(dt,s.stateNode));break;case 4:l=dt,f=mn,dt=s.stateNode.containerInfo,mn=!0,nr(t,r,s),dt=l,mn=f;break;case 0:case 11:case 14:case 15:Br(2,s,r),Ot||Br(4,s,r),nr(t,r,s);break;case 1:Ot||(Oi(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&d0(s,r,l)),nr(t,r,s);break;case 21:nr(t,r,s);break;case 22:Ot=(l=Ot)||s.memoizedState!==null,nr(t,r,s),Ot=l;break;default:nr(t,r,s)}}function T0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(s){Ze(r,r.return,s)}}}function b0(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(s){Ze(r,r.return,s)}}function Ew(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new y0),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new y0),r;default:throw Error(a(435,t.tag))}}function Dc(t,r){var s=Ew(t);r.forEach(function(l){if(!s.has(l)){s.add(l);var f=Nw.bind(null,t,l);l.then(f,f)}})}function pn(t,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],d=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:if(Qr(b.type)){dt=b.stateNode,mn=!1;break e}break;case 5:dt=b.stateNode,mn=!1;break e;case 3:case 4:dt=b.stateNode.containerInfo,mn=!0;break e}b=b.return}if(dt===null)throw Error(a(160));E0(d,_,f),dt=null,mn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)w0(r,t),r=r.sibling}var ri=null;function w0(t,r){var s=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),l&4&&(Br(3,t,t.return),Tl(3,t),Br(5,t,t.return));break;case 1:pn(r,t),gn(t),l&512&&(Ot||s===null||Oi(s,s.return)),l&64&&tr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=ri;if(pn(r,t),gn(t),l&512&&(Ot||s===null||Oi(s,s.return)),l&4){var d=s!==null?s.memoizedState:null;if(l=t.memoizedState,s===null)if(l===null)if(t.stateNode===null){e:{l=t.type,s=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[vi]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Jt(d,l,s),d[Rt]=t,Ct(d),l=d;break e;case"link":var _=w_("link","href",f).get(l+(s.href||""));if(_){for(var b=0;b<_.length;b++)if(d=_[b],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(b,1);break t}}d=f.createElement(l),Jt(d,l,s),f.head.appendChild(d);break;case"meta":if(_=w_("meta","content",f).get(l+(s.content||""))){for(b=0;b<_.length;b++)if(d=_[b],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(b,1);break t}}d=f.createElement(l),Jt(d,l,s),f.head.appendChild(d);break;default:throw Error(a(468,l))}d[Rt]=t,Ct(d),l=d}t.stateNode=l}else S_(f,t.type,t.stateNode);else t.stateNode=b_(f,l,t.memoizedProps);else d!==l?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,l===null?S_(f,t.type,t.stateNode):b_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,s.memoizedProps)}break;case 27:pn(r,t),gn(t),l&512&&(Ot||s===null||Oi(s,s.return)),s!==null&&l&4&&Pd(t,t.memoizedProps,s.memoizedProps);break;case 5:if(pn(r,t),gn(t),l&512&&(Ot||s===null||Oi(s,s.return)),t.flags&32){f=t.stateNode;try{dn(f,"")}catch(pe){Ze(t,t.return,pe)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Pd(t,f,s!==null?s.memoizedProps:f)),l&1024&&(jd=!0);break;case 6:if(pn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,s=t.stateNode;try{s.nodeValue=l}catch(pe){Ze(t,t.return,pe)}}break;case 3:if($c=null,f=ri,ri=Gc(r.containerInfo),pn(r,t),ri=f,gn(t),l&4&&s!==null&&s.memoizedState.isDehydrated)try{to(r.containerInfo)}catch(pe){Ze(t,t.return,pe)}jd&&(jd=!1,S0(t));break;case 4:l=ri,ri=Gc(t.stateNode.containerInfo),pn(r,t),gn(t),ri=l;break;case 12:pn(r,t),gn(t);break;case 31:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Oc=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 22:f=t.memoizedState!==null;var D=s!==null&&s.memoizedState!==null,H=tr,Z=Ot;if(tr=H||f,Ot=Z||D,pn(r,t),Ot=Z,tr=H,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||D||tr||Ot||Ya(t)),s=null,r=t;;){if(r.tag===5||r.tag===26){if(s===null){D=s=r;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{b=D.stateNode;var ae=D.memoizedProps.style,G=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;b.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(pe){Ze(D,D.return,pe)}}}else if(r.tag===6){if(s===null){D=r;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(pe){Ze(D,D.return,pe)}}}else if(r.tag===18){if(s===null){D=r;try{var K=D.stateNode;f?d_(K,!0):d_(D.stateNode,!1)}catch(pe){Ze(D,D.return,pe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Dc(t,s))));break;case 19:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Dc(t,l)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var s,l=t.return;l!==null;){if(p0(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var f=s.stateNode,d=Ld(t);Ic(t,d,f);break;case 5:var _=s.stateNode;s.flags&32&&(dn(_,""),s.flags&=-33);var b=Ld(t);Ic(t,b,_);break;case 3:case 4:var D=s.stateNode.containerInfo,H=Ld(t);Ud(t,H,D);break;default:throw Error(a(161))}}catch(Z){Ze(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function S0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;S0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function ir(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)_0(t,r.alternate,r),r=r.sibling}function Ya(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Br(4,r,r.return),Ya(r);break;case 1:Oi(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&d0(r,r.return,s),Ya(r);break;case 27:Dl(r.stateNode);case 26:case 5:Oi(r,r.return),Ya(r);break;case 22:r.memoizedState===null&&Ya(r);break;case 30:Ya(r);break;default:Ya(r)}t=t.sibling}}function rr(t,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:rr(f,d,s),Tl(4,d);break;case 1:if(rr(f,d,s),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){Ze(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)ty(D[f],b)}catch(H){Ze(l,l.return,H)}}s&&_&64&&f0(d),bl(d,d.return);break;case 27:g0(d);case 26:case 5:rr(f,d,s),s&&l===null&&_&4&&m0(d),bl(d,d.return);break;case 12:rr(f,d,s);break;case 31:rr(f,d,s),s&&_&4&&T0(f,d);break;case 13:rr(f,d,s),s&&_&4&&b0(f,d);break;case 22:d.memoizedState===null&&rr(f,d,s),bl(d,d.return);break;case 30:break;default:rr(f,d,s)}r=r.sibling}}function zd(t,r){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&ll(s))}function Bd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t))}function ai(t,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A0(t,r,s,l),r=r.sibling}function A0(t,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:ai(t,r,s,l),f&2048&&Tl(9,r);break;case 1:ai(t,r,s,l);break;case 3:ai(t,r,s,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ll(t)));break;case 12:if(f&2048){ai(t,r,s,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,b=d.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(r,r.return,D)}}else ai(t,r,s,l);break;case 31:ai(t,r,s,l);break;case 13:ai(t,r,s,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?ai(t,r,s,l):wl(t,r):d._visibility&2?ai(t,r,s,l):(d._visibility|=2,Fs(t,r,s,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&zd(_,r);break;case 24:ai(t,r,s,l),f&2048&&Bd(r.alternate,r);break;default:ai(t,r,s,l)}}function Fs(t,r,s,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var d=t,_=r,b=s,D=l,H=_.flags;switch(_.tag){case 0:case 11:case 15:Fs(d,_,b,D,f),Tl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Fs(d,_,b,D,f):wl(d,_):(Z._visibility|=2,Fs(d,_,b,D,f)),f&&H&2048&&zd(_.alternate,_);break;case 24:Fs(d,_,b,D,f),f&&H&2048&&Bd(_.alternate,_);break;default:Fs(d,_,b,D,f)}r=r.sibling}}function wl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=t,l=r,f=l.flags;switch(l.tag){case 22:wl(s,l),f&2048&&zd(l.alternate,l);break;case 24:wl(s,l),f&2048&&Bd(l.alternate,l);break;default:wl(s,l)}r=r.sibling}}var Sl=8192;function Gs(t,r,s){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)x0(t,r,s),t=t.sibling}function x0(t,r,s){switch(t.tag){case 26:Gs(t,r,s),t.flags&Sl&&t.memoizedState!==null&&sS(s,ri,t.memoizedState,t.memoizedProps);break;case 5:Gs(t,r,s);break;case 3:case 4:var l=ri;ri=Gc(t.stateNode.containerInfo),Gs(t,r,s),ri=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Sl,Sl=16777216,Gs(t,r,s),Sl=l):Gs(t,r,s));break;default:Gs(t,r,s)}}function R0(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Al(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ft=l,N0(l,t)}R0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)C0(t),t=t.sibling}function C0(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Br(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Mc(t)):Al(t);break;default:Al(t)}}function Mc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];Ft=l,N0(l,t)}R0(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Br(8,r,r.return),Mc(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Mc(r));break;default:Mc(r)}t=t.sibling}}function N0(t,r){for(;Ft!==null;){var s=Ft;switch(s.tag){case 0:case 11:case 15:Br(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ll(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ft=l;else e:for(s=t;Ft!==null;){l=Ft;var f=l.sibling,d=l.return;if(v0(l),l===s){Ft=null;break e}if(f!==null){f.return=d,Ft=f;break e}Ft=d}}}var Tw={getCacheForType:function(t){var r=Xt(It),s=r.data.get(t);return s===void 0&&(s=t(),r.data.set(t,s)),s},cacheSignal:function(){return Xt(It).controller.signal}},bw=typeof WeakMap=="function"?WeakMap:Map,Ke=0,ot=null,Pe=null,Ue=0,Je=0,Rn=null,Hr=!1,Ys=!1,Hd=!1,ar=0,vt=0,qr=0,$a=0,qd=0,Cn=0,$s=0,xl=null,yn=null,Fd=!1,Oc=0,I0=0,kc=1/0,Vc=null,Fr=null,Ut=0,Gr=null,Qs=null,sr=0,Gd=0,Yd=null,D0=null,Rl=0,$d=null;function Nn(){return(Ke&2)!==0&&Ue!==0?Ue&-Ue:Y.T!==null?Zd():Pu()}function M0(){if(Cn===0)if((Ue&536870912)===0||qe){var t=Ea;Ea<<=1,(Ea&3932160)===0&&(Ea=262144),Cn=t}else Cn=536870912;return t=An.current,t!==null&&(t.flags|=32),Cn}function _n(t,r,s){(t===ot&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ks(t,0),Yr(t,Ue,Cn,!1)),Ta(t,s),((Ke&2)===0||t!==ot)&&(t===ot&&((Ke&2)===0&&($a|=s),vt===4&&Yr(t,Ue,Cn,!1)),ki(t))}function O0(t,r,s){if((Ke&6)!==0)throw Error(a(327));var l=!s&&(r&127)===0&&(r&t.expiredLanes)===0||Kn(t,r),f=l?Aw(t,r):Kd(t,r,!0),d=l;do{if(f===0){Ys&&!l&&Yr(t,r,0,!1);break}else{if(s=t.current.alternate,d&&!ww(s)){f=Kd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;f=xl;var D=b.current.memoizedState.isDehydrated;if(D&&(Ks(b,_).flags|=256),_=Kd(b,_,!1),_!==2){if(Hd&&!D){b.errorRecoveryDisabledLanes|=d,$a|=d,f=4;break e}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ks(t,0),Yr(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Yr(l,r,Cn,!Hr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(f=Oc+300-ln(),10<f)){if(Yr(l,r,Cn,!Hr),gi(l,0,!0)!==0)break e;sr=r,l.timeoutHandle=c_(k0.bind(null,l,s,yn,Vc,Fd,r,Cn,$a,$s,Hr,d,"Throttled",-0,0),f);break e}k0(l,s,yn,Vc,Fd,r,Cn,$a,$s,Hr,d,null,-0,0)}}break}while(!0);ki(t)}function k0(t,r,s,l,f,d,_,b,D,H,Z,ae,G,K){if(t.timeoutHandle=-1,ae=r.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},x0(r,d,ae);var pe=(d&62914560)===d?Oc-ln():(d&4194048)===d?I0-ln():0;if(pe=oS(ae,pe),pe!==null){sr=d,t.cancelPendingCommit=pe(H0.bind(null,t,r,d,s,l,f,_,b,D,Z,ae,null,G,K)),Yr(t,d,_,!H);return}}H0(t,r,d,s,l,f,_,b,D)}function ww(t){for(var r=t;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch(_){return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Yr(t,r,s,l){r&=~qd,r&=~$a,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-Et(f),_=1<<d;l[d]=-1,f&=~_}s!==0&&ba(t,s,r)}function Pc(){return(Ke&6)===0?(Cl(0),!1):!0}function Qd(){if(Pe!==null){if(Je===0)var t=Pe.return;else t=Pe,Ki=Ua=null,cd(t),js=null,cl=0,t=Pe;for(;t!==null;)h0(t.alternate,t),t=t.return;Pe=null}}function Ks(t,r){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,qw(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),sr=0,Qd(),ot=t,Pe=s=$i(t.current,null),Ue=r,Je=0,Rn=null,Hr=!1,Ys=Kn(t,r),Hd=!1,$s=Cn=qd=$a=qr=vt=0,yn=xl=null,Fd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Et(l),d=1<<f;r|=t[f],l&=~d}return ar=r,ic(),s}function V0(t,r){Me=null,Y.H=_l,r===Us||r===hc?(r=Wg(),Je=3):r===Jf?(r=Wg(),Je=4):Je=r===xd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Pe===null&&(vt=1,Ac(t,Ln(r,t.current)))}function P0(){var t=An.current;return t===null?!0:(Ue&4194048)===Ue?Bn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?t===Bn:!1}function L0(){var t=Y.H;return Y.H=_l,t===null?_l:t}function U0(){var t=Y.A;return Y.A=Tw,t}function Lc(){vt=4,Hr||(Ue&4194048)!==Ue&&An.current!==null||(Ys=!0),(qr&134217727)===0&&($a&134217727)===0||ot===null||Yr(ot,Ue,Cn,!1)}function Kd(t,r,s){var l=Ke;Ke|=2;var f=L0(),d=U0();(ot!==t||Ue!==r)&&(Vc=null,Ks(t,r)),r=!1;var _=vt;e:do try{if(Je!==0&&Pe!==null){var b=Pe,D=Rn;switch(Je){case 8:Qd(),_=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(r=!0);var H=Je;if(Je=0,Rn=null,Xs(t,b,D,H),s&&Ys){_=0;break e}break;default:H=Je,Je=0,Rn=null,Xs(t,b,D,H)}}Sw(),_=vt;break}catch(Z){V0(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Ki=Ua=null,Ke=l,Y.H=f,Y.A=d,Pe===null&&(ot=null,Ue=0,ic()),_}function Sw(){for(;Pe!==null;)j0(Pe)}function Aw(t,r){var s=Ke;Ke|=2;var l=L0(),f=U0();ot!==t||Ue!==r?(Vc=null,kc=ln()+500,Ks(t,r)):Ys=Kn(t,r);e:do try{if(Je!==0&&Pe!==null){r=Pe;var d=Rn;t:switch(Je){case 1:Je=0,Rn=null,Xs(t,r,d,1);break;case 2:case 9:if(Kg(d)){Je=0,Rn=null,z0(r);break}r=function(){Je!==2&&Je!==9||ot!==t||(Je=7),ki(t)},d.then(r,r);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:Kg(d)?(Je=0,Rn=null,z0(r)):(Je=0,Rn=null,Xs(t,r,d,7));break;case 5:var _=null;switch(Pe.tag){case 26:_=Pe.memoizedState;case 5:case 27:var b=Pe;if(_?A_(_):b.stateNode.complete){Je=0,Rn=null;var D=b.sibling;if(D!==null)Pe=D;else{var H=b.return;H!==null?(Pe=H,Uc(H)):Pe=null}break t}}Je=0,Rn=null,Xs(t,r,d,5);break;case 6:Je=0,Rn=null,Xs(t,r,d,6);break;case 8:Qd(),vt=6;break e;default:throw Error(a(462))}}xw();break}catch(Z){V0(t,Z)}while(!0);return Ki=Ua=null,Y.H=l,Y.A=f,Ke=s,Pe!==null?0:(ot=null,Ue=0,ic(),vt)}function xw(){for(;Pe!==null&&!Af();)j0(Pe)}function j0(t){var r=u0(t.alternate,t,ar);t.memoizedProps=t.pendingProps,r===null?Uc(t):Pe=r}function z0(t){var r=t,s=r.alternate;switch(r.tag){case 15:case 0:r=i0(s,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=i0(s,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:cd(r);default:h0(s,r),r=Pe=Ug(r,ar),r=u0(s,r,ar)}t.memoizedProps=t.pendingProps,r===null?Uc(t):Pe=r}function Xs(t,r,s,l){Ki=Ua=null,cd(r),js=null,cl=0;var f=r.return;try{if(mw(t,f,r,s,Ue)){vt=1,Ac(t,Ln(s,t.current)),Pe=null;return}}catch(d){if(f!==null)throw Pe=f,d;vt=1,Ac(t,Ln(s,t.current)),Pe=null;return}r.flags&32768?(qe||l===1?t=!0:Ys||(Ue&536870912)!==0?t=!1:(Hr=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),B0(r,t)):Uc(r)}function Uc(t){var r=t;do{if((r.flags&32768)!==0){B0(r,Hr);return}t=r.return;var s=yw(r.alternate,r,ar);if(s!==null){Pe=s;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=t}while(r!==null);vt===0&&(vt=5)}function B0(t,r){do{var s=_w(t.alternate,t);if(s!==null){s.flags&=32767,Pe=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(t=t.sibling,t!==null)){Pe=t;return}Pe=t=s}while(t!==null);vt=6,Pe=null}function H0(t,r,s,l,f,d,_,b,D){t.cancelPendingCommit=null;do jc();while(Ut!==0);if((Ke&6)!==0)throw Error(a(327));if(r!==null){if(r===t.current)throw Error(a(177));if(d=r.lanes|r.childLanes,d|=Lf,Cf(t,s,d,_,b,D),t===ot&&(Pe=ot=null,Ue=0),Qs=r,Gr=t,sr=s,Gd=d,Yd=f,D0=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Iw(br,function(){return $0(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,f=le.p,le.p=2,_=Ke,Ke|=4;try{vw(t,r,s)}finally{Ke=_,le.p=f,Y.T=l}}Ut=1,q0(),F0(),G0()}}function q0(){if(Ut===1){Ut=0;var t=Gr,r=Qs,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=Y.T,Y.T=null;var l=le.p;le.p=2;var f=Ke;Ke|=4;try{w0(r,t);var d=om,_=Ng(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(_!==b&&b&&b.ownerDocument&&Cg(b.ownerDocument.documentElement,b)){if(D!==null&&Mf(b)){var H=D.start,Z=D.end;if(Z===void 0&&(Z=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(Z,b.value.length);else{var ae=b.ownerDocument||document,G=ae&&ae.defaultView||window;if(G.getSelection){var K=G.getSelection(),pe=b.textContent.length,we=Math.min(D.start,pe),at=D.end===void 0?we:Math.min(D.end,pe);!K.extend&&we>at&&(_=at,at=we,we=_);var j=Rg(b,we),L=Rg(b,at);if(j&&L&&(K.rangeCount!==1||K.anchorNode!==j.node||K.anchorOffset!==j.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var B=ae.createRange();B.setStart(j.node,j.offset),K.removeAllRanges(),we>at?(K.addRange(B),K.extend(L.node,L.offset)):(B.setEnd(L.node,L.offset),K.addRange(B))}}}}for(ae=[],K=b;K=K.parentNode;)K.nodeType===1&&ae.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ae.length;b++){var ie=ae[b];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Wc=!!sm,om=sm=null}finally{Ke=f,le.p=l,Y.T=s}}t.current=r,Ut=2}}function F0(){if(Ut===2){Ut=0;var t=Gr,r=Qs,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=Y.T,Y.T=null;var l=le.p;le.p=2;var f=Ke;Ke|=4;try{_0(t,r.alternate,r)}finally{Ke=f,le.p=l,Y.T=s}}Ut=3}}function G0(){if(Ut===4||Ut===3){Ut=0,Nu();var t=Gr,r=Qs,s=sr,l=D0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ut=5:(Ut=0,Qs=Gr=null,Y0(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Fr=null),qi(s),r=r.stateNode,$t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Qn,r,void 0,(r.current.flags&128)===128)}catch(D){}if(l!==null){r=Y.T,f=le.p,le.p=2,Y.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var b=l[_];d(b.value,{componentStack:b.stack})}}finally{Y.T=r,le.p=f}}(sr&3)!==0&&jc(),ki(t),f=t.pendingLanes,(s&261930)!==0&&(f&42)!==0?t===$d?Rl++:(Rl=0,$d=t):Rl=0,Cl(0)}}function Y0(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ll(r)))}function jc(){return q0(),F0(),G0(),$0()}function $0(){if(Ut!==5)return!1;var t=Gr,r=Gd;Gd=0;var s=qi(sr),l=Y.T,f=le.p;try{le.p=32>s?32:s,Y.T=null,s=Yd,Yd=null;var d=Gr,_=sr;if(Ut=0,Qs=Gr=null,sr=0,(Ke&6)!==0)throw Error(a(331));var b=Ke;if(Ke|=4,C0(d.current),A0(d,d.current,_,s),Ke=b,Cl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Qn,d)}catch(D){}return!0}finally{le.p=f,Y.T=l,Y0(t,r)}}function Q0(t,r,s){r=Ln(s,r),r=Ad(t.stateNode,r,2),t=Ur(t,r,2),t!==null&&(Ta(t,2),ki(t))}function Ze(t,r,s){if(t.tag===3)Q0(t,t,s);else for(;r!==null;){if(r.tag===3){Q0(r,t,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=Ln(s,t),s=Ky(2),l=Ur(r,s,2),l!==null&&(Xy(s,l,r,t),Ta(l,2),ki(l));break}}r=r.return}}function Xd(t,r,s){var l=t.pingCache;if(l===null){l=t.pingCache=new bw;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(Hd=!0,f.add(s),t=Rw.bind(null,t,r,s),r.then(t,t))}function Rw(t,r,s){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,ot===t&&(Ue&s)===s&&(vt===4||vt===3&&(Ue&62914560)===Ue&&300>ln()-Oc?(Ke&2)===0&&Ks(t,0):qd|=s,$s===Ue&&($s=0)),ki(t)}function K0(t,r){r===0&&(r=Vu()),t=Va(t,r),t!==null&&(Ta(t,r),ki(t))}function Cw(t){var r=t.memoizedState,s=0;r!==null&&(s=r.retryLane),K0(t,s)}function Nw(t,r){var s=0;switch(t.tag){case 31:case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),K0(t,s)}function Iw(t,r){return Lt(t,r)}var zc=null,Ws=null,Wd=!1,Bc=!1,Jd=!1,$r=0;function ki(t){t!==Ws&&t.next===null&&(Ws===null?zc=Ws=t:Ws=Ws.next=t),Bc=!0,Wd||(Wd=!0,Mw())}function Cl(t,r){if(!Jd&&Bc){Jd=!0;do for(var s=!1,l=zc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Et(42|t)+1)-1,d&=f&~(_&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Z0(l,d))}else d=Ue,d=gi(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Kn(l,d)||(s=!0,Z0(l,d));l=l.next}while(s);Jd=!1}}function Dw(){X0()}function X0(){Bc=Wd=!1;var t=0;$r!==0&&Hw()&&(t=$r);for(var r=ln(),s=null,l=zc;l!==null;){var f=l.next,d=W0(l,r);d===0?(l.next=null,s===null?zc=f:s.next=f,f===null&&(Ws=s)):(s=l,(t!==0||(d&3)!==0)&&(Bc=!0)),l=f}Ut!==0&&Ut!==5||Cl(t),$r!==0&&($r=0)}function W0(t,r){for(var s=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Et(d),b=1<<_,D=f[_];D===-1?((b&s)===0||(b&l)!==0)&&(f[_]=Rf(b,r)):D<=r&&(t.expiredLanes|=b),d&=~b}if(r=ot,s=Ue,s=gi(t,t===r?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,s===0||t===r&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Tr(l),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Kn(t,s)){if(r=s&-s,r===t.callbackPriority)return r;switch(l!==null&&Tr(l),qi(s)){case 2:case 8:s=Uo;break;case 32:s=br;break;case 268435456:s=Iu;break;default:s=br}return l=J0.bind(null,t),s=Lt(s,l),t.callbackPriority=r,t.callbackNode=s,r}return l!==null&&l!==null&&Tr(l),t.callbackPriority=2,t.callbackNode=null,2}function J0(t,r){if(Ut!==0&&Ut!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(jc()&&t.callbackNode!==s)return null;var l=Ue;return l=gi(t,t===ot?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(O0(t,l,r),W0(t,ln()),t.callbackNode!=null&&t.callbackNode===s?J0.bind(null,t):null)}function Z0(t,r){if(jc())return null;O0(t,r,!0)}function Mw(){Fw(function(){(Ke&6)!==0?Lt(Lo,Dw):X0()})}function Zd(){if($r===0){var t=Ps;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),$r=t}return $r}function e_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ts(""+t)}function t_(t,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,t.id&&s.setAttribute("form",t.id),r.parentNode.insertBefore(s,r),t=new FormData(t),s.parentNode.removeChild(s),t}function Ow(t,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var d=e_((f[Ht]||null).action),_=l.submitter;_&&(r=(r=_[Ht]||null)?e_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var b=new Ri("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($r!==0){var D=_?t_(f,_):new FormData(f);vd(s,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=_?t_(f,_):new FormData(f),vd(s,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var em=0;em<Pf.length;em++){var tm=Pf[em],kw=tm.toLowerCase(),Vw=tm[0].toUpperCase()+tm.slice(1);ii(kw,"on"+Vw)}ii(Mg,"onAnimationEnd"),ii(Og,"onAnimationIteration"),ii(kg,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(Wb,"onTransitionRun"),ii(Jb,"onTransitionStart"),ii(Zb,"onTransitionCancel"),ii(Vg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function n_(t,r){r=(r&4)!==0;for(var s=0;s<t.length;s++){var l=t[s],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],D=b.instance,H=b.currentTarget;if(b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(Z){nc(Z)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(b=l[_],D=b.instance,H=b.currentTarget,b=b.listener,D!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(Z){nc(Z)}f.currentTarget=null,d=D}}}}function Le(t,r){var s=r[gs];s===void 0&&(s=r[gs]=new Set);var l=t+"__bubble";s.has(l)||(i_(r,t,2,!1),s.add(l))}function nm(t,r,s){var l=0;r&&(l|=4),i_(s,t,l,r)}var Hc="_reactListening"+Math.random().toString(36).slice(2);function im(t){if(!t[Hc]){t[Hc]=!0,Bo.forEach(function(s){s!=="selectionchange"&&(Pw.has(s)||nm(s,!1,t),nm(s,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Hc]||(r[Hc]=!0,nm("selectionchange",!1,r))}}function i_(t,r,s,l){switch(M_(r)){case 2:var f=cS;break;case 8:f=hS;break;default:f=_m}s=f.bind(null,r,s,t),f=void 0,!Ra||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,s,{capture:!0,passive:f}):t.addEventListener(r,s,!0):f!==void 0?t.addEventListener(r,s,{passive:f}):t.addEventListener(r,s,!1)}function rm(t,r,s,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;b!==null;){if(_=Ei(b),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue e}b=b.parentNode}}l=l.return}Cr(function(){var H=d,Z=On(s),ae=[];e:{var G=Pg.get(t);if(G!==void 0){var K=Ri,pe=t;switch(t){case"keypress":if(Na(s)===0)break e;case"keydown":case"keyup":K=Zu;break;case"focusin":pe="focus",K=Da;break;case"focusout":pe="blur",K=Da;break;case"beforeblur":case"afterblur":K=Da;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=el;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case Mg:case Og:case kg:K=Yu;break;case Vg:K=S;break;case"scroll":case"scrollend":K=Zo;break;case"wheel":K=Q;break;case"copy":case"cut":case"paste":K=$u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Yi;break;case"toggle":case"beforetoggle":K=De}var we=(r&4)!==0,at=!we&&(t==="scroll"||t==="scrollend"),j=we?G!==null?G+"Capture":null:G;we=[];for(var L=H,B;L!==null;){var ie=L;if(B=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||B===null||j===null||(ie=Zn(L,j),ie!=null&&we.push(Il(L,ie,B))),at)break;L=L.return}0<we.length&&(G=new K(G,pe,null,s,Z),ae.push({event:G,listeners:we}))}}if((r&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&s!==Xo&&(pe=s.relatedTarget||s.fromElement)&&(Ei(pe)||pe[_i]))break e;if((K||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,K?(pe=s.relatedTarget||s.toElement,K=H,pe=pe?Ei(pe):null,pe!==null&&(at=u(pe),we=pe.tag,pe!==at||we!==5&&we!==27&&we!==6)&&(pe=null)):(K=null,pe=H),K!==pe)){if(we=el,ie="onMouseLeave",j="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(we=Yi,ie="onPointerLeave",j="onPointerEnter",L="pointer"),at=K==null?G:Tn(K),B=pe==null?G:Tn(pe),G=new we(ie,L+"leave",K,s,Z),G.target=at,G.relatedTarget=B,ie=null,Ei(Z)===H&&(we=new we(j,L+"enter",pe,s,Z),we.target=B,we.relatedTarget=at,ie=we),at=ie,K&&pe)t:{for(we=Lw,j=K,L=pe,B=0,ie=j;ie;ie=we(ie))B++;ie=0;for(var Ee=L;Ee;Ee=we(Ee))ie++;for(;0<B-ie;)j=we(j),B--;for(;0<ie-B;)L=we(L),ie--;for(;B--;){if(j===L||L!==null&&j===L.alternate){we=j;break t}j=we(j),L=we(L)}we=null}else we=null;K!==null&&r_(ae,G,K,we,!1),pe!==null&&at!==null&&r_(ae,at,pe,we,!0)}}e:{if(G=H?Tn(H):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Ye=Tg;else if(vg(G))if(bg)Ye=Qb;else{Ye=Yb;var _e=Gb}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Es(H.elementType)&&(Ye=Tg):Ye=$b;if(Ye&&(Ye=Ye(t,H))){Eg(ae,Ye,s,Z);break e}_e&&_e(t,G,H),t==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&$o(G,"number",G.value)}switch(_e=H?Tn(H):window,t){case"focusin":(vg(_e)||_e.contentEditable==="true")&&(Cs=_e,Of=H,al=null);break;case"focusout":al=Of=Cs=null;break;case"mousedown":kf=!0;break;case"contextmenu":case"mouseup":case"dragend":kf=!1,Ig(ae,s,Z);break;case"selectionchange":if(Xb)break;case"keydown":case"keyup":Ig(ae,s,Z)}var Ve;if(Qe)e:{switch(t){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Rs?Ma(t,s)&&(je="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(je="onCompositionStart");je&&(Ii&&s.locale!=="ko"&&(Rs||je!=="onCompositionStart"?je==="onCompositionEnd"&&Rs&&(Ve=Jo()):(xi=Z,Wo="value"in xi?xi.value:xi.textContent,Rs=!0)),_e=qc(H,je),0<_e.length&&(je=new Ni(je,t,null,s,Z),ae.push({event:je,listeners:_e}),Ve?je.data=Ve:(Ve=xs(s),Ve!==null&&(je.data=Ve)))),(Ve=Vn?Bb(t,s):Hb(t,s))&&(je=qc(H,"onBeforeInput"),0<je.length&&(_e=new Ni("onBeforeInput","beforeinput",null,s,Z),ae.push({event:_e,listeners:je}),_e.data=Ve)),Ow(ae,t,H,s,Z)}n_(ae,r)})}function Il(t,r,s){return{instance:t,listener:r,currentTarget:s}}function qc(t,r){for(var s=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Zn(t,s),f!=null&&l.unshift(Il(t,f,d)),f=Zn(t,r),f!=null&&l.push(Il(t,f,d))),t.tag===3)return l;t=t.return}return[]}function Lw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function r_(t,r,s,l,f){for(var d=r._reactName,_=[];s!==null&&s!==l;){var b=s,D=b.alternate,H=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||H===null||(D=H,f?(H=Zn(s,d),H!=null&&_.unshift(Il(s,H,D))):f||(H=Zn(s,d),H!=null&&_.push(Il(s,H,D)))),s=s.return}_.length!==0&&t.push({event:r,listeners:_})}var Uw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function a_(t){return(typeof t=="string"?t:""+t).replace(Uw,`
`).replace(jw,"")}function s_(t,r){return r=a_(r),a_(t)===r}function rt(t,r,s,l,f,d){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&dn(t,""+l);break;case"className":bn(t,"class",l);break;case"tabIndex":bn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(t,s,l);break;case"style":Ko(t,l,d);break;case"data":if(r!=="object"){bn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){t.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ts(""+l),t.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(r!=="input"&&rt(t,r,"name",f.name,f,null),rt(t,r,"formEncType",f.formEncType,f,null),rt(t,r,"formMethod",f.formMethod,f,null),rt(t,r,"formTarget",f.formTarget,f,null)):(rt(t,r,"encType",f.encType,f,null),rt(t,r,"method",f.method,f,null),rt(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(s);break}l=Ts(""+l),t.setAttribute(s,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}s=Ts(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""+l):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":l===!0?t.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(s,l):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(s,l):t.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(s):t.setAttribute(s,l);break;case"popover":Le("beforetoggle",t),Le("toggle",t),_s(t,"popover",l);break;case"xlinkActuate":Nt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_s(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=qu.get(s)||s,_s(t,s,l))}}function am(t,r,s,l,f,d){switch(s){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Le("scroll",t);break;case"onScrollEnd":l!=null&&Le("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ho.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),d=t[Ht]||null,d=d!=null?d[s]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(r,l,f);break e}s in t?t[s]=l:l===!0?t.setAttribute(s,""):_s(t,s,l)}}}function Jt(t,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",t),Le("load",t);var l=!1,f=!1,d;for(d in s)if(s.hasOwnProperty(d)){var _=s[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:rt(t,r,d,_,s,null)}}f&&rt(t,r,"srcSet",s.srcSet,s,null),l&&rt(t,r,"src",s.src,s,null);return;case"input":Le("invalid",t);var b=d=_=f=null,D=null,H=null;for(l in s)if(s.hasOwnProperty(l)){var Z=s[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":D=Z;break;case"defaultChecked":H=Z;break;case"value":d=Z;break;case"defaultValue":b=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,r));break;default:rt(t,r,l,Z,s,null)}}zu(t,d,b,D,H,_,f,!1);return;case"select":Le("invalid",t),l=_=d=null;for(f in s)if(s.hasOwnProperty(f)&&(b=s[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:rt(t,r,f,b,s,null)}r=d,s=_,t.multiple=!!l,r!=null?Sr(t,!!l,r,!1):s!=null&&Sr(t,!!l,s,!0);return;case"textarea":Le("invalid",t),d=f=l=null;for(_ in s)if(s.hasOwnProperty(_)&&(b=s[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(91));break;default:rt(t,r,_,b,s,null)}Ar(t,l,f,d);return;case"option":for(D in s)s.hasOwnProperty(D)&&(l=s[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":rt(t,r,D,l,s,null));return;case"dialog":Le("beforetoggle",t),Le("toggle",t),Le("cancel",t),Le("close",t);break;case"iframe":case"object":Le("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Le(Nl[l],t);break;case"image":Le("error",t),Le("load",t);break;case"details":Le("toggle",t);break;case"embed":case"source":case"link":Le("error",t),Le("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in s)if(s.hasOwnProperty(H)&&(l=s[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:rt(t,r,H,l,s,null)}return;default:if(Es(r)){for(Z in s)s.hasOwnProperty(Z)&&(l=s[Z],l!==void 0&&am(t,r,Z,l,s,void 0));return}}for(b in s)s.hasOwnProperty(b)&&(l=s[b],l!=null&&rt(t,r,b,l,s,null))}function zw(t,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,b=null,D=null,H=null,Z=null;for(K in s){var ae=s[K];if(s.hasOwnProperty(K)&&ae!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=ae;default:l.hasOwnProperty(K)||rt(t,r,K,null,l,ae)}}for(var G in l){var K=l[G];if(ae=s[G],l.hasOwnProperty(G)&&(K!=null||ae!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":H=K;break;case"defaultChecked":Z=K;break;case"value":_=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,r));break;default:K!==ae&&rt(t,r,G,K,l,ae)}}vs(t,_,b,D,H,Z,d,f);return;case"select":K=_=b=G=null;for(d in s)if(D=s[d],s.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||rt(t,r,d,null,l,D)}for(f in l)if(d=l[f],D=s[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":G=d;break;case"defaultValue":b=d;break;case"multiple":_=d;default:d!==D&&rt(t,r,f,d,l,D)}r=b,s=_,l=K,G!=null?Sr(t,!!s,G,!1):!!l!=!!s&&(r!=null?Sr(t,!!s,r,!0):Sr(t,!!s,s?[]:"",!1));return;case"textarea":K=G=null;for(b in s)if(f=s[b],s.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(t,r,b,null,l,f)}for(_ in l)if(f=l[_],d=s[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==d&&rt(t,r,_,f,l,d)}Bu(t,G,K);return;case"option":for(var pe in s)G=s[pe],s.hasOwnProperty(pe)&&G!=null&&!l.hasOwnProperty(pe)&&(pe==="selected"?t.selected=!1:rt(t,r,pe,null,l,G));for(D in l)G=l[D],K=s[D],l.hasOwnProperty(D)&&G!==K&&(G!=null||K!=null)&&(D==="selected"?t.selected=G&&typeof G!="function"&&typeof G!="symbol":rt(t,r,D,G,l,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in s)G=s[we],s.hasOwnProperty(we)&&G!=null&&!l.hasOwnProperty(we)&&rt(t,r,we,null,l,G);for(H in l)if(G=l[H],K=s[H],l.hasOwnProperty(H)&&G!==K&&(G!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,r));break;default:rt(t,r,H,G,l,K)}return;default:if(Es(r)){for(var at in s)G=s[at],s.hasOwnProperty(at)&&G!==void 0&&!l.hasOwnProperty(at)&&am(t,r,at,void 0,l,G);for(Z in l)G=l[Z],K=s[Z],!l.hasOwnProperty(Z)||G===K||G===void 0&&K===void 0||am(t,r,Z,G,l,K);return}}for(var j in s)G=s[j],s.hasOwnProperty(j)&&G!=null&&!l.hasOwnProperty(j)&&rt(t,r,j,null,l,G);for(ae in l)G=l[ae],K=s[ae],!l.hasOwnProperty(ae)||G===K||G==null&&K==null||rt(t,r,ae,G,l,K)}function o_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],d=f.transferSize,_=f.initiatorType,b=f.duration;if(d&&b&&o_(_)){for(_=0,b=f.responseEnd,l+=1;l<s.length;l++){var D=s[l],H=D.startTime;if(H>b)break;var Z=D.transferSize,ae=D.initiatorType;Z&&o_(ae)&&(D=D.responseEnd,_+=Z*(D<b?1:(b-H)/(D-H)))}if(--l,r+=8*(d+_)/(f.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var sm=null,om=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function l_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function lm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var um=null;function Hw(){var t=window.event;return t&&t.type==="popstate"?t===um?!1:(um=t,!0):(um=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,qw=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,Fw=typeof queueMicrotask=="function"?queueMicrotask:typeof h_!="undefined"?function(t){return h_.resolve(null).then(t).catch(Gw)}:c_;function Gw(t){setTimeout(function(){throw t})}function Qr(t){return t==="head"}function f_(t,r){var s=r,l=0;do{var f=s.nextSibling;if(t.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){t.removeChild(f),to(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Dl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Dl(s);for(var d=s.firstChild;d;){var _=d.nextSibling,b=d.nodeName;d[vi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=_}}else s==="body"&&Dl(t.ownerDocument.body);s=f}while(s);to(r)}function d_(t,r){var s=t;t=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=l}while(s)}function cm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":cm(s),ys(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function Yw(t,r,s,l){for(;t.nodeType===1;){var f=s;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function $w(t,r,s){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Hn(t.nextSibling),t===null))return null;return t}function m_(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Hn(t.nextSibling),t===null))return null;return t}function hm(t){return t.data==="$?"||t.data==="$~"}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Qw(t,r){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var dm=null;function p_(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(r===0)return Hn(t.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}t=t.nextSibling}return null}function g_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return t;r--}else s!=="/$"&&s!=="/&"||r++}t=t.previousSibling}return null}function y_(t,r,s){switch(r=Fc(s),t){case"html":if(t=r.documentElement,!t)throw Error(a(452));return t;case"head":if(t=r.head,!t)throw Error(a(453));return t;case"body":if(t=r.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Dl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ys(t)}var qn=new Map,__=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var or=le.d;le.d={f:Kw,r:Xw,D:Ww,C:Jw,L:Zw,m:eS,X:nS,S:tS,M:iS};function Kw(){var t=or.f(),r=Pc();return t||r}function Xw(t){var r=Mn(t);r!==null&&r.tag===5&&r.type==="form"?Vy(r):or.r(t)}var Js=typeof document=="undefined"?null:document;function v_(t,r,s){var l=Js;if(l&&typeof r=="string"&&r){var f=fn(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),__.has(f)||(__.add(f),t={rel:t,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Jt(r,"link",t),Ct(r),l.head.appendChild(r)))}}function Ww(t){or.D(t),v_("dns-prefetch",t,null)}function Jw(t,r){or.C(t,r),v_("preconnect",t,r)}function Zw(t,r,s){or.L(t,r,s);var l=Js;if(l&&t&&r){var f='link[rel="preload"][as="'+fn(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+fn(s.imageSizes)+'"]')):f+='[href="'+fn(t)+'"]';var d=f;switch(r){case"style":d=Zs(t);break;case"script":d=eo(t)}qn.has(d)||(t=T({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:t,as:r},s),qn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ml(d))||r==="script"&&l.querySelector(Ol(d))||(r=l.createElement("link"),Jt(r,"link",t),Ct(r),l.head.appendChild(r)))}}function eS(t,r){or.m(t,r);var s=Js;if(s&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!qn.has(d)&&(t=T({rel:"modulepreload",href:t},r),qn.set(d,t),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ol(d)))return}l=s.createElement("link"),Jt(l,"link",t),Ct(l),s.head.appendChild(l)}}}function tS(t,r,s){or.S(t,r,s);var l=Js;if(l&&t){var f=Ti(l).hoistableStyles,d=Zs(t);r=r||"default";var _=f.get(d);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ml(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},s),(s=qn.get(d))&&mm(t,s);var D=_=l.createElement("link");Ct(D),Jt(D,"link",t),D._p=new Promise(function(H,Z){D.onload=H,D.onerror=Z}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Yc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(d,_)}}}function nS(t,r){or.X(t,r);var s=Js;if(s&&t){var l=Ti(s).hoistableScripts,f=eo(t),d=l.get(f);d||(d=s.querySelector(Ol(f)),d||(t=T({src:t,async:!0},r),(r=qn.get(f))&&pm(t,r),d=s.createElement("script"),Ct(d),Jt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function iS(t,r){or.M(t,r);var s=Js;if(s&&t){var l=Ti(s).hoistableScripts,f=eo(t),d=l.get(f);d||(d=s.querySelector(Ol(f)),d||(t=T({src:t,async:!0,type:"module"},r),(r=qn.get(f))&&pm(t,r),d=s.createElement("script"),Ct(d),Jt(d,"link",t),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function E_(t,r,s,l){var f=(f=me.current)?Gc(f):null;if(!f)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Zs(s.href),s=Ti(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Zs(s.href);var d=Ti(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ml(t)))&&!d._p&&(_.instance=d,_.state.loading=5),qn.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},qn.set(t,s),d||rS(f,t,s,_.state))),r&&l===null)throw Error(a(528,""));return _}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=eo(s),s=Ti(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Zs(t){return'href="'+fn(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function T_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function rS(t,r,s,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Jt(r,"link",s),Ct(r),t.head.appendChild(r))}function eo(t){return'[src="'+fn(t)+'"]'}function Ol(t){return"script[async]"+t}function b_(t,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+fn(s.href)+'"]');if(l)return r.instance=l,Ct(l),l;var f=T({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ct(l),Jt(l,"style",f),Yc(l,s.precedence,t),r.instance=l;case"stylesheet":f=Zs(s.href);var d=t.querySelector(Ml(f));if(d)return r.state.loading|=4,r.instance=d,Ct(d),d;l=T_(s),(f=qn.get(f))&&mm(l,f),d=(t.ownerDocument||t).createElement("link"),Ct(d);var _=d;return _._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Jt(d,"link",l),r.state.loading|=4,Yc(d,s.precedence,t),r.instance=d;case"script":return d=eo(s.src),(f=t.querySelector(Ol(d)))?(r.instance=f,Ct(f),f):(l=s,(f=qn.get(d))&&(l=T({},s),pm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),Ct(f),Jt(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Yc(l,s.precedence,t));return r.instance}function Yc(t,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(t,r.firstChild))}function mm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function pm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var $c=null;function w_(t,r,s){if($c===null){var l=new Map,f=$c=new Map;f.set(s,l)}else f=$c,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(t))return l;for(l.set(t,null),s=s.getElementsByTagName(t),f=0;f<s.length;f++){var d=s[f];if(!(d[vi]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(d):l.set(_,[d])}}return l}function S_(t,r,s){t=t.ownerDocument||t,t.head.insertBefore(s,r==="title"?t.querySelector("head > title"):null)}function aS(t,r,s){if(s===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(t=r.disabled,typeof r.precedence=="string"&&t==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function A_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function sS(t,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Zs(l.href),d=r.querySelector(Ml(f));if(d){r=d._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=Qc.bind(t),r.then(t,t)),s.state.loading|=4,s.instance=d,Ct(d);return}d=r.ownerDocument||r,l=T_(l),(f=qn.get(f))&&mm(l,f),d=d.createElement("link"),Ct(d);var _=d;_._p=new Promise(function(b,D){_.onload=b,_.onerror=D}),Jt(d,"link",l),s.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=Qc.bind(t),r.addEventListener("load",s),r.addEventListener("error",s))}}var gm=0;function oS(t,r){return t.stylesheets&&t.count===0&&Xc(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var l=setTimeout(function(){if(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+r);0<t.imgBytes&&gm===0&&(gm=62500*Bw());var f=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Xc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>gm?50:800)+r);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Kc=null;function Xc(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Kc=new Map,r.forEach(lS,t),Kc=null,Qc.call(t))}function lS(t,r){if(!(r.state.loading&4)){var s=Kc.get(t);if(s)var l=s.get(null);else{s=new Map,Kc.set(t,s);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),l=_)}l&&s.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=s.get(_)||l,d===l&&s.set(null,f),s.set(_,f),this.count++,l=Qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var kl={$$typeof:$,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function uS(t,r,s,l,f,d,_,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function x_(t,r,s,l,f,d,_,b,D,H,Z,ae){return t=new uS(t,r,s,_,D,H,Z,ae,b),r=1,d===!0&&(r|=24),d=Sn(3,null,null,r),t.current=d,d.stateNode=t,r=Kf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:s,cache:r},Zf(d),t}function R_(t){return t?(t=Ds,t):Ds}function C_(t,r,s,l,f,d){f=R_(f),l.context===null?l.context=f:l.pendingContext=f,l=Lr(r),l.payload={element:s},d=d===void 0?null:d,d!==null&&(l.callback=d),s=Ur(t,l,r),s!==null&&(_n(s,t,r),fl(s,t,r))}function N_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<r?s:r}}function ym(t,r){N_(t,r),(t=t.alternate)&&N_(t,r)}function I_(t){if(t.tag===13||t.tag===31){var r=Va(t,67108864);r!==null&&_n(r,t,67108864),ym(t,67108864)}}function D_(t){if(t.tag===13||t.tag===31){var r=Nn();r=wa(r);var s=Va(t,r);s!==null&&_n(s,t,r),ym(t,r)}}var Wc=!0;function cS(t,r,s,l){var f=Y.T;Y.T=null;var d=le.p;try{le.p=2,_m(t,r,s,l)}finally{le.p=d,Y.T=f}}function hS(t,r,s,l){var f=Y.T;Y.T=null;var d=le.p;try{le.p=8,_m(t,r,s,l)}finally{le.p=d,Y.T=f}}function _m(t,r,s,l){if(Wc){var f=vm(l);if(f===null)rm(t,r,l,Jc,s),O_(t,l);else if(dS(f,t,r,s,l))l.stopPropagation();else if(O_(t,l),r&4&&-1<fS.indexOf(t)){for(;f!==null;){var d=Mn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=pi(d.pendingLanes);if(_!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var D=1<<31-Et(_);b.entanglements[1]|=D,_&=~D}ki(d),(Ke&6)===0&&(kc=ln()+500,Cl(0))}}break;case 31:case 13:b=Va(d,2),b!==null&&_n(b,d,2),Pc(),ym(d,2)}if(d=vm(l),d===null&&rm(t,r,l,Jc,s),d===f)break;f=d}f!==null&&l.stopPropagation()}else rm(t,r,l,null,s)}}function vm(t){return t=On(t),Em(t)}var Jc=null;function Em(t){if(Jc=null,t=Ei(t),t!==null){var r=u(t);if(r===null)t=null;else{var s=r.tag;if(s===13){if(t=h(r),t!==null)return t;t=null}else if(s===31){if(t=m(r),t!==null)return t;t=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Jc=t,null}function M_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(va()){case Lo:return 2;case Uo:return 8;case br:case xf:return 32;case Iu:return 268435456;default:return 32}default:return 32}}var Tm=!1,Kr=null,Xr=null,Wr=null,Vl=new Map,Pl=new Map,Jr=[],fS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,r){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function Ll(t,r,s,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=Mn(r),r!==null&&I_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function dS(t,r,s,l,f){switch(r){case"focusin":return Kr=Ll(Kr,t,r,s,l,f),!0;case"dragenter":return Xr=Ll(Xr,t,r,s,l,f),!0;case"mouseover":return Wr=Ll(Wr,t,r,s,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,t,r,s,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Pl.set(d,Ll(Pl.get(d)||null,t,r,s,l,f)),!0}return!1}function k_(t){var r=Ei(t.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=h(s),r!==null){t.blockedOn=r,Xn(t.priority,function(){D_(s)});return}}else if(r===31){if(r=m(s),r!==null){t.blockedOn=r,Xn(t.priority,function(){D_(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var s=vm(t.nativeEvent);if(s===null){s=t.nativeEvent;var l=new s.constructor(s.type,s);Xo=l,s.target.dispatchEvent(l),Xo=null}else return r=Mn(s),r!==null&&I_(r),t.blockedOn=s,!1;r.shift()}return!0}function V_(t,r,s){Zc(t)&&s.delete(r)}function mS(){Tm=!1,Kr!==null&&Zc(Kr)&&(Kr=null),Xr!==null&&Zc(Xr)&&(Xr=null),Wr!==null&&Zc(Wr)&&(Wr=null),Vl.forEach(V_),Pl.forEach(V_)}function eh(t,r){t.blockedOn===r&&(t.blockedOn=null,Tm||(Tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mS)))}var th=null;function P_(t){th!==t&&(th=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){th===t&&(th=null);for(var r=0;r<t.length;r+=3){var s=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Em(l||s)===null)continue;break}var d=Mn(s);d!==null&&(t.splice(r,3),r-=3,vd(d,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function to(t){function r(D){return eh(D,t)}Kr!==null&&eh(Kr,t),Xr!==null&&eh(Xr,t),Wr!==null&&eh(Wr,t),Vl.forEach(r),Pl.forEach(r);for(var s=0;s<Jr.length;s++){var l=Jr[s];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Jr.length&&(s=Jr[0],s.blockedOn===null);)k_(s),s.blockedOn===null&&Jr.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],d=s[l+1],_=f[Ht]||null;if(typeof d=="function")_||P_(s);else if(_){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ht]||null)b=_.formAction;else if(Em(f)!==null)continue}else b=_.action;typeof b=="function"?s[l+1]=b:(s.splice(l,3),l-=3),P_(s)}}}function L_(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function bm(t){this._internalRoot=t}nh.prototype.render=bm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Nn();C_(s,l,t,r,null,null)},nh.prototype.unmount=bm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;C_(t.current,2,null,t,null,null),Pc(),r[_i]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var r=Pu();t={blockedOn:null,target:t,priority:r};for(var s=0;s<Jr.length&&r!==0&&r<Jr[s].priority;s++);Jr.splice(s,0,t),s===0&&k_(t)}};var U_=e.version;if(U_!=="19.2.4")throw Error(a(527,U_,"19.2.4"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(r),t=t!==null?E(t):null,t=t===null?null:t.stateNode,t};var pS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{Qn=ih.inject(pS),$t=ih}catch(t){}}return jl.createRoot=function(t,r){if(!o(t))throw Error(a(299));var s=!1,l="",f=Gy,d=Yy,_=$y;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=x_(t,1,!1,null,null,s,l,null,f,d,_,L_),t[_i]=r.current,im(t),new bm(r)},jl.hydrateRoot=function(t,r,s){if(!o(t))throw Error(a(299));var l=!1,f="",d=Gy,_=Yy,b=$y,D=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.formState!==void 0&&(D=s.formState)),r=x_(t,1,!0,r,s!=null?s:null,l,f,D,d,_,b,L_),r.context=R_(null),s=r.current,l=Nn(),l=wa(l),f=Lr(l),f.callback=null,Ur(s,f,l),s=l,r.current.lanes=s,Ta(r,s),ki(r),t[_i]=r.current,im(t),new nh(r)},jl.version="19.2.4",jl}var W_;function MS(){if(W_)return Am.exports;W_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Am.exports=DS(),Am.exports}var OS=MS();var J_="popstate";function kS(i={}){function e(o,u){let{pathname:h="/",search:m="",hash:p=""}=ls(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Km("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:ru(u))}function a(o,u){fi(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return PS(e,n,a,i)}function gt(i,e){if(i===!1||i===null||typeof i=="undefined")throw new Error(e)}function fi(i,e){if(!i){typeof console!="undefined"&&console.warn(e);try{throw new Error(e)}catch(n){}}}function VS(){return Math.random().toString(36).substring(2,10)}function Z_(i,e){return{usr:i.state,key:i.key,idx:e}}function Km(i,e,n=null,a){return mt(ye({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?ls(e):e),{state:n,key:e&&e.key||a||VS()})}function ru({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ls(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let a=i.indexOf("?");a>=0&&(e.search=i.substring(a),i=i.substring(0,a)),i&&(e.pathname=i)}return e}function PS(i,e,n,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState(mt(ye({},h.state),{idx:g}),""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let V=E(),J=V==null?null:V-g;g=V,p&&p({action:m,location:W.location,delta:J})}function A(V,J){m="PUSH";let te=Km(W.location,V,J);n&&n(te,V),g=E()+1;let $=Z_(te,g),re=W.createHref(te);try{h.pushState($,"",re)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(re)}u&&p&&p({action:m,location:W.location,delta:1})}function k(V,J){m="REPLACE";let te=Km(W.location,V,J);n&&n(te,V),g=E();let $=Z_(te,g),re=W.createHref(te);h.replaceState($,"",re),u&&p&&p({action:m,location:W.location,delta:0})}function F(V){return LS(V)}let W={get action(){return m},get location(){return i(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(J_,T),p=V,()=>{o.removeEventListener(J_,T),p=null}},createHref(V){return e(o,V)},createURL:F,encodeLocation(V){let J=F(V);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:A,replace:k,go(V){return h.go(V)}};return W}function LS(i,e=!1){let n="http://localhost";typeof window!="undefined"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:ru(i);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function z1(i,e,n="/"){return US(i,e,n,!1)}function US(i,e,n,a){let o=typeof e=="string"?ls(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let h=B1(i);jS(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=XS(u);m=QS(h[p],g,a)}return m}function B1(i,e=[],n=[],a="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(a)&&p)return;gt(E.relativePath.startsWith(a),`Absolute route path "${E.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(a.length)}let T=hr([a,E.relativePath]),A=n.concat(E);h.children&&h.children.length>0&&(gt(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),B1(h.children,e,A,T,p)),!(h.path==null&&!h.index)&&e.push({path:T,score:YS(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{var p;if(h.path===""||!((p=h.path)!=null&&p.includes("?")))u(h,m);else for(let g of H1(h.path))u(h,m,!0,g)}),e}function H1(i){let e=i.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let h=H1(a.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function jS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:$S(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var zS=/^:[\w-]+$/,BS=3,HS=2,qS=1,FS=10,GS=-2,ev=i=>i==="*";function YS(i,e){let n=i.split("/"),a=n.length;return n.some(ev)&&(a+=GS),e&&(a+=HS),n.filter(o=>!ev(o)).reduce((o,u)=>o+(zS.test(u)?BS:u===""?qS:FS),a)}function $S(i,e){return i.length===e.length&&i.slice(0,-1).every((a,o)=>a===e[o])?i[i.length-1]-e[e.length-1]:0}function QS(i,e,n=!1){let{routesMeta:a}=i,o={},u="/",h=[];for(let m=0;m<a.length;++m){let p=a[m],g=m===a.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!T&&g&&n&&!a[a.length-1].route.index&&(T=Nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:hr([u,T.pathname]),pathnameBase:e2(hr([u,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(u=hr([u,T.pathnameBase]))}return h}function Nh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,a]=KS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:T},A)=>{if(E==="*"){let F=m[A]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const k=m[A];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function KS(i,e=!1,n=!0){fi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(a.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(a.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function XS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function dr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=i.charAt(n);return a&&a!=="/"?null:i.slice(n)||"/"}var WS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function JS(i,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof i=="string"?ls(i):i,u;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?u=tv(n.substring(1),"/"):u=tv(n,e)):u=e,{pathname:u,search:t2(a),hash:n2(o)}}function tv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nm(i,e,n,a){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function q1(i){let e=ZS(i);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function F1(i,e,n,a=!1){let o;typeof i=="string"?o=ls(i):(o=ye({},i),gt(!o.pathname||!o.pathname.includes("?"),Nm("?","pathname","search",o)),gt(!o.pathname||!o.pathname.includes("#"),Nm("#","pathname","hash",o)),gt(!o.search||!o.search.includes("#"),Nm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=e.length-1;if(!a&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),T-=1;o.pathname=A.join("/")}m=T>=0?e[T]:"/"}let p=JS(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var hr=i=>i.join("/").replace(/\/\/+/g,"/"),e2=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),t2=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,n2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,i2=class{constructor(i,e,n,a=!1){this.status=i,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function r2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function a2(i){return i.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var G1=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";function Y1(i,e){let n=i;if(typeof n!="string"||!WS.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(G1)try{let u=new URL(window.location.href),h=n.startsWith("//")?new URL(u.protocol+n):new URL(n),m=dr(h.pathname,e);h.origin===u.origin&&m!=null?n=m+h.search+h.hash:o=!0}catch(u){fi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var $1=["POST","PUT","PATCH","DELETE"];new Set($1);var s2=["GET",...$1];new Set(s2);var xo=q.createContext(null);xo.displayName="DataRouter";var ef=q.createContext(null);ef.displayName="DataRouterState";var o2=q.createContext(!1),Q1=q.createContext({isTransitioning:!1});Q1.displayName="ViewTransition";var l2=q.createContext(new Map);l2.displayName="Fetchers";var u2=q.createContext(null);u2.displayName="Await";var $n=q.createContext(null);$n.displayName="Navigation";var mu=q.createContext(null);mu.displayName="Location";var _r=q.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var wp=q.createContext(null);wp.displayName="RouteError";var K1="REACT_ROUTER_ERROR",c2="REDIRECT",h2="ROUTE_ERROR_RESPONSE";function f2(i){if(i.startsWith(`${K1}:${c2}:{`))try{let e=JSON.parse(i.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch(e){}}function d2(i){if(i.startsWith(`${K1}:${h2}:{`))try{let e=JSON.parse(i.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new i2(e.status,e.statusText,e.data)}catch(e){}}function m2(i,{relative:e}={}){gt(pu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=q.useContext($n),{hash:o,pathname:u,search:h}=yu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:hr([n,u])),a.createHref({pathname:m,search:h,hash:o})}function pu(){return q.useContext(mu)!=null}function ya(){return gt(pu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(mu).location}var X1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W1(i){q.useContext($n).static||q.useLayoutEffect(i)}function gu(){let{isDataRoute:i}=q.useContext(_r);return i?R2():p2()}function p2(){gt(pu(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(xo),{basename:e,navigator:n}=q.useContext($n),{matches:a}=q.useContext(_r),{pathname:o}=ya(),u=JSON.stringify(q1(a)),h=q.useRef(!1);return W1(()=>{h.current=!0}),q.useCallback((p,g={})=>{if(fi(h.current,X1),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=F1(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:hr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}q.createContext(null);function yu(i,{relative:e}={}){let{matches:n}=q.useContext(_r),{pathname:a}=ya(),o=JSON.stringify(q1(n));return q.useMemo(()=>F1(i,JSON.parse(o),a,e==="path"),[i,o,a,e])}function g2(i,e){return J1(i,e)}function J1(i,e,n,a,o){var te;gt(pu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=q.useContext($n),{matches:h}=q.useContext(_r),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let $=T&&T.path||"";eE(g,!T||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let A=ya(),k;if(e){let $=typeof e=="string"?ls(e):e;gt(E==="/"||((te=$.pathname)==null?void 0:te.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${$.pathname}" was given in the \`location\` prop.`),k=$}else k=A;let F=k.pathname||"/",W=F;if(E!=="/"){let $=E.replace(/^\//,"").split("/");W="/"+F.replace(/^\//,"").split("/").slice($.length).join("/")}let V=z1(i,{pathname:W});fi(T||V!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),fi(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=T2(V&&V.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:hr([E,u.encodeLocation?u.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?E:hr([E,u.encodeLocation?u.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),h,n,a,o);return e&&J?q.createElement(mu.Provider,{value:{location:ye({pathname:"/",search:"",hash:"",state:null,key:"default"},k),navigationType:"POP"}},J):J}function y2(){let i=x2(),e=r2(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,h)}var _2=q.createElement(y2,null),Z1=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.onError?this.props.onError(i,e):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const n=d2(i.digest);n&&(i=n)}let e=i!==void 0?q.createElement(_r.Provider,{value:this.props.routeContext},q.createElement(wp.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?q.createElement(v2,{error:i},e):e}};Z1.contextType=o2;var Im=new WeakMap;function v2({children:i,error:e}){let{basename:n}=q.useContext($n);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=f2(e.digest);if(a){let o=Im.get(e);if(o)throw o;let u=Y1(a.location,n);if(G1&&!Im.get(e))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Im.set(e,h),h}return q.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return i}function E2({routeContext:i,match:e,children:n}){let a=q.useContext(xo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(_r.Provider,{value:i},n)}function T2(i,e=[],n=null,a=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n==null?void 0:n.errors;if(h!=null){let E=u.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);gt(E>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,E+1))}let m=!1,p=-1;if(n)for(let E=0;E<u.length;E++){let T=u[E];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(p=E),T.route.id){let{loaderData:A,errors:k}=n,F=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!k||k[T.route.id]===void 0);if(T.route.lazy||F){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&a?(E,T)=>{var A,k,F;a(E,{location:n.location,params:(F=(k=(A=n.matches)==null?void 0:A[0])==null?void 0:k.params)!=null?F:{},unstable_pattern:a2(n.matches),errorInfo:T})}:void 0;return u.reduceRight((E,T,A)=>{let k,F=!1,W=null,V=null;n&&(k=h&&T.route.id?h[T.route.id]:void 0,W=T.route.errorElement||_2,m&&(p<0&&A===0?(eE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),F=!0,V=null):p===A&&(F=!0,V=T.route.hydrateFallbackElement||null)));let J=e.concat(u.slice(0,A+1)),te=()=>{let $;return k?$=W:F?$=V:T.route.Component?$=q.createElement(T.route.Component,null):T.route.element?$=T.route.element:$=E,q.createElement(E2,{match:T,routeContext:{outlet:E,matches:J,isDataRoute:n!=null},children:$})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?q.createElement(Z1,{location:n.location,revalidation:n.revalidation,component:W,error:k,children:te(),routeContext:{outlet:null,matches:J,isDataRoute:!0},onError:g}):te()},null)}function Sp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(i){let e=q.useContext(xo);return gt(e,Sp(i)),e}function w2(i){let e=q.useContext(ef);return gt(e,Sp(i)),e}function S2(i){let e=q.useContext(_r);return gt(e,Sp(i)),e}function Ap(i){let e=S2(i),n=e.matches[e.matches.length-1];return gt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function A2(){return Ap("useRouteId")}function x2(){var a;let i=q.useContext(wp),e=w2("useRouteError"),n=Ap("useRouteError");return i!==void 0?i:(a=e.errors)==null?void 0:a[n]}function R2(){let{router:i}=b2("useNavigate"),e=Ap("useNavigate"),n=q.useRef(!1);return W1(()=>{n.current=!0}),q.useCallback((h,...m)=>U(null,[h,...m],function*(o,u={}){fi(n.current,X1),n.current&&(typeof o=="number"?yield i.navigate(o):yield i.navigate(o,ye({fromRouteId:e},u)))}),[i,e])}var nv={};function eE(i,e,n){!e&&!nv[i]&&(nv[i]=!0,fi(!1,n))}q.memo(C2);function C2({routes:i,future:e,state:n,onError:a}){return J1(i,void 0,n,a,e)}function Yl(i){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N2({basename:i="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:h}){gt(!pu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),p=q.useMemo(()=>({basename:m,navigator:o,static:u,unstable_useTransitions:h,future:{}}),[m,o,u,h]);typeof n=="string"&&(n=ls(n));let{pathname:g="/",search:E="",hash:T="",state:A=null,key:k="default"}=n,F=q.useMemo(()=>{let W=dr(g,m);return W==null?null:{location:{pathname:W,search:E,hash:T,state:A,key:k},navigationType:a}},[m,g,E,T,A,k,a]);return fi(F!=null,`<Router basename="${m}"> is not able to match the URL "${g}${E}${T}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:q.createElement($n.Provider,{value:p},q.createElement(mu.Provider,{children:e,value:F}))}function I2({children:i,location:e}){return g2(Xm(i),e)}function Xm(i,e=[]){let n=[];return q.Children.forEach(i,(a,o)=>{if(!q.isValidElement(a))return;let u=[...e,o];if(a.type===q.Fragment){n.push.apply(n,Xm(a.props.children,u));return}gt(a.type===Yl,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let h={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(h.children=Xm(a.props.children,u)),n.push(h)}),n}var ph="get",gh="application/x-www-form-urlencoded";function tf(i){return typeof HTMLElement!="undefined"&&i instanceof HTMLElement}function D2(i){return tf(i)&&i.tagName.toLowerCase()==="button"}function M2(i){return tf(i)&&i.tagName.toLowerCase()==="form"}function O2(i){return tf(i)&&i.tagName.toLowerCase()==="input"}function k2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function V2(i,e){return i.button===0&&(!e||e==="_self")&&!k2(i)}var sh=null;function P2(){if(sh===null)try{new FormData(document.createElement("form"),0),sh=!1}catch(i){sh=!0}return sh}var L2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(i){return i!=null&&!L2.has(i)?(fi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):i}function U2(i,e){let n,a,o,u,h;if(M2(i)){let m=i.getAttribute("action");a=m?dr(m,e):null,n=i.getAttribute("method")||ph,o=Dm(i.getAttribute("enctype"))||gh,u=new FormData(i)}else if(D2(i)||O2(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(a=p?dr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Dm(i.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||gh,u=new FormData(m,i),!P2()){let{name:g,type:E,value:T}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,T)}}else{if(tf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,a=null,o=gh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function xp(i,e){if(i===!1||i===null||typeof i=="undefined")throw new Error(e)}function j2(i,e,n,a){let o=typeof i=="string"?new URL(i,typeof window=="undefined"?"server://singlefetch/":window.location.origin):i;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&dr(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}function z2(i,e){return U(this,null,function*(){if(i.id in e)return e[i.id];try{let n=yield import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}})}function B2(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}function H2(i,e,n){return U(this,null,function*(){let a=yield Promise.all(i.map(o=>U(null,null,function*(){let u=e.routes[o.route.id];if(u){let h=yield z2(u,n);return h.links?h.links():[]}return[]})));return Y2(a.flat(1).filter(B2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?mt(ye({},o),{rel:"prefetch",as:"style"}):mt(ye({},o),{rel:"prefetch"})))})}function iv(i,e,n,a,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=a.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function q2(i,e,{includeHydrateFallback:n}={}){return F2(i.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function F2(i){return[...new Set(i)]}function G2(i){let e={},n=Object.keys(i).sort();for(let a of n)e[a]=i[a];return e}function Y2(i,e){let n=new Set;return new Set(e),i.reduce((a,o)=>{let u=JSON.stringify(G2(o));return n.has(u)||(n.add(u),a.push({key:u,link:o})),a},[])}function tE(){let i=q.useContext(xo);return xp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function $2(){let i=q.useContext(ef);return xp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Rp=q.createContext(void 0);Rp.displayName="FrameworkContext";function nE(){let i=q.useContext(Rp);return xp(i,"You must render this element inside a <HydratedRouter> element"),i}function Q2(i,e){let n=q.useContext(Rp),[a,o]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,A=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let W=J=>{J.forEach(te=>{h(te.isIntersecting)})},V=new IntersectionObserver(W,{threshold:.5});return A.current&&V.observe(A.current),()=>{V.disconnect()}}},[i]),q.useEffect(()=>{if(a){let W=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(W)}}},[a]);let k=()=>{o(!0)},F=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:zl(m,k),onBlur:zl(p,F),onMouseEnter:zl(g,k),onMouseLeave:zl(E,F),onTouchStart:zl(T,k)}]:[!1,A,{}]}function zl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function K2(n){var a=n,{page:i}=a,e=si(a,["page"]);let{router:o}=tE(),u=q.useMemo(()=>z1(o.routes,i,o.basename),[o.routes,i,o.basename]);return u?q.createElement(W2,ye({page:i,matches:u},e)):null}function X2(i){let{manifest:e,routeModules:n}=nE(),[a,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return H2(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),a}function W2(a){var o=a,{page:i,matches:e}=o,n=si(o,["page","matches"]);let u=ya(),{future:h,manifest:m,routeModules:p}=nE(),{basename:g}=tE(),{loaderData:E,matches:T}=$2(),A=q.useMemo(()=>iv(i,e,T,m,u,"data"),[i,e,T,m,u]),k=q.useMemo(()=>iv(i,e,T,m,u,"assets"),[i,e,T,m,u]),F=q.useMemo(()=>{if(i===u.pathname+u.search+u.hash)return[];let J=new Set,te=!1;if(e.forEach(re=>{var ce;let X=m.routes[re.route.id];!X||!X.hasLoader||(!A.some(R=>R.route.id===re.route.id)&&re.route.id in E&&((ce=p[re.route.id])!=null&&ce.shouldRevalidate)||X.hasClientLoader?te=!0:J.add(re.route.id))}),J.size===0)return[];let $=j2(i,g,h.unstable_trailingSlashAwareDataRequests,"data");return te&&J.size>0&&$.searchParams.set("_routes",e.filter(re=>J.has(re.route.id)).map(re=>re.route.id).join(",")),[$.pathname+$.search]},[g,h.unstable_trailingSlashAwareDataRequests,E,u,m,A,e,i,p]),W=q.useMemo(()=>q2(k,m),[k,m]),V=X2(k);return q.createElement(q.Fragment,null,F.map(J=>q.createElement("link",ye({key:J,rel:"prefetch",as:"fetch",href:J},n))),W.map(J=>q.createElement("link",ye({key:J,rel:"modulepreload",href:J},n))),V.map(({key:J,link:te})=>{var $;return q.createElement("link",mt(ye({key:J,nonce:n.nonce},te),{crossOrigin:($=te.crossOrigin)!=null?$:n.crossOrigin}))}))}function J2(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Z2=typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.document.createElement!="undefined";try{Z2&&(window.__reactRouterVersion="7.13.0")}catch(i){}function eA({basename:i,children:e,unstable_useTransitions:n,window:a}){let o=q.useRef();o.current==null&&(o.current=kS({window:a,v5Compat:!0}));let u=o.current,[h,m]=q.useState({action:u.action,location:u.location}),p=q.useCallback(g=>{n===!1?m(g):q.startTransition(()=>m(g))},[n]);return q.useLayoutEffect(()=>u.listen(p),[u,p]),q.createElement(N2,{basename:i,children:e,location:h.location,navigationType:h.action,navigator:u,unstable_useTransitions:n})}var iE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cp=q.forwardRef(function(W,F){var V=W,{onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A}=V,k=si(V,["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"]);let{basename:J,unstable_useTransitions:te}=q.useContext($n),$=typeof g=="string"&&iE.test(g),re=Y1(g,J);g=re.to;let X=m2(g,{relative:o}),[ce,R,x]=Q2(a,k),C=rA(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T,unstable_defaultShouldRevalidate:A,unstable_useTransitions:te});function M(O){e&&e(O),O.defaultPrevented||C(O)}let I=q.createElement("a",mt(ye(ye({},k),x),{href:re.absoluteURL||X,onClick:re.isExternal||u?e:M,ref:J2(F,R),target:p,"data-discover":!$&&n==="render"?"true":void 0}));return ce&&!$?q.createElement(q.Fragment,null,I,q.createElement(K2,{page:X})):I});Cp.displayName="Link";var tA=q.forwardRef(function(T,E){var A=T,{"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:u,to:h,viewTransition:m,children:p}=A,g=si(A,["aria-current","caseSensitive","className","end","style","to","viewTransition","children"]);let k=yu(h,{relative:g.relative}),F=ya(),W=q.useContext(ef),{navigator:V,basename:J}=q.useContext($n),te=W!=null&&uA(k)&&m===!0,$=V.encodeLocation?V.encodeLocation(k).pathname:k.pathname,re=F.pathname,X=W&&W.navigation&&W.navigation.location?W.navigation.location.pathname:null;n||(re=re.toLowerCase(),X=X?X.toLowerCase():null,$=$.toLowerCase()),X&&J&&(X=dr(X,J)||X);const ce=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let R=re===$||!o&&re.startsWith($)&&re.charAt(ce)==="/",x=X!=null&&(X===$||!o&&X.startsWith($)&&X.charAt($.length)==="/"),C={isActive:R,isPending:x,isTransitioning:te},M=R?e:void 0,I;typeof a=="function"?I=a(C):I=[a,R?"active":null,x?"pending":null,te?"transitioning":null].filter(Boolean).join(" ");let O=typeof u=="function"?u(C):u;return q.createElement(Cp,mt(ye({},g),{"aria-current":M,className:I,ref:E,style:O,to:h,viewTransition:m}),typeof p=="function"?p(C):p)});tA.displayName="NavLink";var nA=q.forwardRef((W,F)=>{var V=W,{discover:i="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:u,method:h=ph,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A}=V,k=si(V,["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"]);let{unstable_useTransitions:J}=q.useContext($n),te=oA(),$=lA(m,{relative:g}),re=h.toLowerCase()==="get"?"get":"post",X=typeof m=="string"&&iE.test(m),ce=R=>{if(p&&p(R),R.defaultPrevented)return;R.preventDefault();let x=R.nativeEvent.submitter,C=(x==null?void 0:x.getAttribute("formmethod"))||h,M=()=>te(x||R.currentTarget,{fetcherKey:e,method:C,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T,unstable_defaultShouldRevalidate:A});J&&n!==!1?q.startTransition(()=>M()):M()};return q.createElement("form",mt(ye({ref:F,method:re,action:$,onSubmit:a?p:ce},k),{"data-discover":!X&&i==="render"?"true":void 0}))});nA.displayName="Form";function iA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rE(i){let e=q.useContext(xo);return gt(e,iA(i)),e}function rA(i,{target:e,replace:n,state:a,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m,unstable_useTransitions:p}={}){let g=gu(),E=ya(),T=yu(i,{relative:u});return q.useCallback(A=>{if(V2(A,e)){A.preventDefault();let k=n!==void 0?n:ru(E)===ru(T),F=()=>g(i,{replace:k,state:a,preventScrollReset:o,relative:u,viewTransition:h,unstable_defaultShouldRevalidate:m});p?q.startTransition(()=>F()):F()}},[E,g,T,n,a,e,i,o,u,h,m,p])}var aA=0,sA=()=>`__${String(++aA)}__`;function oA(){let{router:i}=rE("useSubmit"),{basename:e}=q.useContext($n),n=A2(),a=i.fetch,o=i.navigate;return q.useCallback((m,...p)=>U(null,[m,...p],function*(u,h={}){let{action:g,method:E,encType:T,formData:A,body:k}=U2(u,e);if(h.navigate===!1){let F=h.fetcherKey||sA();yield a(F,n,h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:A,body:k,formMethod:h.method||E,formEncType:h.encType||T,flushSync:h.flushSync})}else yield o(h.action||g,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:A,body:k,formMethod:h.method||E,formEncType:h.encType||T,replace:h.replace,state:h.state,fromRouteId:n,flushSync:h.flushSync,viewTransition:h.viewTransition})}),[a,o,e,n])}function lA(i,{relative:e}={}){let{basename:n}=q.useContext($n),a=q.useContext(_r);gt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u=ye({},yu(i||".",{relative:e})),h=ya();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),ru(u)}function uA(i,{relative:e}={}){let n=q.useContext(Q1);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=rE("useViewTransitionState"),o=yu(i,{relative:e});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,a)||n.currentLocation.pathname,h=dr(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Nh(o.pathname,h)!=null||Nh(o.pathname,u)!=null}const rv=i=>{let e;const n=new Set,a=(g,E)=>{const T=typeof g=="function"?g(e):g;if(!Object.is(T,e)){const A=e;e=(E!=null?E:typeof T!="object"||T===null)?T:Object.assign({},e,T),n.forEach(k=>k(e,A))}},o=()=>e,m={setState:a,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=i(a,o,m);return m},cA=(i=>i?rv(i):rv),hA=i=>i;function fA(i,e=hA){const n=ah.useSyncExternalStore(i.subscribe,ah.useCallback(()=>e(i.getState()),[i,e]),ah.useCallback(()=>e(i.getInitialState()),[i,e]));return ah.useDebugValue(n),n}const dA=i=>{const e=cA(i),n=a=>fA(e,a);return Object.assign(n,e),n},mA=(i=>dA);function aE(i,e){let n;try{n=i()}catch(o){return}return{getItem:o=>{var u;const h=p=>p===null?null:JSON.parse(p,void 0),m=(u=n.getItem(o))!=null?u:null;return m instanceof Promise?m.then(h):h(m)},setItem:(o,u)=>n.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>n.removeItem(o)}}const Wm=i=>e=>{try{const n=i(e);return n instanceof Promise?n:{then(a){return Wm(a)(n)},catch(a){return this}}}catch(n){return{then(a){return this},catch(a){return Wm(a)(n)}}}},pA=(i,e)=>(n,a,o)=>{let u=ye({storage:aE(()=>window.localStorage),partialize:V=>V,version:0,merge:(V,J)=>ye(ye({},J),V)},e),h=!1,m=0;const p=new Set,g=new Set;let E=u.storage;if(!E)return i((...V)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),n(...V)},a,o);const T=()=>{const V=u.partialize(ye({},a()));return E.setItem(u.name,{state:V,version:u.version})},A=o.setState;o.setState=(V,J)=>(A(V,J),T());const k=i((...V)=>(n(...V),T()),a,o);o.getInitialState=()=>k;let F;const W=()=>{var V,J;if(!E)return;const te=++m;h=!1,p.forEach(re=>{var X;return re((X=a())!=null?X:k)});const $=((J=u.onRehydrateStorage)==null?void 0:J.call(u,(V=a())!=null?V:k))||void 0;return Wm(E.getItem.bind(E))(u.name).then(re=>{if(re)if(typeof re.version=="number"&&re.version!==u.version){if(u.migrate){const X=u.migrate(re.state,re.version);return X instanceof Promise?X.then(ce=>[!0,ce]):[!0,X]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,re.state];return[!1,void 0]}).then(re=>{var X;if(te!==m)return;const[ce,R]=re;if(F=u.merge(R,(X=a())!=null?X:k),n(F,!0),ce)return T()}).then(()=>{te===m&&($==null||$(F,void 0),F=a(),h=!0,g.forEach(re=>re(F)))}).catch(re=>{te===m&&($==null||$(void 0,re))})};return o.persist={setOptions:V=>{u=ye(ye({},u),V),V.storage&&(E=V.storage)},clearStorage:()=>{E==null||E.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>W(),hasHydrated:()=>h,onHydrate:V=>(p.add(V),()=>{p.delete(V)}),onFinishHydration:V=>(g.add(V),()=>{g.delete(V)})},u.skipHydration||W(),F||k},gA=pA,sE=6048e5,yA=864e5,oE=6e4,lE=36e5,av=Symbol.for("constructDateFrom");function hn(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&av in i?i[av](e):i instanceof Date?new i.constructor(e):new Date(e)}function Pt(i,e){return hn(e||i,i)}function Yn(i,e,n){const a=Pt(i,n==null?void 0:n.in);return isNaN(e)?hn(i,NaN):(e&&a.setDate(a.getDate()+e),a)}function Np(i,e,n){const a=Pt(i,n==null?void 0:n.in);if(isNaN(e))return hn(i,NaN);if(!e)return a;const o=a.getDate(),u=hn(i,a.getTime());u.setMonth(a.getMonth()+e+1,0);const h=u.getDate();return o>=h?u:(a.setFullYear(u.getFullYear(),u.getMonth(),o),a)}let _A={};function _u(){return _A}function ca(i,e){var m,p,g,E,T,A,k,F;const n=_u(),a=(F=(k=(E=(g=e==null?void 0:e.weekStartsOn)!=null?g:(p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)!=null?E:n.weekStartsOn)!=null?k:(A=(T=n.locale)==null?void 0:T.options)==null?void 0:A.weekStartsOn)!=null?F:0,o=Pt(i,e==null?void 0:e.in),u=o.getDay(),h=(u<a?7:0)+u-a;return o.setDate(o.getDate()-h),o.setHours(0,0,0,0),o}function Ih(i,e){return ca(i,mt(ye({},e),{weekStartsOn:1}))}function uE(i,e){const n=Pt(i,e==null?void 0:e.in),a=n.getFullYear(),o=hn(n,0);o.setFullYear(a+1,0,4),o.setHours(0,0,0,0);const u=Ih(o),h=hn(n,0);h.setFullYear(a,0,4),h.setHours(0,0,0,0);const m=Ih(h);return n.getTime()>=u.getTime()?a+1:n.getTime()>=m.getTime()?a:a-1}function sv(i){const e=Pt(i),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+i-+n}function nf(i,...e){const n=hn.bind(null,e.find(a=>typeof a=="object"));return e.map(n)}function Dh(i,e){const n=Pt(i,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function vA(i,e,n){const[a,o]=nf(n==null?void 0:n.in,i,e),u=Dh(a),h=Dh(o),m=+u-sv(u),p=+h-sv(h);return Math.round((m-p)/yA)}function EA(i,e){const n=uE(i,e),a=hn(i,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),Ih(a)}function cE(i,e,n){return Yn(i,e*7,n)}function hE(i,e,n){return Np(i,e*12,n)}function TA(i){return hn(i,Date.now())}function bA(i,e,n){const[a,o]=nf(n==null?void 0:n.in,i,e);return+Dh(a)==+Dh(o)}function wA(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function SA(i){return!(!wA(i)&&typeof i!="number"||isNaN(+Pt(i)))}function fE(i,e){const n=Pt(i,e==null?void 0:e.in),a=n.getMonth();return n.setFullYear(n.getFullYear(),a+1,0),n.setHours(23,59,59,999),n}function AA(i,e){const[n,a]=nf(i,e.start,e.end);return{start:n,end:a}}function xA(i,e){const{start:n,end:a}=AA(e==null?void 0:e.in,i);let o=+n>+a;const u=o?+n:+a,h=o?a:n;h.setHours(0,0,0,0),h.setDate(1);let m=1;const p=[];for(;+h<=u;)p.push(hn(n,h)),h.setMonth(h.getMonth()+m);return o?p.reverse():p}function RA(i,e){const n=Pt(i,e==null?void 0:e.in);return n.setDate(1),n.setHours(0,0,0,0),n}function CA(i,e){const n=Pt(i,e==null?void 0:e.in),a=n.getFullYear();return n.setFullYear(a+1,0,0),n.setHours(23,59,59,999),n}function dE(i,e){const n=Pt(i,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function Ip(i,e){var m,p,g,E;const n=_u(),a=(E=(g=n.weekStartsOn)!=null?g:(p=(m=n.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)!=null?E:0,o=Pt(i,e==null?void 0:e.in),u=o.getDay(),h=(u<a?-7:0)+6-(u-a);return o.setDate(o.getDate()+h),o.setHours(23,59,59,999),o}const NA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},IA=(i,e,n)=>{let a;const o=NA[i];return typeof o=="string"?a=o:e===1?a=o.one:a=o.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Mm(i){return(e={})=>{const n=e.width?String(e.width):i.defaultWidth;return i.formats[n]||i.formats[i.defaultWidth]}}const DA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},MA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},OA={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kA={date:Mm({formats:DA,defaultWidth:"full"}),time:Mm({formats:MA,defaultWidth:"full"}),dateTime:Mm({formats:OA,defaultWidth:"full"})},VA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},PA=(i,e,n,a)=>VA[i];function Bl(i){return(e,n)=>{const a=n!=null&&n.context?String(n.context):"standalone";let o;if(a==="formatting"&&i.formattingValues){const h=i.defaultFormattingWidth||i.defaultWidth,m=n!=null&&n.width?String(n.width):h;o=i.formattingValues[m]||i.formattingValues[h]}else{const h=i.defaultWidth,m=n!=null&&n.width?String(n.width):i.defaultWidth;o=i.values[m]||i.values[h]}const u=i.argumentCallback?i.argumentCallback(e):e;return o[u]}}const LA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},UA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},zA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},BA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},HA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},qA=(i,e)=>{const n=Number(i),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},FA={ordinalNumber:qA,era:Bl({values:LA,defaultWidth:"wide"}),quarter:Bl({values:UA,defaultWidth:"wide",argumentCallback:i=>i-1}),month:Bl({values:jA,defaultWidth:"wide"}),day:Bl({values:zA,defaultWidth:"wide"}),dayPeriod:Bl({values:BA,defaultWidth:"wide",formattingValues:HA,defaultFormattingWidth:"wide"})};function Hl(i){return(e,n={})=>{const a=n.width,o=a&&i.matchPatterns[a]||i.matchPatterns[i.defaultMatchWidth],u=e.match(o);if(!u)return null;const h=u[0],m=a&&i.parsePatterns[a]||i.parsePatterns[i.defaultParseWidth],p=Array.isArray(m)?YA(m,T=>T.test(h)):GA(m,T=>T.test(h));let g;g=i.valueCallback?i.valueCallback(p):p,g=n.valueCallback?n.valueCallback(g):g;const E=e.slice(h.length);return{value:g,rest:E}}}function GA(i,e){for(const n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&e(i[n]))return n}function YA(i,e){for(let n=0;n<i.length;n++)if(e(i[n]))return n}function $A(i){return(e,n={})=>{const a=e.match(i.matchPattern);if(!a)return null;const o=a[0],u=e.match(i.parsePattern);if(!u)return null;let h=i.valueCallback?i.valueCallback(u[0]):u[0];h=n.valueCallback?n.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}const QA=/^(\d+)(th|st|nd|rd)?/i,KA=/\d+/i,XA={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},WA={any:[/^b/i,/^(a|c)/i]},JA={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},ZA={any:[/1/i,/2/i,/3/i,/4/i]},ex={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ix={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},rx={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ax={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sx={ordinalNumber:$A({matchPattern:QA,parsePattern:KA,valueCallback:i=>parseInt(i,10)}),era:Hl({matchPatterns:XA,defaultMatchWidth:"wide",parsePatterns:WA,defaultParseWidth:"any"}),quarter:Hl({matchPatterns:JA,defaultMatchWidth:"wide",parsePatterns:ZA,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Hl({matchPatterns:ex,defaultMatchWidth:"wide",parsePatterns:tx,defaultParseWidth:"any"}),day:Hl({matchPatterns:nx,defaultMatchWidth:"wide",parsePatterns:ix,defaultParseWidth:"any"}),dayPeriod:Hl({matchPatterns:rx,defaultMatchWidth:"any",parsePatterns:ax,defaultParseWidth:"any"})},ox={code:"en-US",formatDistance:IA,formatLong:kA,formatRelative:PA,localize:FA,match:sx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function lx(i,e){const n=Pt(i,e==null?void 0:e.in);return vA(n,dE(n))+1}function ux(i,e){const n=Pt(i,e==null?void 0:e.in),a=+Ih(n)-+EA(n);return Math.round(a/sE)+1}function mE(i,e){var E,T,A,k,F,W,V,J;const n=Pt(i,e==null?void 0:e.in),a=n.getFullYear(),o=_u(),u=(J=(V=(k=(A=e==null?void 0:e.firstWeekContainsDate)!=null?A:(T=(E=e==null?void 0:e.locale)==null?void 0:E.options)==null?void 0:T.firstWeekContainsDate)!=null?k:o.firstWeekContainsDate)!=null?V:(W=(F=o.locale)==null?void 0:F.options)==null?void 0:W.firstWeekContainsDate)!=null?J:1,h=hn((e==null?void 0:e.in)||i,0);h.setFullYear(a+1,0,u),h.setHours(0,0,0,0);const m=ca(h,e),p=hn((e==null?void 0:e.in)||i,0);p.setFullYear(a,0,u),p.setHours(0,0,0,0);const g=ca(p,e);return+n>=+m?a+1:+n>=+g?a:a-1}function cx(i,e){var m,p,g,E,T,A,k,F;const n=_u(),a=(F=(k=(E=(g=e==null?void 0:e.firstWeekContainsDate)!=null?g:(p=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)!=null?E:n.firstWeekContainsDate)!=null?k:(A=(T=n.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)!=null?F:1,o=mE(i,e),u=hn((e==null?void 0:e.in)||i,0);return u.setFullYear(o,0,a),u.setHours(0,0,0,0),ca(u,e)}function hx(i,e){const n=Pt(i,e==null?void 0:e.in),a=+ca(n,e)-+cx(n,e);return Math.round(a/sE)+1}function et(i,e){const n=i<0?"-":"",a=Math.abs(i).toString().padStart(e,"0");return n+a}const ea={y(i,e){const n=i.getFullYear(),a=n>0?n:1-n;return et(e==="yy"?a%100:a,e.length)},M(i,e){const n=i.getMonth();return e==="M"?String(n+1):et(n+1,2)},d(i,e){return et(i.getDate(),e.length)},a(i,e){const n=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return n==="am"?"a.m.":"p.m."}},h(i,e){return et(i.getHours()%12||12,e.length)},H(i,e){return et(i.getHours(),e.length)},m(i,e){return et(i.getMinutes(),e.length)},s(i,e){return et(i.getSeconds(),e.length)},S(i,e){const n=e.length,a=i.getMilliseconds(),o=Math.trunc(a*Math.pow(10,n-3));return et(o,e.length)}},no={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ov={G:function(i,e,n){const a=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});default:return n.era(a,{width:"wide"})}},y:function(i,e,n){if(e==="yo"){const a=i.getFullYear(),o=a>0?a:1-a;return n.ordinalNumber(o,{unit:"year"})}return ea.y(i,e)},Y:function(i,e,n,a){const o=mE(i,a),u=o>0?o:1-o;if(e==="YY"){const h=u%100;return et(h,2)}return e==="Yo"?n.ordinalNumber(u,{unit:"year"}):et(u,e.length)},R:function(i,e){const n=uE(i);return et(n,e.length)},u:function(i,e){const n=i.getFullYear();return et(n,e.length)},Q:function(i,e,n){const a=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(a);case"QQ":return et(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(i,e,n){const a=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(a);case"qq":return et(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(i,e,n){const a=i.getMonth();switch(e){case"M":case"MM":return ea.M(i,e);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(i,e,n){const a=i.getMonth();switch(e){case"L":return String(a+1);case"LL":return et(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(i,e,n,a){const o=hx(i,a);return e==="wo"?n.ordinalNumber(o,{unit:"week"}):et(o,e.length)},I:function(i,e,n){const a=ux(i);return e==="Io"?n.ordinalNumber(a,{unit:"week"}):et(a,e.length)},d:function(i,e,n){return e==="do"?n.ordinalNumber(i.getDate(),{unit:"date"}):ea.d(i,e)},D:function(i,e,n){const a=lx(i);return e==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):et(a,e.length)},E:function(i,e,n){const a=i.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(i,e,n,a){const o=i.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"e":return String(u);case"ee":return et(u,2);case"eo":return n.ordinalNumber(u,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(i,e,n,a){const o=i.getDay(),u=(o-a.weekStartsOn+8)%7||7;switch(e){case"c":return String(u);case"cc":return et(u,e.length);case"co":return n.ordinalNumber(u,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(i,e,n){const a=i.getDay(),o=a===0?7:a;switch(e){case"i":return String(o);case"ii":return et(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(i,e,n){const o=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(i,e,n){const a=i.getHours();let o;switch(a===12?o=no.noon:a===0?o=no.midnight:o=a/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(i,e,n){const a=i.getHours();let o;switch(a>=17?o=no.evening:a>=12?o=no.afternoon:a>=4?o=no.morning:o=no.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(o,{width:"narrow",context:"formatting"});default:return n.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(i,e,n){if(e==="ho"){let a=i.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return ea.h(i,e)},H:function(i,e,n){return e==="Ho"?n.ordinalNumber(i.getHours(),{unit:"hour"}):ea.H(i,e)},K:function(i,e,n){const a=i.getHours()%12;return e==="Ko"?n.ordinalNumber(a,{unit:"hour"}):et(a,e.length)},k:function(i,e,n){let a=i.getHours();return a===0&&(a=24),e==="ko"?n.ordinalNumber(a,{unit:"hour"}):et(a,e.length)},m:function(i,e,n){return e==="mo"?n.ordinalNumber(i.getMinutes(),{unit:"minute"}):ea.m(i,e)},s:function(i,e,n){return e==="so"?n.ordinalNumber(i.getSeconds(),{unit:"second"}):ea.s(i,e)},S:function(i,e){return ea.S(i,e)},X:function(i,e,n){const a=i.getTimezoneOffset();if(a===0)return"Z";switch(e){case"X":return uv(a);case"XXXX":case"XX":return Ka(a);default:return Ka(a,":")}},x:function(i,e,n){const a=i.getTimezoneOffset();switch(e){case"x":return uv(a);case"xxxx":case"xx":return Ka(a);default:return Ka(a,":")}},O:function(i,e,n){const a=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+lv(a,":");default:return"GMT"+Ka(a,":")}},z:function(i,e,n){const a=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+lv(a,":");default:return"GMT"+Ka(a,":")}},t:function(i,e,n){const a=Math.trunc(+i/1e3);return et(a,e.length)},T:function(i,e,n){return et(+i,e.length)}};function lv(i,e=""){const n=i>0?"-":"+",a=Math.abs(i),o=Math.trunc(a/60),u=a%60;return u===0?n+String(o):n+String(o)+e+et(u,2)}function uv(i,e){return i%60===0?(i>0?"-":"+")+et(Math.abs(i)/60,2):Ka(i,e)}function Ka(i,e=""){const n=i>0?"-":"+",a=Math.abs(i),o=et(Math.trunc(a/60),2),u=et(a%60,2);return n+o+e+u}const cv=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},pE=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},fx=(i,e)=>{const n=i.match(/(P+)(p+)?/)||[],a=n[1],o=n[2];if(!o)return cv(i,e);let u;switch(a){case"P":u=e.dateTime({width:"short"});break;case"PP":u=e.dateTime({width:"medium"});break;case"PPP":u=e.dateTime({width:"long"});break;default:u=e.dateTime({width:"full"});break}return u.replace("{{date}}",cv(a,e)).replace("{{time}}",pE(o,e))},dx={p:pE,P:fx},mx=/^D+$/,px=/^Y+$/,gx=["D","DD","YY","YYYY"];function yx(i){return mx.test(i)}function _x(i){return px.test(i)}function vx(i,e,n){const a=Ex(i,e,n);if(console.warn(a),gx.includes(i))throw new RangeError(a)}function Ex(i,e,n){const a=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Tx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,bx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,wx=/^'([^]*?)'?$/,Sx=/''/g,Ax=/[a-zA-Z]/;function xe(i,e,n){var E,T,A,k,F,W,V,J,te;const a=_u(),o=(E=a.locale)!=null?E:ox,u=(F=(k=a.firstWeekContainsDate)!=null?k:(A=(T=a.locale)==null?void 0:T.options)==null?void 0:A.firstWeekContainsDate)!=null?F:1,h=(te=(J=a.weekStartsOn)!=null?J:(V=(W=a.locale)==null?void 0:W.options)==null?void 0:V.weekStartsOn)!=null?te:0,m=Pt(i,n==null?void 0:n.in);if(!SA(m))throw new RangeError("Invalid time value");let p=e.match(bx).map($=>{const re=$[0];if(re==="p"||re==="P"){const X=dx[re];return X($,o.formatLong)}return $}).join("").match(Tx).map($=>{if($==="''")return{isToken:!1,value:"'"};const re=$[0];if(re==="'")return{isToken:!1,value:xx($)};if(ov[re])return{isToken:!0,value:$};if(re.match(Ax))throw new RangeError("Format string contains an unescaped latin alphabet character `"+re+"`");return{isToken:!1,value:$}});o.localize.preprocessor&&(p=o.localize.preprocessor(m,p));const g={firstWeekContainsDate:u,weekStartsOn:h,locale:o};return p.map($=>{if(!$.isToken)return $.value;const re=$.value;(_x(re)||yx(re))&&vx(re,e,String(i));const X=ov[re[0]];return X(m,re,o.localize,g)}).join("")}function xx(i){const e=i.match(wx);return e?e[1].replace(Sx,"'"):i}function Rx(i,e){return Pt(i,e==null?void 0:e.in).getDay()}function Mh(i,e,n){const[a,o]=nf(n==null?void 0:n.in,i,e);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()}function lo(i,e){return bA(hn(i,i),TA(i))}function Cx(i,e,n){return Yn(i,-1,n)}function ql(i,e){const n=()=>hn(e==null?void 0:e.in,NaN),o=Mx(i);let u;if(o.date){const g=Ox(o.date,2);u=kx(g.restDateString,g.year)}if(!u||isNaN(+u))return n();const h=+u;let m=0,p;if(o.time&&(m=Vx(o.time),isNaN(m)))return n();if(o.timezone){if(p=Px(o.timezone),isNaN(p))return n()}else{const g=new Date(h+m),E=Pt(0,e==null?void 0:e.in);return E.setFullYear(g.getUTCFullYear(),g.getUTCMonth(),g.getUTCDate()),E.setHours(g.getUTCHours(),g.getUTCMinutes(),g.getUTCSeconds(),g.getUTCMilliseconds()),E}return Pt(h+m+p,e==null?void 0:e.in)}const oh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Nx=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ix=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Dx=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Mx(i){const e={},n=i.split(oh.dateTimeDelimiter);let a;if(n.length>2)return e;if(/:/.test(n[0])?a=n[0]:(e.date=n[0],a=n[1],oh.timeZoneDelimiter.test(e.date)&&(e.date=i.split(oh.timeZoneDelimiter)[0],a=i.substr(e.date.length,i.length))),a){const o=oh.timezone.exec(a);o?(e.time=a.replace(o[1],""),e.timezone=o[1]):e.time=a}return e}function Ox(i,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),a=i.match(n);if(!a)return{year:NaN,restDateString:""};const o=a[1]?parseInt(a[1]):null,u=a[2]?parseInt(a[2]):null;return{year:u===null?o:u*100,restDateString:i.slice((a[1]||a[2]).length)}}function kx(i,e){if(e===null)return new Date(NaN);const n=i.match(Nx);if(!n)return new Date(NaN);const a=!!n[4],o=Fl(n[1]),u=Fl(n[2])-1,h=Fl(n[3]),m=Fl(n[4]),p=Fl(n[5])-1;if(a)return Bx(e,m,p)?Lx(e,m,p):new Date(NaN);{const g=new Date(0);return!jx(e,u,h)||!zx(e,o)?new Date(NaN):(g.setUTCFullYear(e,u,Math.max(o,h)),g)}}function Fl(i){return i?parseInt(i):1}function Vx(i){const e=i.match(Ix);if(!e)return NaN;const n=Om(e[1]),a=Om(e[2]),o=Om(e[3]);return Hx(n,a,o)?n*lE+a*oE+o*1e3:NaN}function Om(i){return i&&parseFloat(i.replace(",","."))||0}function Px(i){if(i==="Z")return 0;const e=i.match(Dx);if(!e)return 0;const n=e[1]==="+"?-1:1,a=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return qx(a,o)?n*(a*lE+o*oE):NaN}function Lx(i,e,n){const a=new Date(0);a.setUTCFullYear(i,0,4);const o=a.getUTCDay()||7,u=(e-1)*7+n+1-o;return a.setUTCDate(a.getUTCDate()+u),a}const Ux=[31,null,31,30,31,30,31,31,30,31,30,31];function gE(i){return i%400===0||i%4===0&&i%100!==0}function jx(i,e,n){return e>=0&&e<=11&&n>=1&&n<=(Ux[e]||(gE(i)?29:28))}function zx(i,e){return e>=1&&e<=(gE(i)?366:365)}function Bx(i,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function Hx(i,e,n){return i===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&i>=0&&i<25}function qx(i,e){return e>=0&&e<=59}function Fx(i,e,n){return Np(i,-1,n)}function Gx(i,e,n){return cE(i,-1,n)}function Yx(i,e,n){return hE(i,-1,n)}const $x=()=>{try{const i=window.localStorage;return i.getItem("__test__"),i}catch(i){const e=new Map;return{getItem:n=>e.get(n)||null,setItem:(n,a)=>e.set(n,a),removeItem:n=>e.delete(n)}}},jt=mA()(gA(i=>({currentDate:new Date,todos:[],drawings:{},monthlyNotes:{},weeklyViewMode:"tablet",appPin:null,isLocked:!1,weatherCache:{},notifiedTodoIds:[],currentUserUid:null,isSyncing:!1,setWeatherCache:e=>i(n=>({weatherCache:ye(ye({},n.weatherCache),e)})),addNotifiedTodoId:(e,n)=>{i(o=>({notifiedTodoIds:[...o.notifiedTodoIds,e]}));let a=!1;try{a="Notification"in window&&Notification.permission==="granted"}catch(o){a=!1}a&&new Notification(" ",{body:n,icon:"/gangneung-diary/icon.svg",tag:e})},clearExpiredNotifications:()=>i(e=>{const n=new Set(e.todos.map(o=>o.id));return{notifiedTodoIds:e.notifiedTodoIds.filter(o=>n.has(o))}}),setCurrentDate:e=>i({currentDate:e}),addTodo:(e,n,a,o,u,h)=>i(m=>{const p={id:Math.random().toString(36).substr(2,9),date:xe(e,"yyyy-MM-dd"),endDate:a||xe(e,"yyyy-MM-dd"),color:o||"#A7C7E7",text:n,isCompleted:!1};return u&&(p.startTime=u),h&&(p.endTime=h),{todos:[...m.todos,p]}}),updateTodo:(e,n)=>i(a=>({todos:a.todos.map(o=>{if(o.id===e){const u=ye(ye({},o),n);return u.startTime||delete u.startTime,u.endTime||delete u.endTime,u}return o})})),toggleTodo:e=>i(n=>({todos:n.todos.map(a=>a.id===e?mt(ye({},a),{isCompleted:!a.isCompleted}):a)})),deleteTodo:e=>i(n=>({todos:n.todos.filter(a=>a.id!==e)})),saveDrawing:(e,n)=>i(a=>({drawings:mt(ye({},a.drawings),{[e]:n})})),clearDrawing:e=>i(n=>{const a=ye({},n.drawings);return delete a[e],{drawings:a}}),setMonthlyNote:(e,n)=>i(a=>({monthlyNotes:mt(ye({},a.monthlyNotes),{[e]:n})})),setWeeklyViewMode:e=>i({weeklyViewMode:e}),setAppPin:e=>i(()=>({appPin:e,isLocked:e!==null})),verifyPin:e=>{let n=!1;return i(a=>a.appPin===e?(n=!0,{isLocked:!1}):{isLocked:!0}),n},lockApp:()=>i(e=>({isLocked:e.appPin!==null})),unlockApp:()=>i({isLocked:!1})}),{name:"gangneung-diary-storage",storage:aE(()=>$x()),partialize:i=>({todos:i.todos,drawings:i.drawings,monthlyNotes:i.monthlyNotes,weeklyViewMode:i.weeklyViewMode,appPin:i.appPin,currentUserUid:i.currentUserUid}),onRehydrateStorage:()=>i=>{i&&i.appPin!==null&&jt.setState({isLocked:!0})}}));const yE=(...i)=>i.filter((e,n,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===n).join(" ").trim();const Qx=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Kx=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,a)=>a?a.toUpperCase():n.toLowerCase());const hv=i=>{const e=Kx(i);return e.charAt(0).toUpperCase()+e.slice(1)};var Xx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Wx=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const Jx=q.forwardRef((g,p)=>{var E=g,{color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:h}=E,m=si(E,["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"]);return q.createElement("svg",ye(ye(mt(ye({ref:p},Xx),{width:e,height:e,stroke:i,strokeWidth:a?Number(n)*24/Number(e):n,className:yE("lucide",o)}),!u&&!Wx(m)&&{"aria-hidden":"true"}),m),[...h.map(([T,A])=>q.createElement(T,A)),...Array.isArray(u)?u:[u]])});const tt=(i,e)=>{const n=q.forwardRef((h,u)=>{var m=h,{className:a}=m,o=si(m,["className"]);return q.createElement(Jx,ye({ref:u,iconNode:e,className:yE(`lucide-${Qx(hv(i))}`,`lucide-${i}`,a)},o))});return n.displayName=hv(i),n};const Zx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],eR=tt("calendar-check",Zx);const tR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],_E=tt("calendar-days",tR);const nR=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],iR=tt("calendar-range",nR);const rR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aR=tt("calendar",rR);const sR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],oR=tt("check",sR);const lR=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rf=tt("chevron-left",lR);const uR=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],af=tt("chevron-right",uR);const cR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],hR=tt("clock",cR);const fR=[["path",{d:"M10.94 5.274A7 7 0 0 1 15.71 10h1.79a4.5 4.5 0 0 1 4.222 6.057",key:"1uxyv8"}],["path",{d:"M18.796 18.81A4.5 4.5 0 0 1 17.5 19H9A7 7 0 0 1 5.79 5.78",key:"99tcn7"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dR=tt("cloud-off",fR);const mR=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],pR=tt("cloud",mR);const gR=[["path",{d:"M10 5a2 2 0 0 0-1.344.519l-6.328 5.74a1 1 0 0 0 0 1.481l6.328 5.741A2 2 0 0 0 10 19h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2z",key:"1yo7s0"}],["path",{d:"m12 9 6 6",key:"anjzzh"}],["path",{d:"m18 9-6 6",key:"1fp51s"}]],yR=tt("delete",gR);const _R=[["path",{d:"M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21",key:"g5wo59"}],["path",{d:"m5.082 11.09 8.828 8.828",key:"1wx5vj"}]],vR=tt("eraser",_R);const ER=[["path",{d:"M13 5h8",key:"a7qcls"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 19h8",key:"c3s6r1"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["rect",{x:"3",y:"4",width:"6",height:"6",rx:"1",key:"cif1o7"}]],TR=tt("list-todo",ER);const bR=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fv=tt("loader-circle",bR);const wR=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],SR=tt("lock",wR);const AR=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],xR=tt("log-in",AR);const RR=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CR=tt("log-out",RR);const NR=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],IR=tt("maximize-2",NR);const DR=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],MR=tt("mouse-pointer-2",DR);const OR=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],kR=tt("palette",OR);const VR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sf=tt("pen",VR);const PR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],LR=tt("plus",PR);const UR=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],jR=tt("refresh-cw",UR);const zR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],BR=tt("shield-alert",zR);const HR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],qR=tt("shield-check",HR);const FR=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vE=tt("shield",FR);const GR=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],EE=tt("trash-2",GR);const YR=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],$R=tt("type",YR);const QR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],KR=tt("x",QR),km={"2024-02-09":" ","2024-02-10":"","2024-02-11":" ","2024-05-15":"","2024-09-16":" ","2024-09-17":"","2024-09-18":" ","2025-01-28":" ","2025-01-29":"","2025-01-30":" ","2025-05-05":"","2025-10-05":" ","2025-10-06":"","2025-10-07":" ","2026-02-16":" ","2026-02-17":"","2026-02-18":" ","2026-05-24":"","2026-09-24":" ","2026-09-25":"","2026-09-26":" ","2027-02-06":" ","2027-02-07":"","2027-02-08":" ","2027-05-13":"","2027-09-14":" ","2027-09-15":"","2027-09-16":" ","2028-01-26":" ","2028-01-27":"","2028-01-28":" ","2028-05-02":"","2028-10-02":" ","2028-10-03":"","2028-10-04":" ","2029-02-12":" ","2029-02-13":"","2029-02-14":" ","2029-05-20":"","2029-09-21":" ","2029-09-22":"","2029-09-23":" ","2030-02-02":" ","2030-02-03":"","2030-02-04":" ","2030-05-09":"","2030-09-11":" ","2030-09-12":"","2030-09-13":" "};function of(i){const e=i.getFullYear(),n=i.getMonth()+1,a=i.getDate(),o=Rx(i),u=`${e}-${n.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")}`,h=`${n.toString().padStart(2,"0")}-${a.toString().padStart(2,"0")}`;let m=null;const p={"01-01":"","03-01":"","05-05":"","06-06":"","08-15":"","10-03":"","10-09":"","12-25":""};p[h]&&(m=p[h]),e>=2026&&h==="07-17"&&(m=m?`${m}/`:""),km[u]&&(m=m?`${m}/${km[u]}`:km[u]);const g={"2024-02-12":"","2024-05-06":"","2025-03-03":"","2025-05-06":"","2025-10-08":"","2026-03-02":"","2026-05-25":"","2026-08-17":"","2026-10-05":"","2027-02-09":"","2027-08-16":"","2027-10-04":"","2027-10-11":"","2027-12-27":"","2028-10-05":"","2029-05-21":"","2029-09-24":"","2030-02-05":"","2030-05-06":""};return g[u]&&(m=m?`${m}(${g[u]})`:g[u]),{isHoliday:m!==null||o===0,name:m}}const XR=()=>{const{currentDate:i,setCurrentDate:e}=jt(),n=gu(),a=()=>e(Yx(i)),o=()=>e(hE(i,1)),u=()=>e(new Date),h=dE(i),m=CA(i),p=xA({start:h,end:m}),g=E=>{const T=fE(E),A=ca(E),k=Ip(T),F=[];let W=[],V=A,J="";for(;V<=k;){for(let te=0;te<7;te++){J=xe(V,"d");const $=V,re=Mh(V,E),{isHoliday:X}=of(V);W.push(w.jsx("div",{onClick:ce=>{ce.stopPropagation(),e($),n("/daily")},className:`text-center py-1 text-[11px] font-medium cursor-pointer rounded-sm transition-colors
              ${re?X?"text-accent-red font-bold":"text-ink-700 hover:bg-paper-100":"text-paper-300 opacity-50"}
              ${lo(V)?"bg-accent-blue/10 text-accent-blue font-bold ring-1 ring-accent-blue/50":""}
            `,children:J},V.toString())),V=Yn(V,1)}F.push(w.jsx("div",{className:"grid grid-cols-7",children:W},V.toString())),W=[]}return w.jsxs("div",{className:"flex flex-col h-full bg-white border border-paper-200/70 p-4 rounded-xl shadow-sm hover:shadow-md transition-shadow hover:border-paper-300 cursor-pointer group",onClick:()=>{e(E),n("/")},children:[w.jsx("div",{className:"flex items-center justify-between mb-3",children:w.jsxs("h3",{className:"font-serif font-bold text-xl text-ink-900 group-hover:text-accent-blue transition-colors",children:[xe(E,"M")," ",w.jsx("span",{className:"text-sm font-sans font-medium text-ink-400 ml-1",children:xe(E,"MMMM")})]})}),w.jsx("div",{className:"grid grid-cols-7 mb-1 pb-1 border-b border-paper-100",children:["S","M","T","W","T","F","S"].map((te,$)=>w.jsx("div",{className:`text-center text-[9px] font-bold ${$===0?"text-accent-red":"text-ink-400"}`,children:te},$))}),w.jsx("div",{className:"flex-1",children:F})]})};return w.jsxs("div",{className:"w-full h-full flex flex-col pt-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[w.jsxs("h2",{className:"text-4xl font-extrabold text-ink-900 font-serif tracking-widest flex items-baseline gap-4",children:[xe(i,"yyyy"),w.jsx("span",{className:"text-base font-medium text-ink-400 tracking-normal font-sans",children:" "})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:a,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(rf,{size:20})}),w.jsx("button",{onClick:u,className:"px-4 py-1.5 text-sm font-bold bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-full transition-colors",children:"This Year"}),w.jsx("button",{onClick:o,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(af,{size:20})})]})]}),w.jsx("div",{className:"flex-1 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-5 overflow-y-auto custom-scrollbar pb-6 px-1",children:p.map(E=>w.jsx("div",{children:g(E)},E.toString()))})]})},TE=({dateStr:i,width:e,height:n})=>{const a=q.useRef(null),[o,u]=q.useState(!1),[h,m]=q.useState(!1),{drawings:p,saveDrawing:g,clearDrawing:E}=jt();q.useEffect(()=>{const V=a.current;if(!V)return;const J=V.getContext("2d");if(!J)return;J.clearRect(0,0,e,n);const te=p[i];if(te){const $=new Image;$.onload=()=>{J.drawImage($,0,0)},$.src=te}},[i,e,n,p]);const T=V=>{V.preventDefault();const J=a.current;if(!J)return;const te=J.getContext("2d");if(!te)return;u(!0);const{offsetX:$,offsetY:re}=F(V,J);te.beginPath(),te.moveTo($,re)},A=V=>{if(!o)return;V.preventDefault();const J=a.current;if(!J)return;const te=J.getContext("2d");if(!te)return;const{offsetX:$,offsetY:re}=F(V,J),X=J.getBoundingClientRect(),ce=J.width/X.width;te.lineTo($,re),te.globalCompositeOperation=h?"destination-out":"source-over",te.strokeStyle=h?"rgba(0,0,0,1)":"#1a202c",te.lineWidth=h?20*ce:1.5*ce,te.lineCap="round",te.lineJoin="round",te.stroke()},k=()=>{if(!o)return;u(!1);const V=a.current;if(!V)return;const J=V.toDataURL("image/png");g(i,J)},F=(V,J)=>{const te=J.getBoundingClientRect(),$=J.width/te.width,re=J.height/te.height;let X,ce;return"touches"in V?(X=V.touches[0].clientX,ce=V.touches[0].clientY):(X=V.clientX,ce=V.clientY),{offsetX:(X-te.left)*$,offsetY:(ce-te.top)*re}},W=()=>{window.confirm("     ?")&&(E(i),m(!1))};return w.jsxs("div",{className:"relative group/canvas w-full h-full",style:{touchAction:"none"},children:[w.jsxs("div",{className:"absolute top-2 right-2 flex gap-1.5 opacity-0 group-hover/canvas:opacity-100 transition-opacity z-20",children:[w.jsx("button",{onClick:V=>{V.stopPropagation(),m(!h)},className:`p-1.5 rounded-full backdrop-blur-sm border shadow-sm transition-colors
                        ${h?"bg-accent-blue text-white border-accent-blue":"bg-white/80 text-ink-500 border-paper-200 hover:bg-paper-100"}
                    `,title:" ",children:h?w.jsx(sf,{size:14}):w.jsx(vR,{size:14})}),w.jsx("button",{onClick:V=>{V.stopPropagation(),W()},className:"p-1.5 bg-white/80 backdrop-blur-sm text-accent-red hover:bg-red-50 border border-red-100 rounded-full shadow-sm transition-colors",title:" ",children:w.jsx(EE,{size:14})})]}),w.jsx("canvas",{ref:a,width:e,height:n,onMouseDown:T,onMouseMove:A,onMouseUp:k,onMouseLeave:k,onTouchStart:T,onTouchMove:A,onTouchEnd:k,onTouchCancel:k,className:`w-full h-full bg-transparent absolute inset-0 z-10 ${h?"cursor-[url(/eraser.png),_pointer]":"cursor-crosshair"}`,style:{touchAction:"none"}})]})},WR=()=>{const{currentDate:i,setCurrentDate:e,todos:n,weatherCache:a,monthlyNotes:o,setMonthlyNote:u}=jt(),h=gu(),m=()=>e(Fx(i)),p=()=>e(Np(i,1)),[g,E]=q.useState(!0),T=xe(i,"yyyy-MM"),A=(o==null?void 0:o[T])||"",k=RA(i),F=fE(k),W=ca(k),V=Ip(F),J="d",te=[];let $=[],re=W,X="";for(;re<=V;){const ce=re,R=Yn(ce,6),x=n.filter(I=>{const O=I.date,N=I.endDate||I.date;return O<=xe(R,"yyyy-MM-dd")&&N>=xe(ce,"yyyy-MM-dd")});x.sort((I,O)=>{if(I.date!==O.date)return I.date.localeCompare(O.date);const N=new Date(I.endDate||I.date).getTime()-new Date(I.date).getTime();return new Date(O.endDate||O.date).getTime()-new Date(O.date).getTime()-N});const C={},M={};for(let I=0;I<7;I++){const O=xe(Yn(ce,I),"yyyy-MM-dd");C[O]=[null,null,null],M[O]=0}x.forEach(I=>{const O=I.date,N=I.endDate||I.date,Oe=[];for(let Y=0;Y<7;Y++){const le=xe(Yn(ce,Y),"yyyy-MM-dd");le>=O&&le<=N&&Oe.push(le)}let Fe=-1;for(let Y=0;Y<3;Y++){let le=!0;for(const ge of Oe)if(C[ge][Y]!==null){le=!1;break}if(le){Fe=Y;break}}if(Fe!==-1)for(const Y of Oe)C[Y][Fe]=I;else for(const Y of Oe)M[Y]++});for(let I=0;I<7;I++){X=xe(re,J);const O=re,N=xe(O,"yyyy-MM-dd"),{isHoliday:Oe,name:Fe}=of(re),Y=C[N],le=M[N],ge=Y.reduce((Te,P,ee)=>P!==null?ee:Te,-1),ke=Y.slice(0,ge+1);$.push(w.jsxs("div",{onClick:()=>{e(O),h("/daily")},className:`border-r border-b border-paper-200 p-2 min-h-[120px] cursor-pointer transition-colors relative group overflow-hidden
            ${Mh(re,k)?"bg-white text-ink-700 hover:bg-paper-50":"bg-paper-50/50 text-ink-400 opacity-60"}
          `,children:[w.jsx("div",{className:"flex justify-between items-start",children:w.jsxs("div",{className:"flex flex-col",children:[w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx("span",{className:`text-sm font-semibold shrink-0 ${lo(re)?"bg-accent-blue text-white w-6 h-6 rounded-full flex items-center justify-center":""} ${Oe?"text-accent-red":""}`,children:X}),a[N]&&w.jsx("span",{className:"text-[12px] opacity-90 pb-0.5",children:a[N]})]}),Fe&&w.jsx("span",{className:`text-[9px] mt-0.5 font-bold line-clamp-1 break-all pr-1 ${Mh(re,k)?"text-accent-red":"text-accent-red/50"}`,children:Fe})]})}),w.jsxs("div",{className:"mt-2 flex flex-col gap-1 w-full",children:[ke.map((Te,P)=>{if(!Te)return w.jsx("div",{className:"h-[18px]"},`empty-${P}`);const ee=Te.date!==(Te.endDate||Te.date),ue=Te.date===N,fe=(Te.endDate||Te.date)===N,ne=I===0;if(!ee)return w.jsxs("div",{className:"flex items-center gap-1.5 px-0.5 w-full h-[18px]",children:[w.jsx("div",{className:`w-1 h-1 rounded-full shrink-0 ${Te.isCompleted?"bg-ink-300":"bg-accent-blue"}`}),w.jsx("span",{className:`text-[10px] font-medium truncate w-full ${Te.isCompleted?"line-through text-ink-300":"text-ink-600"}`,children:Te.text})]},Te.id);let me="-ml-2",Re="-mr-2",ht="pl-2",st="pr-2",En="";ue?(me="ml-0",ht="pl-1.5",En+=" rounded-l-md"):En+=" rounded-l-none border-l border-white/20",fe?(Re="mr-0",st="pr-1.5",En+=" rounded-r-md"):En+=" rounded-r-none border-r border-white/20";const Er=ue||ne;return w.jsx("div",{className:`h-[18px] flex items-center ${me} ${Re} ${ht} ${st} ${En}`,style:{backgroundColor:Te.color||"#A7C7E7",opacity:Te.isCompleted?.6:1},children:Er&&w.jsx("span",{className:`text-[10px] font-bold text-ink-800 truncate ${Te.isCompleted?"line-through opacity-70":""}`,children:Te.text})},Te.id)}),le>0&&w.jsxs("div",{className:"text-[9px] text-ink-400 font-bold pl-1 pt-0.5",children:["+",le," more"]})]})]},re.toString())),re=Yn(re,1)}te.push(w.jsx("div",{className:"grid grid-cols-7 flex-1",children:$},re.toString())),$=[]}return w.jsxs("div",{className:"w-full h-full flex flex-col pt-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[w.jsxs("div",{className:"flex items-baseline gap-3",children:[w.jsx("h2",{className:"text-4xl font-bold text-ink-900 font-serif tracking-tight",children:xe(i,"M")}),w.jsx("span",{className:"text-lg font-medium text-ink-500 uppercase tracking-widest",children:xe(i,"MMMM yyyy")})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("button",{onClick:m,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(rf,{size:20})}),w.jsx("button",{onClick:()=>e(new Date),className:"px-4 py-1.5 text-sm font-bold bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-full transition-colors",children:"Today"}),w.jsx("button",{onClick:p,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(af,{size:20})})]})]}),w.jsxs("div",{className:"flex-1 flex flex-col xl:flex-row gap-4 h-full min-h-0 overflow-y-auto custom-scrollbar xl:overflow-hidden pb-4 xl:pb-0",children:[w.jsxs("div",{className:"flex w-full xl:w-64 border border-paper-200 rounded-xl bg-white p-4 flex-col shadow-sm relative overflow-hidden shrink-0 min-h-[400px] xl:min-h-0",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4 relative z-20 bg-white/50 backdrop-blur-sm rounded-lg px-2",children:[w.jsx("h3",{className:"text-xs font-bold text-ink-400 uppercase tracking-wider",children:"Monthly Notes"}),w.jsxs("div",{className:"flex bg-paper-100 p-0.5 rounded-md border border-paper-200",children:[w.jsx("button",{onClick:()=>E(!0),className:`p-1 rounded transition-colors ${g?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ",children:w.jsx($R,{size:14})}),w.jsx("button",{onClick:()=>E(!1),className:`p-1 rounded transition-colors ${g?"text-ink-400 hover:text-ink-600":"bg-white shadow-sm text-accent-blue"}`,title:"  ",children:w.jsx(sf,{size:14})})]})]}),w.jsxs("div",{className:"flex-1 flex flex-col pt-2 relative",children:[w.jsx("div",{className:"absolute inset-0 z-0 pointer-events-none w-full",children:Array.from({length:15}).map((ce,R)=>w.jsx("div",{className:"diary-line w-full h-[2rem]"},R))}),w.jsx("textarea",{value:A,onChange:ce=>u(T,ce.target.value),className:`absolute inset-0 z-10 w-full h-full bg-transparent resize-none outline-none text-ink-700 text-sm font-medium leading-[2rem] px-2 py-0 custom-scrollbar ${g?"":"pointer-events-none"}`,placeholder:g?" ...":"",style:{lineHeight:"2rem",backgroundAttachment:"local"}}),w.jsx("div",{className:`absolute inset-0 z-10 w-full h-full ${g?"pointer-events-none":""}`,children:w.jsx(TE,{dateStr:`${T}-note`,width:200,height:600})})]})]}),w.jsxs("div",{className:"flex-1 border border-paper-200 rounded-xl bg-white flex flex-col shadow-sm overflow-hidden min-h-[500px]",children:[w.jsx("div",{className:"grid grid-cols-7 border-b border-paper-200 bg-paper-50/50",children:["SUN","MON","TUE","WED","THU","FRI","SAT"].map((ce,R)=>w.jsx("div",{className:`py-2.5 text-center text-xs font-bold ${R===0?"text-accent-red":"text-ink-400"}`,children:ce},ce))}),w.jsx("div",{className:"flex-1 flex flex-col",children:te})]})]})]})},JR=({size:i=18})=>w.jsxs("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"3",y:"4",width:"18",height:"16",rx:"3",ry:"3"}),w.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16",strokeWidth:"3.5"})]}),ZR=({size:i=18})=>w.jsxs("svg",{width:i,height:i,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[w.jsx("rect",{x:"7",y:"2",width:"10",height:"20",rx:"3",ry:"3"}),w.jsx("line",{x1:"12",x2:"12.01",y1:"18",y2:"18",strokeWidth:"3.5"})]}),eC=()=>{const{currentDate:i,setCurrentDate:e,todos:n,weeklyViewMode:a,setWeeklyViewMode:o,weatherCache:u}=jt(),h=gu(),[m,p]=q.useState(!1),g=()=>e(Gx(i)),E=()=>e(cE(i,1)),T=()=>e(new Date),A=ca(i),k=Ip(i),F=[];let W=A;for(let X=0;X<7;X++)F.push(W),W=Yn(W,1);const V=n.filter(X=>{const ce=X.date,R=X.endDate||X.date;return!X.startTime&&ce<=xe(k,"yyyy-MM-dd")&&R>=xe(A,"yyyy-MM-dd")}),J=n.filter(X=>{const ce=X.date,R=X.endDate||X.date;return!!X.startTime&&ce<=xe(k,"yyyy-MM-dd")&&R>=xe(A,"yyyy-MM-dd")});V.sort((X,ce)=>{if(X.date!==ce.date)return X.date.localeCompare(ce.date);const R=new Date(X.endDate||X.date).getTime()-new Date(X.date).getTime();return new Date(ce.endDate||ce.date).getTime()-new Date(ce.date).getTime()-R});const te={};for(let X=0;X<7;X++){const ce=xe(Yn(A,X),"yyyy-MM-dd");te[ce]=[]}V.forEach(X=>{const ce=X.date,R=X.endDate||X.date,x=[];for(let M=0;M<7;M++){const I=xe(Yn(A,M),"yyyy-MM-dd");I>=ce&&I<=R&&x.push(I)}let C=0;for(;;){let M=!0;for(const I of x)if(te[I][C]!==void 0&&te[I][C]!==null){M=!1;break}if(M)break;C++}for(const M of x){for(;te[M].length<=C;)te[M].push(null);te[M][C]=X}});let $=0;for(let X=0;X<7;X++){const ce=xe(Yn(A,X),"yyyy-MM-dd"),x=(te[ce]||[]).reduce((C,M,I)=>M!==null?I:C,-1);x+1>$&&($=x+1)}const re=Math.max(1,$)*(a==="mobile"?34:26)+16;return w.jsxs("div",{className:"w-full h-full flex flex-col pt-2",children:[w.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[w.jsxs("div",{className:"flex items-baseline gap-3",children:[w.jsxs("h2",{className:"text-3xl font-bold text-ink-900 font-serif tracking-tight",children:[xe(A,"M d")," - ",xe(k,"M d")]}),w.jsx("span",{className:"text-sm font-medium text-ink-500 uppercase tracking-widest bg-paper-100/50 px-3 py-1 rounded-full border border-paper-200",children:"Weekly Plan"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsxs("div",{className:"flex bg-paper-100 p-0.5 rounded-md border border-paper-200 mr-1 xl:mr-2",children:[w.jsx("button",{onClick:()=>p(!1),className:`p-1 rounded transition-colors ${m?"text-ink-400 hover:text-ink-600":"bg-white shadow-sm text-accent-blue"}`,title:"() ",children:w.jsx(MR,{size:16})}),w.jsx("button",{onClick:()=>p(!0),className:`p-1 rounded transition-colors ${m?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ",children:w.jsx(sf,{size:16})})]}),w.jsxs("div",{className:"flex bg-paper-100 p-1 rounded-full border border-paper-200 mr-2",children:[w.jsx("button",{onClick:()=>o("tablet"),className:`p-1.5 rounded-full transition-colors ${a==="tablet"?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ( 7 )",children:w.jsx(JR,{size:18})}),w.jsx("button",{onClick:()=>o("mobile"),className:`p-1.5 rounded-full transition-colors ${a==="mobile"?"bg-white shadow-sm text-accent-blue":"text-ink-400 hover:text-ink-600"}`,title:"  ( 1 )",children:w.jsx(ZR,{size:18})})]}),w.jsx("button",{onClick:g,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(rf,{size:20})}),w.jsx("button",{onClick:T,className:"px-4 py-1.5 text-sm font-bold bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-full transition-colors",children:"Today"}),w.jsx("button",{onClick:E,className:"p-2 hover:bg-paper-100 rounded-full text-ink-500 transition-colors",children:w.jsx(af,{size:20})})]})]}),w.jsx("div",{className:`flex-1 flex gap-4 h-full min-h-0 bg-white border border-paper-200 rounded-2xl p-4 md:p-6 shadow-sm overflow-y-auto custom-scrollbar ${a==="mobile"?"flex-col":""}`,children:w.jsx("div",{className:`w-full ${a==="tablet"?"grid grid-cols-7 gap-3 md:gap-4 overflow-x-auto min-h-[600px]":"flex flex-col gap-6"}`,children:F.map(X=>{const{isHoliday:ce,name:R}=of(X);return w.jsxs("div",{className:`flex flex-col border border-paper-200/50 rounded-xl overflow-hidden bg-white
                ${a==="tablet"?"min-w-[140px]":"w-full min-h-[500px] shadow-sm"}
                ${lo(X)?"ring-2 ring-accent-blue/30 border-transparent bg-blue-50/10":""}
              `,children:[w.jsxs("div",{className:"text-center py-3 border-b border-paper-200/50 bg-paper-50/50 relative cursor-pointer hover:bg-paper-100 transition-colors group/header",onClick:()=>{e(X),h("/daily")},title:"  ( ) ",children:[w.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover/header:opacity-100 transition-opacity text-ink-400",children:w.jsx(IR,{size:12})}),lo(X)&&w.jsx("div",{className:"absolute top-0 inset-x-0 h-1 bg-accent-blue"}),w.jsx("p",{className:`text-[10px] font-extrabold uppercase tracking-widest mb-1 ${ce?"text-accent-red":"text-ink-400"}`,children:xe(X,"EEEE")}),w.jsxs("div",{className:"flex flex-col items-center justify-center gap-0.5",children:[w.jsxs("div",{className:"flex items-center justify-center gap-1 relative",children:[!Mh(X,A)&&!ce&&w.jsxs("span",{className:"text-xs font-bold text-ink-400",children:[xe(X,"M"),"."]}),w.jsxs("span",{className:`text-2xl font-serif font-black ${lo(X)?"text-accent-blue":ce?"text-accent-red":"text-ink-900"}`,children:[xe(X,"d"),u[xe(X,"yyyy-MM-dd")]&&w.jsx("span",{className:"absolute -right-5 top-0 text-[13px] opacity-90 drop-shadow-sm pointer-events-none",children:u[xe(X,"yyyy-MM-dd")]})]})]}),R&&w.jsx("span",{className:"text-[9px] text-accent-red font-bold leading-tight px-1 text-center truncate w-full",children:R})]})]}),w.jsxs("div",{className:"flex-1 relative flex flex-col py-0 pr-3 pl-8 bg-transparent",children:[w.jsx("div",{className:"relative z-10 w-full pointer-events-none pr-1 pt-3 pb-2 border-b border-paper-300 border-dashed shrink-0",style:{height:`${re}px`},children:(()=>{const x=xe(X,"yyyy-MM-dd"),C=te[x]||[],M=C.reduce((O,N,Oe)=>N!==null?Oe:O,-1);return C.slice(0,M+1).map((O,N)=>{if(!O)return w.jsx("div",{className:`${a==="mobile"?"h-[24px]":"h-[20px]"} w-full`},`empty-${N}`);const Oe=O.date!==(O.endDate||O.date),Fe=O.date===x,Y=(O.endDate||O.date)===x,ge=F.findIndex(ne=>xe(ne,"yyyy-MM-dd")===x)===0;if(!Oe)return w.jsxs("div",{className:`flex items-start ${a==="mobile"?"gap-2 mb-2.5 h-[24px]":"gap-1.5 mb-1.5 h-[20px]"}`,children:[w.jsx("div",{className:`shrink-0 flex-none rounded-full ${a==="mobile"?"mt-1.5 w-1.5 h-1.5":"mt-1 w-1 h-1"} ${O.isCompleted?"bg-ink-300":"bg-accent-blue"}`}),w.jsx("span",{className:`font-medium break-words leading-snug ${a==="mobile"?"text-[14px] whitespace-pre-wrap":"text-xs line-clamp-3"} ${O.isCompleted?"line-through text-ink-300":"text-ink-700"}`,children:O.text})]},O.id);let ke="-ml-8",Te="-mr-3",P="pl-3",ee="pr-3",ue="";Fe||a==="mobile"?(ke="ml-0",P="pl-2",ue+=" rounded-l-md"):ue+=" rounded-l-none border-l border-white/20",Y||a==="mobile"?(Te="mr-0",ee="pr-2",ue+=" rounded-r-md"):ue+=" rounded-r-none border-r border-white/20";const fe=Fe||ge||a==="mobile";return w.jsx("div",{className:`flex items-center ${ke} ${Te} ${P} ${ee} ${ue} ${a==="mobile"?"min-h-[24px] mb-2":"h-[20px] mb-1"}`,style:{backgroundColor:O.color||"#A7C7E7",opacity:O.isCompleted?.6:1},children:fe&&w.jsx("span",{className:`font-bold text-ink-800 break-words leading-snug ${a==="mobile"?"text-[14px] whitespace-pre-wrap py-1":"text-[11px] truncate"} ${O.isCompleted?"line-through opacity-70":""}`,children:O.text})},O.id)})})()}),w.jsxs("div",{className:"relative flex-1 w-full min-h-[600px] mt-2 mb-2",children:[w.jsx("div",{className:"absolute inset-0 pointer-events-none flex flex-col opacity-60",children:Array.from({length:24}).map((x,C)=>w.jsx("div",{className:"w-full flex-1 border-t border-paper-200/80 relative",children:w.jsxs("span",{className:"absolute -top-[7px] left-1 text-[8px] font-semibold text-ink-300/80 bg-white/90 px-1 rounded-sm",children:[String(C).padStart(2,"0"),":00"]})},C))}),w.jsx("div",{className:"absolute inset-x-0 inset-y-0 right-3 pointer-events-none",children:J.filter(x=>{const C=x.date,M=x.endDate||x.date,I=xe(X,"yyyy-MM-dd");return C<=I&&M>=I}).map(x=>{const[C,M]=x.startTime.split(":").map(Number);let I=C+1,O=M;x.endTime&&([I,O]=x.endTime.split(":").map(Number));const N=C+M/60,Oe=I+O/60,Fe=Math.max(.25,Oe-N),Y=N/24*100,le=Fe/24*100;return w.jsx("div",{className:"absolute left-8 right-1 px-2.5 py-1.5 flex flex-col items-start justify-start overflow-hidden rounded-lg border-l-[3px] border-white/60 shadow-md pointer-events-auto transition-all hover:z-20 hover:shadow-lg hover:-translate-y-0.5",style:{top:`${Y}%`,height:`${le}%`,backgroundColor:x.color||"#A7C7E7",opacity:x.isCompleted?.5:.95,zIndex:10},children:w.jsx("span",{className:`text-[12px] font-extrabold text-[#111111] break-words leading-tight ${x.isCompleted?"line-through opacity-70 text-ink-400":""}`,children:x.text})},x.id)})}),w.jsx("div",{className:`absolute inset-0 z-10 w-full h-full ${m?"":"pointer-events-none"}`,children:w.jsx(TE,{dateStr:xe(X,"yyyy-MM-dd"),width:a==="mobile"?600:200,height:700})})]})]})]},X.toString())})})})]})},io=[{value:"#A7C7E7",name:""},{value:"#F4C2C2",name:""},{value:"#B2EBF2",name:""},{value:"#E6E6FA",name:""},{value:"#FFFACD",name:""}],lh=({value:i,onChange:e,onEnter:n})=>{const[a,o]=i?i.split(":"):["",""],u=p=>{e(!p&&!o?"":`${p||"00"}:${o||"00"}`)},h=p=>{e(!a&&!p?"":`${a||"00"}:${p||"00"}`)},m=p=>{p.key==="Enter"&&n&&(p.preventDefault(),n())};return w.jsxs("div",{className:"flex items-center gap-0.5 bg-paper-100 rounded-md border border-paper-300 px-1 py-0.5",onKeyDown:m,children:[w.jsx(hR,{size:12,className:"text-ink-400 ml-1"}),w.jsxs("select",{value:a,onChange:p=>u(p.target.value),className:"bg-transparent text-xs font-bold text-ink-700 outline-none cursor-pointer appearance-none pl-1",children:[w.jsx("option",{value:"",children:"--"}),Array.from({length:24}).map((p,g)=>{const E=String(g).padStart(2,"0");return w.jsxs("option",{value:E,children:[E,""]},`h-${E}`)})]}),w.jsx("span",{className:"text-ink-400 font-bold",children:":"}),w.jsxs("select",{value:o,onChange:p=>h(p.target.value),className:"bg-transparent text-xs font-bold text-ink-700 outline-none cursor-pointer appearance-none pl-1 pr-1",children:[w.jsx("option",{value:"",children:"--"}),Array.from({length:12}).map((p,g)=>{const E=String(g*5).padStart(2,"0");return w.jsxs("option",{value:E,children:[E,""]},`m-${E}`)})]})]})},tC=()=>{const{currentDate:i,setCurrentDate:e,todos:n,addTodo:a,toggleTodo:o,deleteTodo:u,updateTodo:h,weatherCache:m}=jt(),p=gu(),[g,E]=q.useState(""),[T,A]=q.useState(null),[k,F]=q.useState(io[0].value),[W,V]=q.useState(""),[J,te]=q.useState(""),[$,re]=q.useState(null),[X,ce]=q.useState(""),[R,x]=q.useState(null),[C,M]=q.useState(io[0].value),[I,O]=q.useState(""),[N,Oe]=q.useState(""),Fe=T&&T>=i?T:i,Y=xe(i,"yyyy-MM-dd"),le=n.filter(ne=>ne.date===Y),{isHoliday:ge,name:ke}=of(i),Te=ne=>{if(ne.preventDefault(),!g.trim())return;const me=xe(Fe,"yyyy-MM-dd");a(i,g.trim(),me,k,W,J),E(""),A(null),F(io[0].value),V(""),te("")},P=ne=>{re(ne.id),ce(ne.text),x(ne.endDate?ql(ne.endDate):null),M(ne.color||io[0].value),O(ne.startTime||""),Oe(ne.endTime||"")},ee=ne=>{if(!ne)return"";const me=ne.match(/\d{1,2}:\d{2}/);if(me){let[Re,ht]=me[0].split(":").map(Number);return ne.includes("PM")||ne.includes("")?Re<12&&(Re+=12):(ne.includes("AM")||ne.includes(""))&&Re===12&&(Re=0),`${String(Re).padStart(2,"0")}:${String(ht).padStart(2,"0")}`}return ne},ue=ne=>{if(!X.trim())return;const me=R&&R>=i?R:i,Re=xe(me,"yyyy-MM-dd");h(ne,{text:X.trim(),endDate:Re,color:C,startTime:ee(I)||void 0,endTime:ee(N)||void 0}),re(null)},fe=()=>{re(null)};return w.jsxs("div",{className:"w-full h-full flex flex-col pt-4",children:[w.jsxs("div",{className:"flex items-end justify-between mb-8 pb-4 border-b border-paper-200",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[w.jsx("button",{onClick:()=>e(Cx(i)),className:"p-1 text-ink-400 hover:text-ink-800 hover:bg-paper-100 rounded-lg transition-colors",title:" ",children:w.jsx(rf,{size:28})}),w.jsxs("h2",{className:`text-4xl font-extrabold font-serif tracking-tight px-2 flex items-center gap-3 ${ge?"text-accent-red":"text-ink-900"}`,children:[xe(i,"d"),m[xe(i,"yyyy-MM-dd")]&&w.jsx("span",{className:"text-3xl drop-shadow-sm opacity-90 pb-1",children:m[xe(i,"yyyy-MM-dd")]})]}),w.jsx("button",{onClick:()=>e(Yn(i,1)),className:"p-1 text-ink-400 hover:text-ink-800 hover:bg-paper-100 rounded-lg transition-colors",title:" ",children:w.jsx(af,{size:28})}),ke&&w.jsx("span",{className:"px-2 py-0.5 mt-1 text-xs font-bold bg-accent-red/10 text-accent-red border border-accent-red/20 rounded-md whitespace-nowrap",children:ke})]}),w.jsx("p",{className:`text-lg font-medium mt-1 uppercase tracking-widest ${ge?"text-accent-red/80":"text-ink-500"}`,children:xe(i,"EEEE, MMMM yyyy")})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[!lo(i)&&w.jsxs("button",{onClick:()=>e(new Date),className:"flex items-center gap-1.5 px-3 py-2 bg-paper-100 hover:bg-paper-200 text-ink-700 rounded-lg transition-colors font-bold text-sm tracking-wide border border-paper-200",children:[w.jsx(eR,{size:16}),w.jsx("span",{children:""})]}),w.jsxs("button",{onClick:()=>p("/"),className:"flex items-center gap-2 px-4 py-2 hover:bg-paper-100 text-ink-600 rounded-lg transition-colors font-medium text-sm",children:[w.jsx(_E,{size:18}),w.jsx("span",{children:" "})]})]})]}),w.jsxs("div",{className:"flex-1 flex flex-col md:flex-row gap-8",children:[w.jsxs("div",{className:"flex-[3] flex flex-col bg-white border border-paper-200 shadow-sm rounded-2xl overflow-hidden relative",children:[w.jsx("div",{className:"bg-paper-100/50 p-5 border-b border-paper-200",children:w.jsxs("h3",{className:"font-bold text-lg text-ink-800 flex items-center gap-2",children:[w.jsx("span",{className:"w-1.5 h-6 bg-accent-blue rounded-full block"}),"   (To-Do)"]})}),w.jsxs("div",{className:"p-6 flex-1 flex flex-col bg-paper-50 bg-opacity-30",children:[w.jsxs("div",{className:"flex flex-col gap-3 mb-6",children:[w.jsxs("div",{className:"flex gap-3",children:[w.jsx("input",{type:"text",value:g,onChange:ne=>E(ne.target.value),onKeyDown:ne=>{ne.key==="Enter"&&Te(ne)},placeholder:"   Enter ...",className:"flex-1 px-4 py-3 border border-paper-300 rounded-xl bg-white focus:outline-none focus:ring-2 focus:ring-ink-400 focus:border-transparent placeholder-ink-400/50 transition-all font-medium"}),w.jsxs("button",{type:"button",onClick:Te,disabled:!g.trim(),className:"px-5 bg-ink-800 text-white font-bold rounded-xl hover:bg-ink-900 focus:ring-4 focus:ring-ink-200 transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 shrink-0",children:[w.jsx(LR,{size:18}),""]})]}),w.jsxs("div",{className:"flex items-center gap-4 px-1 py-1 bg-white/50 rounded-lg",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xs font-bold text-ink-500 bg-paper-200 px-2 py-1 rounded text-nowrap",children:""}),w.jsx("div",{className:"relative",children:w.jsx("input",{type:"date",value:xe(Fe,"yyyy-MM-dd"),min:xe(i,"yyyy-MM-dd"),onChange:ne=>ne.target.value?A(ql(ne.target.value)):A(null),className:"text-sm font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 focus:border-ink-500 py-0.5"})})]}),w.jsx("div",{className:"w-px h-6 bg-paper-300"}),w.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto custom-scrollbar pb-1 pt-1",children:[w.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-ink-500 bg-paper-200 px-2 py-1 rounded text-nowrap shrink-0",children:[w.jsx(kR,{size:12})," "]}),w.jsx("div",{className:"flex gap-1.5 shrink-0",children:io.map(ne=>w.jsx("button",{type:"button",onClick:()=>F(ne.value),className:`w-6 h-6 rounded-full transition-all border-2 ${k===ne.value?"border-ink-700 scale-110 shadow-sm":"border-transparent hover:scale-105"}`,style:{backgroundColor:ne.value},title:ne.name},ne.value))})]}),w.jsx("div",{className:"w-px h-6 bg-paper-300"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-xs font-bold text-ink-500 bg-paper-200 px-2 py-1 rounded text-nowrap",children:"()"}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(lh,{value:W,onChange:V}),w.jsx("span",{className:"text-ink-400 font-bold text-xs mx-1",children:"~"}),w.jsx(lh,{value:J,onChange:te})]})]})]})]}),w.jsx("div",{className:"flex-1 space-y-2 overflow-y-auto custom-scrollbar pr-2",children:le.length===0?w.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-ink-400 opacity-60",children:[w.jsx("p",{className:"font-medium",children:"   ."}),w.jsx("p",{className:"text-sm mt-1",children:"     ."})]}):le.map(ne=>$===ne.id?w.jsxs("div",{className:"p-4 bg-paper-100/50 rounded-xl border border-paper-300 shadow-sm flex flex-col gap-3",children:[w.jsx("input",{type:"text",value:X,onChange:me=>ce(me.target.value),onKeyDown:me=>{me.key==="Enter"&&ue(ne.id)},className:"w-full px-3 py-2 border border-paper-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-ink-400 font-medium",autoFocus:!0}),w.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("span",{className:"text-[11px] font-bold text-ink-500 bg-paper-200 px-2 py-0.5 rounded text-nowrap",children:""}),w.jsx("input",{type:"date",value:R?xe(R,"yyyy-MM-dd"):Y,min:Y,onChange:me=>me.target.value?x(ql(me.target.value)):x(null),onKeyDown:me=>{me.key==="Enter"&&ue(ne.id)},className:"text-xs font-medium bg-transparent text-ink-700 outline-none border-b border-paper-300 py-0.5"})]}),w.jsx("div",{className:"w-px h-4 bg-paper-300"}),w.jsx("div",{className:"flex gap-1.5 shrink-0",children:io.map(me=>w.jsx("button",{type:"button",onClick:()=>M(me.value),className:`w-5 h-5 rounded-full transition-all border-2 ${C===me.value?"border-ink-700 scale-110":"border-transparent"}`,style:{backgroundColor:me.value},title:me.name},me.value))}),w.jsx("div",{className:"w-px h-4 bg-paper-300"}),w.jsxs("div",{className:"flex items-center gap-1",children:[w.jsx(lh,{value:I,onChange:O,onEnter:()=>ue(ne.id)}),w.jsx("span",{className:"text-ink-400 font-bold text-xs mx-1",children:"~"}),w.jsx(lh,{value:N,onChange:Oe,onEnter:()=>ue(ne.id)})]})]}),w.jsxs("div",{className:"flex justify-end gap-2 mt-1",children:[w.jsx("button",{onClick:fe,className:"px-3 py-1.5 text-xs font-bold text-ink-500 hover:bg-paper-200 rounded-lg transition-colors",children:""}),w.jsx("button",{onClick:()=>ue(ne.id),className:"px-3 py-1.5 text-xs font-bold text-white bg-ink-800 hover:bg-ink-900 rounded-lg transition-colors",children:""})]})]},ne.id):w.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-xl transition-all border group
                                                ${ne.isCompleted?"bg-paper-100/40 border-transparent text-ink-400/70":"bg-white border-paper-200/80 text-ink-800 hover:border-paper-300 hover:shadow-sm"}
                                            `,style:!ne.isCompleted&&ne.endDate&&ne.endDate!==ne.date?{borderLeftWidth:"6px",borderLeftColor:ne.color}:{},children:[w.jsx("button",{onClick:()=>o(ne.id),className:`w-6 h-6 rounded-md border flex items-center justify-center shrink-0 transition-colors
                                                    ${ne.isCompleted?"bg-ink-400 border-ink-400 text-white":"border-paper-400 bg-paper-50 group-hover:border-paper-500"}
                                                `,children:ne.isCompleted&&w.jsx(oR,{size:14,strokeWidth:3})}),w.jsxs("div",{className:"flex-1 flex flex-col",children:[w.jsx("span",{className:`font-medium text-[15px] ${ne.isCompleted?"line-through":""}`,children:ne.text}),(ne.startTime||ne.endDate&&ne.endDate!==ne.date)&&w.jsxs("span",{className:"text-[11px] text-ink-500 mt-0.5 font-bold",children:[ne.endDate&&ne.endDate!==ne.date?`${xe(ql(ne.date),"M/d")} ~ ${xe(ql(ne.endDate),"M/d")} `:"",ne.startTime?`${ne.startTime}${ne.endTime?` - ${ne.endTime}`:""}`:""]})]}),w.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[w.jsx("button",{onClick:()=>P(ne),className:"p-2 text-ink-400 hover:text-accent-blue hover:bg-blue-50 rounded-lg transition-all",title:"",children:w.jsx(sf,{size:16})}),w.jsx("button",{onClick:()=>u(ne.id),className:"p-2 text-ink-400 hover:text-accent-red hover:bg-paper-100 rounded-lg transition-all",title:"",children:w.jsx(EE,{size:16})})]})]},ne.id))})]})]}),w.jsx("div",{className:"flex-[2] flex flex-col",children:w.jsxs("div",{className:"flex-1 bg-white border border-paper-200 rounded-2xl flex flex-col relative shadow-sm overflow-hidden",children:[w.jsx("div",{className:"h-14 bg-[#c95151] opacity-5 border-b border-paper-200/50"}),w.jsxs("div",{className:"absolute top-4 left-6 right-6 flex items-center justify-between",children:[w.jsx("h3",{className:"font-extrabold text-[#c95151] font-serif tracking-wide text-sm opacity-80",children:"FREE NOTE"}),w.jsx("span",{className:"text-xs font-bold text-ink-400 font-serif",children:"No. 01"})]}),w.jsx("div",{className:"flex-1 p-6 pt-8 pr-4",children:w.jsx("textarea",{className:"w-full h-full bg-transparent resize-none focus:outline-none text-ink-700 font-serif",placeholder:"     .",style:{backgroundImage:"linear-gradient(transparent, transparent 31px, rgba(232, 229, 217, 0.7) 32px)",backgroundSize:"100% 32px",lineHeight:"32px",paddingTop:"2px"}})})]})})]})]})},nC=()=>{const{verifyPin:i}=jt(),[e,n]=q.useState(""),[a,o]=q.useState(!1);q.useEffect(()=>{e.length===4&&(i(e)?n(""):(o(!0),setTimeout(()=>{n(""),o(!1)},500)))},[e,i]);const u=m=>{e.length<4&&n(p=>p+m)},h=()=>{n(m=>m.slice(0,-1))};return w.jsx("div",{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-[var(--color-paper-50)] backdrop-blur-md",children:w.jsxs("div",{className:`flex flex-col items-center w-full max-w-sm px-6 ${a?"animate-shake":""}`,children:[w.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-sm mb-6 text-accent-blue border border-paper-200",children:w.jsx(SR,{size:32})}),w.jsx("h1",{className:"text-2xl font-bold text-ink-900 mb-2",children:" "}),w.jsxs("p",{className:"text-ink-500 text-sm mb-10 text-center",children:["  (PIN) 4",w.jsx("br",{})," ."]}),w.jsx("div",{className:"flex gap-4 mb-12",children:[0,1,2,3].map(m=>w.jsx("div",{className:`w-4 h-4 rounded-full transition-all duration-200 ${m<e.length?a?"bg-accent-red":"bg-accent-blue scale-110":"bg-paper-200"}`},m))}),w.jsxs("div",{className:"grid grid-cols-3 gap-6 w-full max-w-[240px]",children:[[1,2,3,4,5,6,7,8,9].map(m=>w.jsx("button",{onClick:()=>u(m),className:"w-16 h-16 rounded-full flex items-center justify-center text-2xl font-medium text-ink-800 bg-white shadow-sm hover:bg-paper-100 active:bg-paper-200 transition-colors border border-paper-200/50 focus:outline-none",children:m},m)),w.jsx("div",{className:"w-16 h-16"})," ",w.jsx("button",{onClick:()=>u(0),className:"w-16 h-16 rounded-full flex items-center justify-center text-2xl font-medium text-ink-800 bg-white shadow-sm hover:bg-paper-100 active:bg-paper-200 transition-colors border border-paper-200/50 focus:outline-none",children:"0"}),w.jsx("button",{onClick:h,className:"w-16 h-16 rounded-full flex items-center justify-center text-ink-600 hover:bg-paper-100 active:bg-paper-200 transition-colors focus:outline-none",children:w.jsx(yR,{size:24})})]}),a&&w.jsx("p",{className:"text-accent-red text-sm font-bold mt-8 animate-pulse",children:"  ."})]})})},iC=({isOpen:i,onClose:e})=>{const{appPin:n,setAppPin:a,verifyPin:o}=jt(),[u,h]=q.useState("none"),[m,p]=q.useState(""),[g,E]=q.useState(""),[T,A]=q.useState("");q.useEffect(()=>{i&&(p(""),E(""),A(""),h("none"))},[i]);const k=V=>{m.length<4&&p(J=>J+V)},F=()=>{p(V=>V.slice(0,-1))};if(q.useEffect(()=>{m.length===4&&(u==="verify_old"?o(m)?(p(""),a(null),alert("  ."),e()):(A("   ."),p("")):u==="enter_new"?(E(m),h("confirm_new"),p(""),A("")):u==="confirm_new"&&(m===g?(p(""),h("none"),a(g),alert("   ."),e()):(A("   .   ."),h("enter_new"),p(""),E(""))))},[m,u,g,o,a,e]),!i)return null;const W=()=>w.jsxs("div",{className:"flex flex-col items-center mt-6",children:[w.jsx("div",{className:"flex gap-4 mb-6",children:[0,1,2,3].map(V=>w.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${V<m.length?"bg-accent-blue scale-125":"bg-paper-200"}`},V))}),w.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[[1,2,3,4,5,6,7,8,9].map(V=>w.jsx("button",{onClick:()=>k(V),className:"w-14 h-14 rounded-full flex items-center justify-center text-xl font-medium text-ink-800 bg-paper-50 hover:bg-paper-100 active:bg-paper-200 transition-colors",children:V},V)),w.jsx("div",{className:"w-14 h-14"}),w.jsx("button",{onClick:()=>k(0),className:"w-14 h-14 rounded-full flex items-center justify-center text-xl font-medium text-ink-800 bg-paper-50 hover:bg-paper-100 active:bg-paper-200 transition-colors",children:"0"}),w.jsx("button",{onClick:F,className:"w-14 h-14 rounded-full flex items-center justify-center text-ink-500 hover:bg-paper-100 transition-colors text-sm font-bold",children:""})]}),T&&w.jsx("p",{className:"text-accent-red text-xs mt-4 font-bold animate-pulse",children:T})]});return w.jsx("div",{className:"fixed inset-0 z-[110] bg-ink-900/40 flex items-center justify-center p-4 backdrop-blur-sm",children:w.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-sm overflow-hidden relative",children:[w.jsxs("div",{className:"bg-paper-50 px-5 py-4 flex items-center justify-between border-b border-paper-200",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[n?w.jsx(qR,{className:"text-accent-blue",size:20}):w.jsx(BR,{className:"text-ink-400",size:20}),w.jsx("h2",{className:"font-bold text-ink-800",children:"  (App Lock)"})]}),w.jsx("button",{onClick:e,className:"p-1 rounded-full text-ink-400 hover:bg-paper-200 transition-colors",children:w.jsx(KR,{size:20})})]}),w.jsx("div",{className:"px-6 py-6 pb-8",children:u==="none"?w.jsxs("div",{className:"flex flex-col items-center text-center",children:[w.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 ${n?"bg-blue-50 text-accent-blue":"bg-paper-100 text-ink-400"}`,children:w.jsx(vE,{size:32})}),w.jsx("h3",{className:"text-lg font-bold text-ink-900 mb-2",children:n?"   .":"    "}),w.jsx("p",{className:"text-sm text-ink-500 mb-8 max-w-[240px]",children:n?"     4   .":"        4 (PIN) ."}),n?w.jsx("button",{onClick:()=>h("verify_old"),className:"w-full py-3 rounded-xl bg-paper-100 text-ink-700 font-bold hover:bg-paper-200 transition-colors border border-paper-200",children:"  "}):w.jsx("button",{onClick:()=>h("enter_new"),className:"w-full py-3 rounded-xl bg-accent-blue text-white font-bold hover:bg-blue-600 transition-colors shadow-sm",children:"  "})]}):w.jsxs("div",{className:"flex flex-col items-center",children:[w.jsxs("h3",{className:"text-lg font-bold text-ink-900 mb-1",children:[u==="verify_old"&&"  ",u==="enter_new"&&"  4",u==="confirm_new"&&" "]}),w.jsxs("p",{className:"text-xs text-ink-500",children:[u==="verify_old"&&"    .",u==="enter_new"&&" 4  .",u==="confirm_new"&&"     ."]}),W()]})})]})})},rC=()=>{};var dv={};const bE=function(i){const e=[];let n=0;for(let a=0;a<i.length;a++){let o=i.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},aC=function(i){const e=[];let n=0,a=0;for(;n<i.length;){const o=i[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[a++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[a++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},wE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(A=64)),a.push(n[E],n[T],n[A],n[k])}return a.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(bE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):aC(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new sC;const A=u<<2|m>>4;if(a.push(A),g!==64){const k=m<<4&240|g>>2;if(a.push(k),T!==64){const F=g<<6&192|T;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class sC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oC=function(i){const e=bE(i);return wE.encodeByteArray(e,!0)},Oh=function(i){return oC(i).replace(/\./g,"")},SE=function(i){try{return wE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lC(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}const uC=()=>lC().__FIREBASE_DEFAULTS__,cC=()=>{if(typeof process=="undefined"||typeof dv=="undefined")return;const i=dv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},hC=()=>{if(typeof document=="undefined")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const e=i&&SE(i[1]);return e&&JSON.parse(e)},lf=()=>{try{return rC()||uC()||cC()||hC()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},AE=i=>{var e,n;return(n=(e=lf())==null?void 0:e.emulatorHosts)==null?void 0:n[i]},fC=i=>{const e=AE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},xE=()=>{var i;return(i=lf())==null?void 0:i.config},RE=i=>{var e;return(e=lf())==null?void 0:e[`_${i}`]};class dC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function Ro(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch(e){return!1}}function CE(i){return U(this,null,function*(){return(yield fetch(i,{credentials:"include"})).ok})}function mC(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=ye({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Oh(JSON.stringify(n)),Oh(JSON.stringify(h)),""].join(".")}const Wl={};function pC(){const i={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?i.emulator.push(e):i.prod.push(e);return i}function gC(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let mv=!1;function NE(i,e){if(typeof window=="undefined"||typeof document=="undefined"||!Ro(window.location.host)||Wl[i]===e||Wl[i]||mv)return;Wl[i]=e;function n(A){return`__firebase__banner__${A}`}const a="__firebase__banner",u=pC().prod.length>0;function h(){const A=document.getElementById(a);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function p(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function g(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{mv=!0,h()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function T(){const A=gC(a),k=n("text"),F=document.getElementById(k)||document.createElement("span"),W=n("learnmore"),V=document.getElementById(W)||document.createElement("a"),J=n("preprendIcon"),te=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const $=A.element;m($),E(V,W);const re=g();p(te,J),$.append(te,F,V,re),document.body.appendChild($)}u?(F.innerText="Preview backend disconnected.",te.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(te.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function on(){return typeof navigator!="undefined"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yC(){return typeof window!="undefined"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function _C(){var e;const i=(e=lf())==null?void 0:e.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch(n){return!1}}function vC(){return typeof navigator!="undefined"&&navigator.userAgent==="Cloudflare-Workers"}function EC(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function TC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bC(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function wC(){return!_C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SC(){try{return typeof indexedDB=="object"}catch(i){return!1}}function AC(){return new Promise((i,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}const xC="FirebaseError";class vr extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=xC,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vu.prototype.create)}}class vu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?RC(u,a):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new vr(o,m,a)}}function RC(i,e){return i.replace(CC,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const CC=/\{\$([^}]+)}/g;function NC(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ns(i,e){if(i===e)return!0;const n=Object.keys(i),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const u=i[o],h=e[o];if(pv(u)&&pv(h)){if(!ns(u,h))return!1}else if(u!==h)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function pv(i){return i!==null&&typeof i=="object"}function Eu(i){const e=[];for(const[n,a]of Object.entries(i))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function IC(i,e){const n=new DC(i,e);return n.subscribe.bind(n)}class DC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");MC(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Vm),o.error===void 0&&(o.error=Vm),o.complete===void 0&&(o.complete=Vm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(h){}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console!="undefined"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MC(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Vm(){}function In(i){return i&&i._delegate?i._delegate:i}class is{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xa="[DEFAULT]";class OC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new dC;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch(o){}}return this.instancesDeferred.get(n).promise}getImmediate(e){var o;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(o=e==null?void 0:e.optional)!=null?o:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VC(e))try{this.getOrInitializeService({instanceIdentifier:Xa})}catch(n){}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(u){}}}}clearInstance(e=Xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return U(this,null,function*(){const e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xa){return this.instances.has(e)}getOptions(e=Xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);a===m&&h.resolve(o)}return o}onInit(e,n){var h;const a=this.normalizeInstanceIdentifier(n),o=(h=this.onInitCallbacks.get(a))!=null?h:new Set;o.add(e),this.onInitCallbacks.set(a,o);const u=this.instances.get(a);return u&&e(u,a),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch(u){}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:kC(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch(o){}return a||null}normalizeInstanceIdentifier(e=Xa){return this.component?this.component.multipleInstances?e:Xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kC(i){return i===Xa?void 0:i}function VC(i){return i.instantiationMode==="EAGER"}class PC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new OC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var ze;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ze||(ze={}));const LC={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},UC=ze.INFO,jC={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},zC=(i,e,...n)=>{if(e<i.logLevel)return;const a=new Date().toISOString(),o=jC[e];if(o)console[o](`[${a}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dp{constructor(e){this.name=e,this._logLevel=UC,this._logHandler=zC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ze))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...e),this._logHandler(this,ze.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...e),this._logHandler(this,ze.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...e),this._logHandler(this,ze.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...e),this._logHandler(this,ze.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...e),this._logHandler(this,ze.ERROR,...e)}}const BC=(i,e)=>e.some(n=>i instanceof n);let gv,yv;function HC(){return gv||(gv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qC(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,Jm=new WeakMap,DE=new WeakMap,Pm=new WeakMap,Mp=new WeakMap;function FC(i){const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(sa(i.result)),o()},h=()=>{a(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&IE.set(n,i)}).catch(()=>{}),Mp.set(e,i),e}function GC(i){if(Jm.has(i))return;const e=new Promise((n,a)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{a(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Jm.set(i,e)}let Zm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Jm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||DE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return sa(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function YC(i){Zm=i(Zm)}function $C(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=i.call(Lm(this),e,...n);return DE.set(a,e.sort?e.sort():[e]),sa(a)}:qC().includes(i)?function(...e){return i.apply(Lm(this),e),sa(IE.get(this))}:function(...e){return sa(i.apply(Lm(this),e))}}function QC(i){return typeof i=="function"?$C(i):(i instanceof IDBTransaction&&GC(i),BC(i,HC())?new Proxy(i,Zm):i)}function sa(i){if(i instanceof IDBRequest)return FC(i);if(Pm.has(i))return Pm.get(i);const e=QC(i);return e!==i&&(Pm.set(i,e),Mp.set(e,i)),e}const Lm=i=>Mp.get(i);function KC(i,e,{blocked:n,upgrade:a,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=sa(h);return a&&h.addEventListener("upgradeneeded",p=>{a(sa(h.result),p.oldVersion,p.newVersion,sa(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const XC=["get","getKey","getAll","getAllKeys","count"],WC=["put","add","delete","clear"],Um=new Map;function _v(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=WC.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||XC.includes(n)))return;const u=function(h,...m){return U(this,null,function*(){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(m.shift())),(yield Promise.all([g[n](...m),o&&p.done]))[0]})};return Um.set(e,u),u}YC(i=>mt(ye({},i),{get:(e,n,a)=>_v(e,n)||i.get(e,n,a),has:(e,n)=>!!_v(e,n)||i.has(e,n)}));class JC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZC(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function ZC(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",vv="0.14.8";const mr=new Dp("@firebase/app"),eN="@firebase/app-compat",tN="@firebase/analytics-compat",nN="@firebase/analytics",iN="@firebase/app-check-compat",rN="@firebase/app-check",aN="@firebase/auth",sN="@firebase/auth-compat",oN="@firebase/database",lN="@firebase/data-connect",uN="@firebase/database-compat",cN="@firebase/functions",hN="@firebase/functions-compat",fN="@firebase/installations",dN="@firebase/installations-compat",mN="@firebase/messaging",pN="@firebase/messaging-compat",gN="@firebase/performance",yN="@firebase/performance-compat",_N="@firebase/remote-config",vN="@firebase/remote-config-compat",EN="@firebase/storage",TN="@firebase/storage-compat",bN="@firebase/firestore",wN="@firebase/ai",SN="@firebase/firestore-compat",AN="firebase",xN="12.9.0";const tp="[DEFAULT]",RN={[ep]:"fire-core",[eN]:"fire-core-compat",[nN]:"fire-analytics",[tN]:"fire-analytics-compat",[rN]:"fire-app-check",[iN]:"fire-app-check-compat",[aN]:"fire-auth",[sN]:"fire-auth-compat",[oN]:"fire-rtdb",[lN]:"fire-data-connect",[uN]:"fire-rtdb-compat",[cN]:"fire-fn",[hN]:"fire-fn-compat",[fN]:"fire-iid",[dN]:"fire-iid-compat",[mN]:"fire-fcm",[pN]:"fire-fcm-compat",[gN]:"fire-perf",[yN]:"fire-perf-compat",[_N]:"fire-rc",[vN]:"fire-rc-compat",[EN]:"fire-gcs",[TN]:"fire-gcs-compat",[bN]:"fire-fst",[SN]:"fire-fst-compat",[wN]:"fire-vertex","fire-js":"fire-js",[AN]:"fire-js-all"};const kh=new Map,CN=new Map,np=new Map;function Ev(i,e){try{i.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function _o(i){const e=i.name;if(np.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,i);for(const n of kh.values())Ev(n,i);for(const n of CN.values())Ev(n,i);return!0}function Op(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function oi(i){return i==null?!1:i.settings!==void 0}const NN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oa=new vu("app","Firebase",NN);class IN{constructor(e,n,a){this._isDeleted=!1,this._options=ye({},e),this._config=ye({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oa.create("app-deleted",{appName:this._name})}}const Co=xN;function ME(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const a=ye({name:tp,automaticDataCollectionEnabled:!0},e),o=a.name;if(typeof o!="string"||!o)throw oa.create("bad-app-name",{appName:String(o)});if(n||(n=xE()),!n)throw oa.create("no-options");const u=kh.get(o);if(u){if(ns(n,u.options)&&ns(a,u.config))return u;throw oa.create("duplicate-app",{appName:o})}const h=new PC(o);for(const p of np.values())h.addComponent(p);const m=new IN(n,a,h);return kh.set(o,m),m}function OE(i=tp){const e=kh.get(i);if(!e&&i===tp&&xE())return ME();if(!e)throw oa.create("no-app",{appName:i});return e}function la(i,e,n){var h;let a=(h=RN[i])!=null?h:i;n&&(a+=`-${n}`);const o=a.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const m=[`Unable to register library "${a}" with version "${e}":`];o&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&u&&m.push("and"),u&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(m.join(" "));return}_o(new is(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}const DN="firebase-heartbeat-database",MN=1,au="firebase-heartbeat-store";let jm=null;function kE(){return jm||(jm=KC(DN,MN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(i=>{throw oa.create("idb-open",{originalErrorMessage:i.message})})),jm}function ON(i){return U(this,null,function*(){try{const n=(yield kE()).transaction(au),a=yield n.objectStore(au).get(VE(i));return yield n.done,a}catch(e){if(e instanceof vr)mr.warn(e.message);else{const n=oa.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}})}function Tv(i,e){return U(this,null,function*(){try{const a=(yield kE()).transaction(au,"readwrite");yield a.objectStore(au).put(e,VE(i)),yield a.done}catch(n){if(n instanceof vr)mr.warn(n.message);else{const a=oa.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(a.message)}}})}function VE(i){return`${i.name}!${i.options.appId}`}const kN=1024,VN=30;class PN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new UN(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}triggerHeartbeat(){return U(this,null,function*(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=bv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>VN){const h=jN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){mr.warn(a)}})}getHeartbeatsHeader(){return U(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bv(),{heartbeatsToSend:a,unsentEntries:o}=LN(this._heartbeatsCache.heartbeats),u=Oh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return mr.warn(n),""}})}}function bv(){return new Date().toISOString().substring(0,10)}function LN(i,e=kN){const n=[];let a=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),wv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),wv(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class UN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return U(this,null,function*(){return SC()?AC().then(()=>!0).catch(()=>!1):!1})}read(){return U(this,null,function*(){if(yield this._canUseIndexedDBPromise){const n=yield ON(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return U(this,null,function*(){var a;if(yield this._canUseIndexedDBPromise){const o=yield this.read();return Tv(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!=null?a:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return U(this,null,function*(){var a;if(yield this._canUseIndexedDBPromise){const o=yield this.read();return Tv(this.app,{lastSentHeartbeatDate:(a=e.lastSentHeartbeatDate)!=null?a:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return})}}function wv(i){return Oh(JSON.stringify({version:2,heartbeats:i})).length}function jN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let a=1;a<i.length;a++)i[a].date<n&&(n=i[a].date,e=a);return e}function zN(i){_o(new is("platform-logger",e=>new JC(e),"PRIVATE")),_o(new is("heartbeat",e=>new PN(e),"PRIVATE")),la(ep,vv,i),la(ep,vv,"esm2020"),la("fire-js","")}zN("");function PE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BN=PE,LE=new vu("auth","Firebase",PE());const Vh=new Dp("@firebase/auth");function HN(i,...e){Vh.logLevel<=ze.WARN&&Vh.warn(`Auth (${Co}): ${i}`,...e)}function yh(i,...e){Vh.logLevel<=ze.ERROR&&Vh.error(`Auth (${Co}): ${i}`,...e)}function zi(i,...e){throw Vp(i,...e)}function ci(i,...e){return Vp(i,...e)}function kp(i,e,n){const a=mt(ye({},BN()),{[e]:n});return new vu("auth","Firebase",a).create(e,{appName:i.name})}function Za(i){return kp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qN(i,e,n){const a=n;if(!(e instanceof a))throw a.name!==e.constructor.name&&zi(i,"argument-error"),kp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(i,...e){if(typeof i!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(n,...a)}return LE.create(i,...e)}function Ae(i,e,...n){if(!i)throw Vp(e,...n)}function ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yh(e),new Error(e)}function pr(i,e){i||ur(e)}function ip(){var i;return typeof self!="undefined"&&((i=self.location)==null?void 0:i.href)||""}function FN(){return Sv()==="http:"||Sv()==="https:"}function Sv(){var i;return typeof self!="undefined"&&((i=self.location)==null?void 0:i.protocol)||null}function GN(){return typeof navigator!="undefined"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FN()||EC()||"connection"in navigator)?navigator.onLine:!0}function YN(){if(typeof navigator=="undefined")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Tu{constructor(e,n){this.shortDelay=e,this.longDelay=n,pr(n>e,"Short delay should be less than long delay!"),this.isMobile=yC()||TC()}get(){return GN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pp(i,e){pr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class UE{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self!="undefined"&&"fetch"in self)return self.fetch;if(typeof globalThis!="undefined"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch!="undefined")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self!="undefined"&&"Headers"in self)return self.Headers;if(typeof globalThis!="undefined"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers!="undefined")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self!="undefined"&&"Response"in self)return self.Response;if(typeof globalThis!="undefined"&&globalThis.Response)return globalThis.Response;if(typeof Response!="undefined")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KN=new Tu(3e4,6e4);function Lp(i,e){return i.tenantId&&!e.tenantId?mt(ye({},e),{tenantId:i.tenantId}):e}function No(u,h,m,p){return U(this,arguments,function*(i,e,n,a,o={}){return jE(i,o,()=>U(null,null,function*(){let g={},E={};a&&(e==="GET"?E=a:g={body:JSON.stringify(a)});const T=Eu(ye({key:i.config.apiKey},E)).slice(1),A=yield i._getAdditionalHeaders();A["Content-Type"]="application/json",i.languageCode&&(A["X-Firebase-Locale"]=i.languageCode);const k=ye({method:e,headers:A},g);return vC()||(k.referrerPolicy="no-referrer"),i.emulatorConfig&&Ro(i.emulatorConfig.host)&&(k.credentials="include"),UE.fetch()(yield zE(i,i.config.apiHost,n,T),k)}))})}function jE(i,e,n){return U(this,null,function*(){i._canInitEmulator=!1;const a=ye(ye({},$N),e);try{const o=new WN(i),u=yield Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=yield u.json();if("needConfirmation"in h)throw uh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw uh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw uh(i,"user-disabled",h);const E=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kp(i,E,g);zi(i,E)}}catch(o){if(o instanceof vr)throw o;zi(i,"network-request-failed",{message:String(o)})}})}function XN(u,h,m,p){return U(this,arguments,function*(i,e,n,a,o={}){const g=yield No(i,e,n,a,o);return"mfaPendingCredential"in g&&zi(i,"multi-factor-auth-required",{_serverResponse:g}),g})}function zE(i,e,n,a){return U(this,null,function*(){const o=`${e}${n}?${a}`,u=i,h=u.config.emulator?Pp(i.config,o):`${i.config.apiScheme}://${o}`;return QN.includes(n)&&(yield u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h})}class WN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(ci(this.auth,"network-request-failed")),KN.get())})}}function uh(i,e,n){const a={appName:i.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=ci(i,e,a);return o.customData._tokenResponse=n,o}function JN(i,e){return U(this,null,function*(){return No(i,"POST","/v1/accounts:delete",e)})}function Ph(i,e){return U(this,null,function*(){return No(i,"POST","/v1/accounts:lookup",e)})}function Jl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function ZN(i,e=!1){return U(this,null,function*(){const n=In(i),a=yield n.getIdToken(e),o=Up(a);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:a,authTime:Jl(zm(o.auth_time)),issuedAtTime:Jl(zm(o.iat)),expirationTime:Jl(zm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}})}function zm(i){return Number(i)*1e3}function Up(i){const[e,n,a]=i.split(".");if(e===void 0||n===void 0||a===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=SE(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Av(i){const e=Up(i);return Ae(e,"internal-error"),Ae(typeof e.exp!="undefined","internal-error"),Ae(typeof e.iat!="undefined","internal-error"),Number(e.exp)-Number(e.iat)}function su(i,e,n=!1){return U(this,null,function*(){if(n)return e;try{return yield e}catch(a){throw a instanceof vr&&eI(a)&&i.auth.currentUser===i&&(yield i.auth.signOut()),a}})}function eI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class tI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!=null?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(()=>U(this,null,function*(){yield this.iteration()}),n)}iteration(){return U(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}}class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Lh(i){return U(this,null,function*(){var T;const e=i.auth,n=yield i.getIdToken(),a=yield su(i,Ph(e,{idToken:n}));Ae(a==null?void 0:a.users.length,e,"internal-error");const o=a.users[0];i._notifyReloadListener(o);const u=(T=o.providerUserInfo)!=null&&T.length?BE(o.providerUserInfo):[],h=iI(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!(h!=null&&h.length),g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,E)})}function nI(i){return U(this,null,function*(){const e=In(i);yield Lh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function iI(i,e){return[...i.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function BE(i){return i.map(a=>{var o=a,{providerId:e}=o,n=si(o,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function rI(i,e){return U(this,null,function*(){const n=yield jE(i,{},()=>U(null,null,function*(){const a=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=yield zE(i,o,"/v1/token",`key=${u}`),m=yield i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:a};return i.emulatorConfig&&Ro(i.emulatorConfig.host)&&(p.credentials="include"),UE.fetch()(h,p)}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function aI(i,e){return U(this,null,function*(){return No(i,"POST","/v2/accounts:revokeToken",Lp(i,e))})}class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken!="undefined","internal-error"),Ae(typeof e.refreshToken!="undefined","internal-error");const n="expiresIn"in e&&typeof e.expiresIn!="undefined"?Number(e.expiresIn):Av(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Av(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return U(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return U(this,null,function*(){const{accessToken:a,refreshToken:o,expiresIn:u}=yield rI(e,n);this.updateTokensAndExpiration(a,o,Number(u))})}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:u}=n,h=new uo;return a&&(Ae(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(Ae(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return ur("not implemented")}}function ta(i,e){Ae(typeof i=="string"||typeof i=="undefined","internal-error",{appName:e})}class li{constructor(u){var h=u,{uid:e,auth:n,stsTokenManager:a}=h,o=si(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return U(this,null,function*(){const n=yield su(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ZN(this,e)}reload(){return nI(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>ye({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li(mt(ye({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return U(this,null,function*(){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&(yield Lh(this)),yield this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)})}delete(){return U(this,null,function*(){if(oi(this.auth.app))return Promise.reject(Za(this.auth));const e=yield this.getIdToken();return yield su(this,JN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return mt(ye({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>ye({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var te,$,re,X,ce,R,x,C;const a=(te=n.displayName)!=null?te:void 0,o=($=n.email)!=null?$:void 0,u=(re=n.phoneNumber)!=null?re:void 0,h=(X=n.photoURL)!=null?X:void 0,m=(ce=n.tenantId)!=null?ce:void 0,p=(R=n._redirectEventId)!=null?R:void 0,g=(x=n.createdAt)!=null?x:void 0,E=(C=n.lastLoginAt)!=null?C:void 0,{uid:T,emailVerified:A,isAnonymous:k,providerData:F,stsTokenManager:W}=n;Ae(T&&W,e,"internal-error");const V=uo.fromJSON(this.name,W);Ae(typeof T=="string",e,"internal-error"),ta(a,e.name),ta(o,e.name),Ae(typeof A=="boolean",e,"internal-error"),Ae(typeof k=="boolean",e,"internal-error"),ta(u,e.name),ta(h,e.name),ta(m,e.name),ta(p,e.name),ta(g,e.name),ta(E,e.name);const J=new li({uid:T,auth:e,email:o,emailVerified:A,displayName:a,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:g,lastLoginAt:E});return F&&Array.isArray(F)&&(J.providerData=F.map(M=>ye({},M))),p&&(J._redirectEventId=p),J}static _fromIdTokenResponse(e,n,a=!1){return U(this,null,function*(){const o=new uo;o.updateFromServerResponse(n);const u=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return yield Lh(u),u})}static _fromGetAccountInfoResponse(e,n,a){return U(this,null,function*(){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?BE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new uo;m.updateFromIdToken(a);const p=new li({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p})}}const xv=new Map;function cr(i){pr(i instanceof Function,"Expected a class definition");let e=xv.get(i);return e?(pr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,xv.set(i,e),e)}class HE{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return U(this,null,function*(){return!0})}_set(e,n){return U(this,null,function*(){this.storage[e]=n})}_get(e){return U(this,null,function*(){const n=this.storage[e];return n===void 0?null:n})}_remove(e){return U(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}HE.type="NONE";const Rv=HE;function _h(i,e,n){return`firebase:${i}:${e}:${n}`}class co{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return U(this,null,function*(){const e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=yield Ph(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return U(this,null,function*(){if(this.persistence===e)return;const n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,a="authUser"){return U(this,null,function*(){if(!n.length)return new co(cr(Rv),e,a);const o=(yield Promise.all(n.map(g=>U(null,null,function*(){if(yield g._isAvailable())return g})))).filter(g=>g);let u=o[0]||cr(Rv);const h=_h(a,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=yield g._get(h);if(E){let T;if(typeof E=="string"){const A=yield Ph(e,{idToken:E}).catch(()=>{});if(!A)break;T=yield li._fromGetAccountInfoResponse(e,A,E)}else T=li._fromJSON(e,E);g!==u&&(m=T),u=g;break}}catch(E){}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,a):(u=p[0],m&&(yield u._set(h,m.toJSON())),yield Promise.all(n.map(g=>U(null,null,function*(){if(g!==u)try{yield g._remove(h)}catch(E){}}))),new co(u,e,a))})}}function Cv(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QE(e))return"Blackberry";if(KE(e))return"Webos";if(FE(e))return"Safari";if((e.includes("chrome/")||GE(e))&&!e.includes("edge/"))return"Chrome";if($E(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(n);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function qE(i=on()){return/firefox\//i.test(i)}function FE(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GE(i=on()){return/crios\//i.test(i)}function YE(i=on()){return/iemobile/i.test(i)}function $E(i=on()){return/android/i.test(i)}function QE(i=on()){return/blackberry/i.test(i)}function KE(i=on()){return/webos/i.test(i)}function jp(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function sI(i=on()){var e;return jp(i)&&!!((e=window.navigator)!=null&&e.standalone)}function oI(){return bC()&&document.documentMode===10}function XE(i=on()){return jp(i)||$E(i)||KE(i)||QE(i)||/windows phone/i.test(i)||YE(i)}function WE(i,e=[]){let n;switch(i){case"Browser":n=Cv(on());break;case"Worker":n=`${Cv(on())}-${i}`;break;default:n=i}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Co}/${a}`}class lI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}runMiddleware(e){return U(this,null,function*(){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)yield a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch(u){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}})}}function uI(n){return U(this,arguments,function*(i,e={}){return No(i,"GET","/v2/passwordPolicy",Lp(i,e))})}const cI=6;class hI{constructor(e){var a,o,u,h;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(a=n.minPasswordLength)!=null?a:cI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(u=(o=e.allowedNonAlphanumericCharacters)==null?void 0:o.join(""))!=null?u:"",this.forceUpgradeOnSignin=(h=e.forceUpgradeOnSignin)!=null?h:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var a,o,u,h,m,p;const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=(a=n.meetsMinPasswordLength)!=null?a:!0),n.isValid&&(n.isValid=(o=n.meetsMaxPasswordLength)!=null?o:!0),n.isValid&&(n.isValid=(u=n.containsLowercaseLetter)!=null?u:!0),n.isValid&&(n.isValid=(h=n.containsUppercaseLetter)!=null?h:!0),n.isValid&&(n.isValid=(m=n.containsNumericCharacter)!=null?m:!0),n.isValid&&(n.isValid=(p=n.containsNonAlphanumericCharacter)!=null?p:!0),n}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class fI{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=LE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(()=>U(this,null,function*(){var a,o,u;if(!this._deleted&&(this.persistenceManager=yield co.create(this,e),(a=this._resolvePersistenceManagerAvailable)==null||a.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch(h){}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return U(this,null,function*(){if(this._deleted)return;const e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return U(this,null,function*(){try{const n=yield Ph(this,{idToken:e}),a=yield li._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return U(this,null,function*(){var u;if(oi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const n=yield this.assertedPersistence.getCurrentUser();let a=n,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();const h=(u=this.redirectUser)==null?void 0:u._redirectEventId,m=a==null?void 0:a._redirectEventId,p=yield this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(a)}catch(h){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)})}tryRedirectSignIn(e){return U(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(a){yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return U(this,null,function*(){try{yield Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=YN()}_delete(){return U(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return U(this,null,function*(){if(oi(this.app))return Promise.reject(Za(this));const n=e?In(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return U(this,null,function*(){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>U(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return U(this,null,function*(){return oi(this.app)?Promise.reject(Za(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return oi(this.app)?Promise.reject(Za(this)):this.queue(()=>U(this,null,function*(){yield this.assertedPersistence.setPersistence(cr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return U(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return U(this,null,function*(){const e=yield uI(this),n=new hI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new vu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}revokeAccessToken(e){return U(this,null,function*(){if(this.currentUser){const n=yield this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),yield aI(this,a)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}_setRedirectUser(e,n){return U(this,null,function*(){const a=yield this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return U(this,null,function*(){if(!this.redirectPersistenceManager){const n=e&&cr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=yield co.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return U(this,null,function*(){var n,a;return this._isInitialized&&(yield this.queue(()=>U(this,null,function*(){}))),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)==null?void 0:a._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return U(this,null,function*(){if(e===this.currentUser)return this.queue(()=>U(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n,a;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=(a=(n=this.currentUser)==null?void 0:n.uid)!=null?a:null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}directlySetCurrentUser(e){return U(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=WE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return U(this,null,function*(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=yield(o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const a=yield this._getAppCheckToken();return a&&(e["X-Firebase-AppCheck"]=a),e})}_getAppCheckToken(){return U(this,null,function*(){var n;if(oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=yield(n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken();return e!=null&&e.error&&HN(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token})}}function uf(i){return In(i)}class Nv{constructor(e){this.auth=e,this.observer=null,this.addObserver=IC(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zp={loadJS(){return U(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dI(i){zp=i}function mI(i){return zp.loadJS(i)}function pI(){return zp.gapiScript}function gI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function yI(i,e){const n=Op(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ns(u,e!=null?e:{}))return o;zi(o,"already-initialized")}return n.initialize({options:e})}function _I(i,e){const n=(e==null?void 0:e.persistence)||[],a=(Array.isArray(n)?n:[n]).map(cr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function vI(i,e,n){const a=uf(i);Ae(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,u=JE(e),{host:h,port:m}=EI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Ae(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ae(ns(g,a.config.emulator)&&ns(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,Ro(h)?(CE(`${u}//${h}${p}`),NE("Auth",!0)):TI()}function JE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function EI(i){const e=JE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const u=o[1];return{host:u,port:Iv(a.substr(u.length+1))}}else{const[u,h]=a.split(":");return{host:u,port:Iv(h)}}}function Iv(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function TI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console!="undefined"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window!="undefined"&&typeof document!="undefined"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class ZE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}function ho(i,e){return U(this,null,function*(){return XN(i,"POST","/v1/accounts:signInWithIdp",Lp(i,e))})}const bI="http://localhost";class rs extends ZE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const m=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=m,u=si(m,["providerId","signInMethod"]);if(!a||!o)return null;const h=new rs(a,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,ho(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:bI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}class Bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bu extends Bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class na extends bu{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:na.PROVIDER_ID,signInMethod:na.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return na.credentialFromTaggedObject(e)}static credentialFromError(e){return na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return na.credential(e.oauthAccessToken)}catch(n){return null}}}na.FACEBOOK_SIGN_IN_METHOD="facebook.com";na.PROVIDER_ID="facebook.com";class lr extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rs._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return lr.credential(n,a)}catch(o){return null}}}lr.GOOGLE_SIGN_IN_METHOD="google.com";lr.PROVIDER_ID="google.com";class ia extends bu{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:ia.PROVIDER_ID,signInMethod:ia.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ia.credentialFromTaggedObject(e)}static credentialFromError(e){return ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ia.credential(e.oauthAccessToken)}catch(n){return null}}}ia.GITHUB_SIGN_IN_METHOD="github.com";ia.PROVIDER_ID="github.com";class ra extends bu{constructor(){super("twitter.com")}static credential(e,n){return rs._fromParams({providerId:ra.PROVIDER_ID,signInMethod:ra.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ra.credentialFromTaggedObject(e)}static credentialFromError(e){return ra.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return ra.credential(n,a)}catch(o){return null}}}ra.TWITTER_SIGN_IN_METHOD="twitter.com";ra.PROVIDER_ID="twitter.com";class vo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,a,o=!1){return U(this,null,function*(){const u=yield li._fromIdTokenResponse(e,a,o),h=Dv(a);return new vo({user:u,providerId:h,_tokenResponse:a,operationType:n})})}static _forOperation(e,n,a){return U(this,null,function*(){yield e._updateTokensIfNecessary(a,!0);const o=Dv(a);return new vo({user:e,providerId:o,_tokenResponse:a,operationType:n})})}}function Dv(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class Uh extends vr{constructor(e,n,a,o){var u;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Uh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!=null?u:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new Uh(e,n,a,o)}}function eT(i,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Uh._fromErrorAndOperation(i,u,e,a):u})}function wI(i,e,n=!1){return U(this,null,function*(){const a=yield su(i,e._linkToIdToken(i.auth,yield i.getIdToken()),n);return vo._forOperation(i,"link",a)})}function SI(i,e,n=!1){return U(this,null,function*(){const{auth:a}=i;if(oi(a.app))return Promise.reject(Za(a));const o="reauthenticate";try{const u=yield su(i,eT(a,o,e,i),n);Ae(u.idToken,a,"internal-error");const h=Up(u.idToken);Ae(h,a,"internal-error");const{sub:m}=h;return Ae(i.uid===m,a,"user-mismatch"),vo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&zi(a,"user-mismatch"),u}})}function AI(i,e,n=!1){return U(this,null,function*(){if(oi(i.app))return Promise.reject(Za(i));const a="signIn",o=yield eT(i,a,e),u=yield vo._fromIdTokenResponse(i,a,o);return n||(yield i._updateCurrentUser(u.user)),u})}function xI(i,e,n,a){return In(i).onIdTokenChanged(e,n,a)}function RI(i,e,n){return In(i).beforeAuthStateChanged(e,n)}function CI(i,e,n,a){return In(i).onAuthStateChanged(e,n,a)}function NI(i){return In(i).signOut()}const jh="__sak";class tT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(jh,"1"),this.storage.removeItem(jh),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const II=1e3,DI=10;class fo extends tT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!n&&this.localCache[a]===h||this.notifyListeners(a,h)},u=this.storage.getItem(a);oI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,DI):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},II)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(e,n){return U(this,null,function*(){yield Qa(fo.prototype,this,"_set").call(this,e,n),this.localCache[e]=JSON.stringify(n)})}_get(e){return U(this,null,function*(){const n=yield Qa(fo.prototype,this,"_get").call(this,e);return this.localCache[e]=JSON.stringify(n),n})}_remove(e){return U(this,null,function*(){yield Qa(fo.prototype,this,"_remove").call(this,e),delete this.localCache[e]})}}fo.type="LOCAL";const MI=fo;class nT extends tT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nT.type="SESSION";const iT=nT;function OI(i){return Promise.all(i.map(e=>U(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new cf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}handleEvent(e){return U(this,null,function*(){const n=e,{eventId:a,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const m=Array.from(h).map(g=>U(this,null,function*(){return g(n.origin,u)})),p=yield OI(m);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];function Hp(i="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return i+n}class kI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,a=50){return U(this,null,function*(){const o=typeof MessageChannel!="undefined"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Hp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})})}}function Pi(){return window}function VI(i){Pi().location.href=i}function rT(){return typeof Pi().WorkerGlobalScope!="undefined"&&typeof Pi().importScripts=="function"}function PI(){return U(this,null,function*(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(i){return null}})}function LI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)==null?void 0:i.controller)||null}function UI(){return rT()?self:null}const aT="firebaseLocalStorageDb",jI=1,zh="firebaseLocalStorage",sT="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(i,e){return i.transaction([zh],e?"readwrite":"readonly").objectStore(zh)}function zI(){const i=indexedDB.deleteDatabase(aT);return new wu(i).toPromise()}function ap(){const i=indexedDB.open(aT,jI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(zh,{keyPath:sT})}catch(o){n(o)}}),i.addEventListener("success",()=>U(null,null,function*(){const a=i.result;a.objectStoreNames.contains(zh)?e(a):(a.close(),yield zI(),e(yield ap()))}))})}function Mv(i,e,n){return U(this,null,function*(){const a=hf(i,!0).put({[sT]:e,value:n});return new wu(a).toPromise()})}function BI(i,e){return U(this,null,function*(){const n=hf(i,!1).get(e),a=yield new wu(n).toPromise();return a===void 0?null:a.value})}function Ov(i,e){const n=hf(i,!0).delete(e);return new wu(n).toPromise()}const HI=800,qI=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return U(this,null,function*(){return this.db?this.db:(this.db=yield ap(),this.db)})}_withRetries(e){return U(this,null,function*(){let n=0;for(;;)try{const a=yield this._openDb();return yield e(a)}catch(a){if(n++>qI)throw a;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return U(this,null,function*(){return rT()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return U(this,null,function*(){this.receiver=cf._getInstance(UI()),this.receiver._subscribe("keyChanged",(e,n)=>U(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(e,n)=>U(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return U(this,null,function*(){var n,a;if(this.activeServiceWorker=yield PI(),!this.activeServiceWorker)return;this.sender=new kI(this.activeServiceWorker);const e=yield this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(a=e[0])!=null&&a.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(e){return U(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||LI()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(n){}})}_isAvailable(){return U(this,null,function*(){try{if(!indexedDB)return!1;const e=yield ap();return yield Mv(e,jh,"1"),yield Ov(e,jh),!0}catch(e){}return!1})}_withPendingWrite(e){return U(this,null,function*(){this.pendingWrites++;try{yield e()}finally{this.pendingWrites--}})}_set(e,n){return U(this,null,function*(){return this._withPendingWrite(()=>U(this,null,function*(){return yield this._withRetries(a=>Mv(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)}))})}_get(e){return U(this,null,function*(){const n=yield this._withRetries(a=>BI(a,e));return this.localCache[e]=n,n})}_remove(e){return U(this,null,function*(){return this._withPendingWrite(()=>U(this,null,function*(){return yield this._withRetries(n=>Ov(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)}))})}_poll(){return U(this,null,function*(){const e=yield this._withRetries(o=>{const u=hf(o,!1).getAll();return new wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n})}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>U(this,null,function*(){return this._poll()}),HI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const FI=oT;new Tu(3e4,6e4);function lT(i,e){return e?cr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class qp extends ZE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function GI(i){return AI(i.auth,new qp(i),i.bypassAuthState)}function YI(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),SI(n,new qp(i),i.bypassAuthState)}function $I(i){return U(this,null,function*(){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),wI(n,new qp(i),i.bypassAuthState)})}class uT{constructor(e,n,a,o,u=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>U(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}}))}onAuthEvent(e){return U(this,null,function*(){const{urlResponse:n,sessionId:a,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(m)(p))}catch(g){this.reject(g)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GI;case"linkViaPopup":case"linkViaRedirect":return $I;case"reauthViaPopup":case"reauthViaRedirect":return YI;default:zi(this.auth,"internal-error")}}resolve(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QI=new Tu(2e3,1e4);function KI(i,e,n){return U(this,null,function*(){if(oi(i.app))return Promise.reject(ci(i,"operation-not-supported-in-this-environment"));const a=uf(i);qN(i,e,Bp);const o=lT(a,n);return new Wa(a,"signInViaPopup",e,o).executeNotNull()})}class Wa extends uT{constructor(e,n,a,o,u){super(e,n,o,u),this.provider=a,this.authWindow=null,this.pollId=null,Wa.currentPopupAction&&Wa.currentPopupAction.cancel(),Wa.currentPopupAction=this}executeNotNull(){return U(this,null,function*(){const e=yield this.execute();return Ae(e,this.auth,"internal-error"),e})}onExecution(){return U(this,null,function*(){pr(this.filter.length===1,"Popup operations only handle one event");const e=Hp();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if((a=(n=this.authWindow)==null?void 0:n.window)!=null&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QI.get())};e()}}Wa.currentPopupAction=null;const XI="pendingRedirect",vh=new Map;class Zl extends uT{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}execute(){return U(this,null,function*(){let e=vh.get(this.auth._key());if(!e){try{const a=(yield WI(this.resolver,this.auth))?yield Qa(Zl.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return U(this,null,function*(){if(e.type==="signInViaRedirect")return Qa(Zl.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Qa(Zl.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return U(this,null,function*(){})}cleanUp(){}}function WI(i,e){return U(this,null,function*(){const n=eD(e),a=ZI(i);if(!(yield a._isAvailable()))return!1;const o=(yield a._get(n))==="true";return yield a._remove(n),o})}function JI(i,e){vh.set(i._key(),e)}function ZI(i){return cr(i._redirectPersistence)}function eD(i){return _h(XI,i.config.apiKey,i.name)}function tD(i,e,n=!1){return U(this,null,function*(){if(oi(i.app))return Promise.reject(Za(i));const a=uf(i),o=lT(a,e),h=yield new Zl(a,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,yield a._persistUserIfCurrent(h.user),yield a._setRedirectUser(null,e)),h})}const nD=600*1e3;class iD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!cT(e)){const o=((a=e.error.code)==null?void 0:a.split("auth/")[1])||"internal-error";n.onError(ci(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nD&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(e))}saveEventToCache(e){this.cachedEventUids.add(kv(e)),this.lastProcessedEventTime=Date.now()}}function kv(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function cT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cT(i);default:return!1}}function aD(n){return U(this,arguments,function*(i,e={}){return No(i,"GET","/v1/projects",e)})}const sD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oD=/^https?/;function lD(i){return U(this,null,function*(){if(i.config.emulator)return;const{authorizedDomains:e}=yield aD(i);for(const n of e)try{if(uD(n))return}catch(a){}zi(i,"unauthorized-domain")})}function uD(i){const e=ip(),{protocol:n,hostname:a}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&a===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===a}if(!oD.test(n))return!1;if(sD.test(i))return a===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const cD=new Tu(3e4,6e4);function Vv(){const i=Pi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function hD(i){return new Promise((e,n)=>{var o,u,h;function a(){Vv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vv(),n(ci(i,"network-request-failed"))},timeout:cD.get()})}if((u=(o=Pi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((h=Pi().gapi)!=null&&h.load)a();else{const m=gI("iframefcb");return Pi()[m]=()=>{gapi.load?a():n(ci(i,"network-request-failed"))},mI(`${pI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function fD(i){return Eh=Eh||hD(i),Eh}const dD=new Tu(5e3,15e3),mD="__/auth/iframe",pD="emulator/auth/iframe",gD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _D(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Pp(e,pD):`https://${i.config.authDomain}/${mD}`,a={apiKey:e.apiKey,appName:i.name,v:Co},o=yD.get(i.config.apiHost);o&&(a.eid=o);const u=i._getFrameworks();return u.length&&(a.fw=u.join(",")),`${n}?${Eu(a).slice(1)}`}function vD(i){return U(this,null,function*(){const e=yield fD(i),n=Pi().gapi;return Ae(n,i,"internal-error"),e.open({where:document.body,url:_D(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gD,dontclear:!0},a=>new Promise((o,u)=>U(null,null,function*(){yield a.restyle({setHideOnLeave:!1});const h=ci(i,"network-request-failed"),m=Pi().setTimeout(()=>{u(h)},dD.get());function p(){Pi().clearTimeout(m),o(a)}a.ping(p).then(p,()=>{u(h)})})))})}const ED={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TD=500,bD=600,wD="_blank",SD="http://localhost";class Pv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function AD(i,e,n,a=TD,o=bD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let m="";const p=mt(ye({},ED),{width:a.toString(),height:o.toString(),top:u,left:h}),g=on().toLowerCase();n&&(m=GE(g)?wD:n),qE(g)&&(e=e||SD,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[k,F])=>`${A}${k}=${F},`,"");if(sI(g)&&m!=="_self")return xD(e||"",m),new Pv(null);const T=window.open(e||"",m,E);Ae(T,i,"popup-blocked");try{T.focus()}catch(A){}return new Pv(T)}function xD(i,e){const n=document.createElement("a");n.href=i,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const RD="__/auth/handler",CD="emulator/auth/handler",ND=encodeURIComponent("fac");function Lv(i,e,n,a,o,u){return U(this,null,function*(){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:a,v:Co,eventId:o};if(e instanceof Bp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",NC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof bu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=yield i._getAppCheckToken(),g=p?`#${ND}=${encodeURIComponent(p)}`:"";return`${ID(i)}?${Eu(m).slice(1)}${g}`})}function ID({config:i}){return i.emulator?Pp(i,CD):`https://${i.authDomain}/${RD}`}const Bm="webStorageSupport";class DD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=tD,this._overrideRedirectResult=JI}_openPopup(e,n,a,o){return U(this,null,function*(){var h;pr((h=this.eventManagers[e._key()])==null?void 0:h.manager,"_initialize() not called before _openPopup()");const u=yield Lv(e,n,a,ip(),o);return AD(e,u,Hp())})}_openRedirect(e,n,a,o){return U(this,null,function*(){yield this._originValidation(e);const u=yield Lv(e,n,a,ip(),o);return VI(u),new Promise(()=>{})})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(pr(u,"If manager is not set, promise should be"),u)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}initAndGetManager(e){return U(this,null,function*(){const n=yield vD(e),a=new iD(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Bm,{type:Bm},o=>{var h;const u=(h=o==null?void 0:o[0])==null?void 0:h[Bm];u!==void 0&&n(!!u),zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XE()||FE()||jp()}}const MD=DD;var Uv="@firebase/auth",jv="1.12.0";class OD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}getToken(e){return U(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function kD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VD(i){_o(new is("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=a.options;Ae(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:WE(i)},g=new fI(a,o,u,p);return _I(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),_o(new is("auth-internal",e=>{const n=uf(e.getProvider("auth").getImmediate());return(a=>new OD(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),la(Uv,jv,kD(i)),la(Uv,jv,"esm2020")}const PD=300,LD=RE("authIdTokenMaxAge")||PD;let zv=null;const UD=i=>e=>U(null,null,function*(){const n=e&&(yield e.getIdTokenResult()),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>LD)return;const o=n==null?void 0:n.token;zv!==o&&(zv=o,yield fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});function jD(i=OE()){const e=Op(i,"auth");if(e.isInitialized())return e.getImmediate();const n=yI(i,{popupRedirectResolver:MD,persistence:[FI,MI,iT]}),a=RE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(a,location.origin);if(location.origin===u.origin){const h=UD(u.toString());RI(n,h,()=>h(n.currentUser)),xI(n,m=>h(m))}}const o=AE("auth");return o&&vI(n,`http://${o}`),n}function zD(){var i,e;return(e=(i=document.getElementsByTagName("head"))==null?void 0:i[0])!=null?e:document}dI({loadJS(i){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=e,a.onerror=o=>{const u=ci("internal-error");u.customData=o,n(u)},a.type="text/javascript",a.charset="UTF-8",zD().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VD("Browser");var BD="firebase",HD="12.9.0";la(BD,HD,"app");var Bv=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};var ua,hT;(function(){var i;function e(R,x){function C(){}C.prototype=x.prototype,R.F=x.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(M,I,O){for(var N=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)N[Oe-2]=arguments[Oe];return x.prototype[I].apply(M,N)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(a,n),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,x,C){C||(C=0);const M=Array(16);if(typeof x=="string")for(var I=0;I<16;++I)M[I]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(I=0;I<16;++I)M[I]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=R.g[0],C=R.g[1],I=R.g[2];let O=R.g[3],N;N=x+(O^C&(I^O))+M[0]+3614090360&4294967295,x=C+(N<<7&4294967295|N>>>25),N=O+(I^x&(C^I))+M[1]+3905402710&4294967295,O=x+(N<<12&4294967295|N>>>20),N=I+(C^O&(x^C))+M[2]+606105819&4294967295,I=O+(N<<17&4294967295|N>>>15),N=C+(x^I&(O^x))+M[3]+3250441966&4294967295,C=I+(N<<22&4294967295|N>>>10),N=x+(O^C&(I^O))+M[4]+4118548399&4294967295,x=C+(N<<7&4294967295|N>>>25),N=O+(I^x&(C^I))+M[5]+1200080426&4294967295,O=x+(N<<12&4294967295|N>>>20),N=I+(C^O&(x^C))+M[6]+2821735955&4294967295,I=O+(N<<17&4294967295|N>>>15),N=C+(x^I&(O^x))+M[7]+4249261313&4294967295,C=I+(N<<22&4294967295|N>>>10),N=x+(O^C&(I^O))+M[8]+1770035416&4294967295,x=C+(N<<7&4294967295|N>>>25),N=O+(I^x&(C^I))+M[9]+2336552879&4294967295,O=x+(N<<12&4294967295|N>>>20),N=I+(C^O&(x^C))+M[10]+4294925233&4294967295,I=O+(N<<17&4294967295|N>>>15),N=C+(x^I&(O^x))+M[11]+2304563134&4294967295,C=I+(N<<22&4294967295|N>>>10),N=x+(O^C&(I^O))+M[12]+1804603682&4294967295,x=C+(N<<7&4294967295|N>>>25),N=O+(I^x&(C^I))+M[13]+4254626195&4294967295,O=x+(N<<12&4294967295|N>>>20),N=I+(C^O&(x^C))+M[14]+2792965006&4294967295,I=O+(N<<17&4294967295|N>>>15),N=C+(x^I&(O^x))+M[15]+1236535329&4294967295,C=I+(N<<22&4294967295|N>>>10),N=x+(I^O&(C^I))+M[1]+4129170786&4294967295,x=C+(N<<5&4294967295|N>>>27),N=O+(C^I&(x^C))+M[6]+3225465664&4294967295,O=x+(N<<9&4294967295|N>>>23),N=I+(x^C&(O^x))+M[11]+643717713&4294967295,I=O+(N<<14&4294967295|N>>>18),N=C+(O^x&(I^O))+M[0]+3921069994&4294967295,C=I+(N<<20&4294967295|N>>>12),N=x+(I^O&(C^I))+M[5]+3593408605&4294967295,x=C+(N<<5&4294967295|N>>>27),N=O+(C^I&(x^C))+M[10]+38016083&4294967295,O=x+(N<<9&4294967295|N>>>23),N=I+(x^C&(O^x))+M[15]+3634488961&4294967295,I=O+(N<<14&4294967295|N>>>18),N=C+(O^x&(I^O))+M[4]+3889429448&4294967295,C=I+(N<<20&4294967295|N>>>12),N=x+(I^O&(C^I))+M[9]+568446438&4294967295,x=C+(N<<5&4294967295|N>>>27),N=O+(C^I&(x^C))+M[14]+3275163606&4294967295,O=x+(N<<9&4294967295|N>>>23),N=I+(x^C&(O^x))+M[3]+4107603335&4294967295,I=O+(N<<14&4294967295|N>>>18),N=C+(O^x&(I^O))+M[8]+1163531501&4294967295,C=I+(N<<20&4294967295|N>>>12),N=x+(I^O&(C^I))+M[13]+2850285829&4294967295,x=C+(N<<5&4294967295|N>>>27),N=O+(C^I&(x^C))+M[2]+4243563512&4294967295,O=x+(N<<9&4294967295|N>>>23),N=I+(x^C&(O^x))+M[7]+1735328473&4294967295,I=O+(N<<14&4294967295|N>>>18),N=C+(O^x&(I^O))+M[12]+2368359562&4294967295,C=I+(N<<20&4294967295|N>>>12),N=x+(C^I^O)+M[5]+4294588738&4294967295,x=C+(N<<4&4294967295|N>>>28),N=O+(x^C^I)+M[8]+2272392833&4294967295,O=x+(N<<11&4294967295|N>>>21),N=I+(O^x^C)+M[11]+1839030562&4294967295,I=O+(N<<16&4294967295|N>>>16),N=C+(I^O^x)+M[14]+4259657740&4294967295,C=I+(N<<23&4294967295|N>>>9),N=x+(C^I^O)+M[1]+2763975236&4294967295,x=C+(N<<4&4294967295|N>>>28),N=O+(x^C^I)+M[4]+1272893353&4294967295,O=x+(N<<11&4294967295|N>>>21),N=I+(O^x^C)+M[7]+4139469664&4294967295,I=O+(N<<16&4294967295|N>>>16),N=C+(I^O^x)+M[10]+3200236656&4294967295,C=I+(N<<23&4294967295|N>>>9),N=x+(C^I^O)+M[13]+681279174&4294967295,x=C+(N<<4&4294967295|N>>>28),N=O+(x^C^I)+M[0]+3936430074&4294967295,O=x+(N<<11&4294967295|N>>>21),N=I+(O^x^C)+M[3]+3572445317&4294967295,I=O+(N<<16&4294967295|N>>>16),N=C+(I^O^x)+M[6]+76029189&4294967295,C=I+(N<<23&4294967295|N>>>9),N=x+(C^I^O)+M[9]+3654602809&4294967295,x=C+(N<<4&4294967295|N>>>28),N=O+(x^C^I)+M[12]+3873151461&4294967295,O=x+(N<<11&4294967295|N>>>21),N=I+(O^x^C)+M[15]+530742520&4294967295,I=O+(N<<16&4294967295|N>>>16),N=C+(I^O^x)+M[2]+3299628645&4294967295,C=I+(N<<23&4294967295|N>>>9),N=x+(I^(C|~O))+M[0]+4096336452&4294967295,x=C+(N<<6&4294967295|N>>>26),N=O+(C^(x|~I))+M[7]+1126891415&4294967295,O=x+(N<<10&4294967295|N>>>22),N=I+(x^(O|~C))+M[14]+2878612391&4294967295,I=O+(N<<15&4294967295|N>>>17),N=C+(O^(I|~x))+M[5]+4237533241&4294967295,C=I+(N<<21&4294967295|N>>>11),N=x+(I^(C|~O))+M[12]+1700485571&4294967295,x=C+(N<<6&4294967295|N>>>26),N=O+(C^(x|~I))+M[3]+2399980690&4294967295,O=x+(N<<10&4294967295|N>>>22),N=I+(x^(O|~C))+M[10]+4293915773&4294967295,I=O+(N<<15&4294967295|N>>>17),N=C+(O^(I|~x))+M[1]+2240044497&4294967295,C=I+(N<<21&4294967295|N>>>11),N=x+(I^(C|~O))+M[8]+1873313359&4294967295,x=C+(N<<6&4294967295|N>>>26),N=O+(C^(x|~I))+M[15]+4264355552&4294967295,O=x+(N<<10&4294967295|N>>>22),N=I+(x^(O|~C))+M[6]+2734768916&4294967295,I=O+(N<<15&4294967295|N>>>17),N=C+(O^(I|~x))+M[13]+1309151649&4294967295,C=I+(N<<21&4294967295|N>>>11),N=x+(I^(C|~O))+M[4]+4149444226&4294967295,x=C+(N<<6&4294967295|N>>>26),N=O+(C^(x|~I))+M[11]+3174756917&4294967295,O=x+(N<<10&4294967295|N>>>22),N=I+(x^(O|~C))+M[2]+718787259&4294967295,I=O+(N<<15&4294967295|N>>>17),N=C+(O^(I|~x))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+x&4294967295,R.g[1]=R.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+O&4294967295}a.prototype.v=function(R,x){x===void 0&&(x=R.length);const C=x-this.blockSize,M=this.C;let I=this.h,O=0;for(;O<x;){if(I==0)for(;O<=C;)o(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<x;)if(M[I++]=R.charCodeAt(O++),I==this.blockSize){o(this,M),I=0;break}}else for(;O<x;)if(M[I++]=R[O++],I==this.blockSize){o(this,M),I=0;break}}this.h=I,this.o+=x},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var x=1;x<R.length-8;++x)R[x]=0;x=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=x&255,x/=256;for(this.v(R),R=Array(16),x=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)R[x++]=this.g[C]>>>M&255;return R};function u(R,x){var C=m;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=x(R)}function h(R,x){this.h=x;const C=[];let M=!0;for(let I=R.length-1;I>=0;I--){const O=R[I]|0;M&&O==x||(C[I]=O,M=!1)}this.g=C}var m={};function p(R){return-128<=R&&R<128?u(R,function(x){return new h([x|0],x<0?-1:0)}):new h([R|0],R<0?-1:0)}function g(R){if(isNaN(R)||!isFinite(R))return T;if(R<0)return V(g(-R));const x=[];let C=1;for(let M=0;R>=C;M++)x[M]=R/C|0,C*=4294967296;return new h(x,0)}function E(R,x){if(R.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(R.charAt(0)=="-")return V(E(R.substring(1),x));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(x,8));let M=T;for(let O=0;O<R.length;O+=8){var I=Math.min(8,R.length-O);const N=parseInt(R.substring(O,O+I),x);I<8?(I=g(Math.pow(x,I)),M=M.j(I).add(g(N))):(M=M.j(C),M=M.add(g(N)))}return M}var T=p(0),A=p(1),k=p(16777216);i=h.prototype,i.m=function(){if(W(this))return-V(this).m();let R=0,x=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);R+=(M>=0?M:4294967296+M)*x,x*=4294967296}return R},i.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(F(this))return"0";if(W(this))return"-"+V(this).toString(R);const x=g(Math.pow(R,6));var C=this;let M="";for(;;){const I=re(C,x).g;C=J(C,I.j(x));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=I,F(C))return O+M;for(;O.length<6;)O="0"+O;M=O+M}},i.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function F(R){if(R.h!=0)return!1;for(let x=0;x<R.g.length;x++)if(R.g[x]!=0)return!1;return!0}function W(R){return R.h==-1}i.l=function(R){return R=J(this,R),W(R)?-1:F(R)?0:1};function V(R){const x=R.g.length,C=[];for(let M=0;M<x;M++)C[M]=~R.g[M];return new h(C,~R.h).add(A)}i.abs=function(){return W(this)?V(this):this},i.add=function(R){const x=Math.max(this.g.length,R.g.length),C=[];let M=0;for(let I=0;I<=x;I++){let O=M+(this.i(I)&65535)+(R.i(I)&65535),N=(O>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);M=N>>>16,O&=65535,N&=65535,C[I]=N<<16|O}return new h(C,C[C.length-1]&-2147483648?-1:0)};function J(R,x){return R.add(V(x))}i.j=function(R){if(F(this)||F(R))return T;if(W(this))return W(R)?V(this).j(V(R)):V(V(this).j(R));if(W(R))return V(this.j(V(R)));if(this.l(k)<0&&R.l(k)<0)return g(this.m()*R.m());const x=this.g.length+R.g.length,C=[];for(var M=0;M<2*x;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let I=0;I<R.g.length;I++){const O=this.i(M)>>>16,N=this.i(M)&65535,Oe=R.i(I)>>>16,Fe=R.i(I)&65535;C[2*M+2*I]+=N*Fe,te(C,2*M+2*I),C[2*M+2*I+1]+=O*Fe,te(C,2*M+2*I+1),C[2*M+2*I+1]+=N*Oe,te(C,2*M+2*I+1),C[2*M+2*I+2]+=O*Oe,te(C,2*M+2*I+2)}for(R=0;R<x;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=x;R<2*x;R++)C[R]=0;return new h(C,0)};function te(R,x){for(;(R[x]&65535)!=R[x];)R[x+1]+=R[x]>>>16,R[x]&=65535,x++}function $(R,x){this.g=R,this.h=x}function re(R,x){if(F(x))throw Error("division by zero");if(F(R))return new $(T,T);if(W(R))return x=re(V(R),x),new $(V(x.g),V(x.h));if(W(x))return x=re(R,V(x)),new $(V(x.g),x.h);if(R.g.length>30){if(W(R)||W(x))throw Error("slowDivide_ only works with positive integers.");for(var C=A,M=x;M.l(R)<=0;)C=X(C),M=X(M);var I=ce(C,1),O=ce(M,1);for(M=ce(M,2),C=ce(C,2);!F(M);){var N=O.add(M);N.l(R)<=0&&(I=I.add(C),O=N),M=ce(M,1),C=ce(C,1)}return x=J(R,I.j(x)),new $(I,x)}for(I=T;R.l(x)>=0;){for(C=Math.max(1,Math.floor(R.m()/x.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),O=g(C),N=O.j(x);W(N)||N.l(R)>0;)C-=M,O=g(C),N=O.j(x);F(O)&&(O=A),I=I.add(O),R=J(R,N)}return new $(I,R)}i.B=function(R){return re(this,R).h},i.and=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)&R.i(M);return new h(C,this.h&R.h)},i.or=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)|R.i(M);return new h(C,this.h|R.h)},i.xor=function(R){const x=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<x;M++)C[M]=this.i(M)^R.i(M);return new h(C,this.h^R.h)};function X(R){const x=R.g.length+1,C=[];for(let M=0;M<x;M++)C[M]=R.i(M)<<1|R.i(M-1)>>>31;return new h(C,R.h)}function ce(R,x){const C=x>>5;x%=32;const M=R.g.length-C,I=[];for(let O=0;O<M;O++)I[O]=x>0?R.i(O+C)>>>x|R.i(O+C+1)<<32-x:R.i(O+C);return new h(I,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,hT=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ua=h}).apply(typeof Bv!="undefined"?Bv:typeof self!="undefined"?self:typeof window!="undefined"?window:{});var ch=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};var fT,$l,dT,Th,sp,mT,pT,gT;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ch=="object"&&ch];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=n(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,z,Q){for(var he=Array(arguments.length-2),De=2;De<arguments.length;De++)he[De-2]=arguments[De];return y.prototype[z].apply(S,he)}}var A=typeof AsyncContext!="undefined"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function F(c,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=c.length||0;const Q=z.length||0;c.length=v+Q;for(let he=0;he<Q;he++)c[v+he]=z[he]}else c.push(z)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(c){h.setTimeout(()=>{throw c},0)}function J(){var c=R;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,v){const S=$.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var $=new W(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let X,ce=!1,R=new te,x=()=>{const c=Promise.resolve(void 0);X=()=>{c.then(C)}};function C(){for(var c;c=J();){try{c.h.call(c.g)}catch(v){V(v)}var y=$;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}ce=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch(v){}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Oe(c,y){I.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Oe,I),Oe.prototype.init=function(c,y){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Oe.Z.h.call(this)},Oe.prototype.h=function(){Oe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Fe="closure_listenable_"+(Math.random()*1e6|0),Y=0;function le(c,y,v,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++Y,this.da=this.fa=!1}function ge(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ke(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function Te(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function P(c){const y={};for(const v in c)y[v]=c[v];return y}const ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ue(c,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let Q=0;Q<ee.length;Q++)v=ee[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function fe(c){this.src=c,this.g={},this.h=0}fe.prototype.add=function(c,y,v,S,z){const Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);const he=me(c,y,S,z);return he>-1?(y=c[he],v||(y.fa=!1)):(y=new le(y,this.src,Q,!!S,z),y.fa=v,c.push(y)),y};function ne(c,y){const v=y.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=z>=0)&&Array.prototype.splice.call(S,z,1),Q&&(ge(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function me(c,y,v,S){for(let z=0;z<c.length;++z){const Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==S)return z}return-1}var Re="closure_lm_"+(Math.random()*1e6|0),ht={};function st(c,y,v,S,z){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)st(c,y[Q],v,S,z);return null}return v=Po(v),c&&c[Fe]?c.J(y,v,m(S)?!!S.capture:!1,z):En(c,y,v,!1,S,z)}function En(c,y,v,S,z,Q){if(!y)throw Error("Invalid event type");const he=m(z)?!!z.capture:!!z;let De=_a(c);if(De||(c[Re]=De=new fe(c)),v=De.add(y,v,S,he,Q),v.proxy)return v;if(S=Er(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)O||(z=he),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(di(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Er(){function c(v){return y.call(c.src,c.listener,v)}const y=ko;return c}function ds(c,y,v,S,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)ds(c,y[Q],v,S,z);else S=m(S)?!!S.capture:!!S,v=Po(v),c&&c[Fe]?(c=c.i,Q=String(y).toString(),Q in c.g&&(y=c.g[Q],v=me(y,v,S,z),v>-1&&(ge(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[Q],c.h--)))):c&&(c=_a(c))&&(y=c.g[y.toString()],c=-1,y&&(c=me(y,v,S,z)),(v=c>-1?y[c]:null)&&ms(v))}function ms(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Fe])ne(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(di(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=_a(y))?(ne(v,c),v.h==0&&(v.src=null,y[Re]=null)):ge(c)}}}function di(c){return c in ht?ht[c]:ht[c]="on"+c}function ko(c,y){if(c.da)c=!0;else{y=new Oe(y,this);const v=c.listener,S=c.ha||c.src;c.fa&&ms(c),c=v.call(S,y)}return c}function _a(c){return c=c[Re],c instanceof fe?c:null}var Vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(c){return typeof c=="function"?c:(c[Vo]||(c[Vo]=function(y){return c.handleEvent(y)}),c[Vo])}function At(){M.call(this),this.i=new fe(this),this.M=this,this.G=null}T(At,M),At.prototype[Fe]=!0,At.prototype.removeEventListener=function(c,y,v,S){ds(this,c,y,v,S)};function Lt(c,y){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new I(y,c);else if(y instanceof I)y.target=y.target||c;else{var z=y;y=new I(S,c),ue(y,z)}z=!0;let Q,he;if(v)for(he=v.length-1;he>=0;he--)Q=y.g=v[he],z=Tr(Q,S,!0,y)&&z;if(Q=y.g=c,z=Tr(Q,S,!0,y)&&z,z=Tr(Q,S,!1,y)&&z,v)for(he=0;he<v.length;he++)Q=y.g=v[he],z=Tr(Q,S,!1,y)&&z}At.prototype.N=function(){if(At.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let S=0;S<v.length;S++)ge(v[S]);delete c.g[y],c.h--}}this.G=null},At.prototype.J=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},At.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Tr(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let Q=0;Q<y.length;++Q){const he=y[Q];if(he&&!he.da&&he.capture==v){const De=he.listener,Tt=he.ha||he.src;he.fa&&ne(c.i,he),z=De.call(Tt,S)!==!1&&z}}return z&&!S.defaultPrevented}function Af(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Nu(c){c.g=Af(()=>{c.g=null,c.i&&(c.i=!1,Nu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ln extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(c){M.call(this),this.h=c,this.g={}}T(va,M);var Lo=[];function Uo(c){ke(c.g,function(y,v){this.g.hasOwnProperty(v)&&ms(y)},c),c.g={}}va.prototype.N=function(){va.Z.N.call(this),Uo(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var br=h.JSON.stringify,xf=h.JSON.parse,Iu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Du(){}function Mu(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $t(){I.call(this,"d")}T($t,I);function Dn(){I.call(this,"c")}T(Dn,I);var Et={},Ou=null;function ps(){return Ou=Ou||new At}Et.Ia="serverreachability";function ku(c){I.call(this,Et.Ia,c)}T(ku,I);function mi(c){const y=ps();Lt(y,new ku(y))}Et.STAT_EVENT="statevent";function Ea(c,y){I.call(this,Et.STAT_EVENT,c),this.stat=y}T(Ea,I);function xt(c){const y=ps();Lt(y,new Ea(y,c))}Et.Ja="timingevent";function pi(c,y){I.call(this,Et.Ja,c),this.size=y}T(pi,I);function gi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Rf(c,y,v,S,z,Q){c.info(function(){if(c.g)if(Q){var he="",De=Q.split("&");for(let Qe=0;Qe<De.length;Qe++){var Tt=De[Qe].split("=");if(Tt.length>1){const ft=Tt[0];Tt=Tt[1];const Vn=ft.split("_");he=Vn.length>=2&&Vn[1]=="type"?he+(ft+"="+Tt+"&"):he+(ft+"=redacted&")}}}else he=null;else he=Q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+he})}function Vu(c,y,v,S,z,Q,he){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+Q+" "+he})}function yi(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Cf(c,v)+(S?" "+S:"")})}function Ta(c,y){c.info(function(){return"TIMEOUT: "+y})}Kn.prototype.info=function(){};function Cf(c,y){if(!c.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(c=0;c<Q.length;c++)if(Array.isArray(Q[c])){var v=Q[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let he=1;he<S.length;he++)S[he]=""}}}}return br(Q)}catch(Q){return y}}var ba={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zo;function wa(){}T(wa,Du),wa.prototype.g=function(){return new XMLHttpRequest},zo=new wa;function qi(c){return encodeURIComponent(String(c))}function Pu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Xn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.S=S||1,this.V=new va(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var Rt={},Ht={};function _i(c,y,v){c.M=1,c.A=Sa(Nt(y)),c.u=v,c.R=!0,gs(c,null)}function gs(c,y){c.F=Date.now(),vi(c),c.B=Nt(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),Es(v.i,"t",S),c.C=0,v=c.j.L,c.h=new Wn,c.g=Wu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new ln(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,S=c.ba;var z="readystatechange";Array.isArray(z)||(z&&(Lo[0]=z.toString()),z=Lo);for(let Q=0;Q<z.length;Q++){const he=st(v,z[Q],S||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.J?P(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),mi(),Rf(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const y=this.O;y&&ei(c)==3?y.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const De=ei(this.g),Tt=this.g.ya(),Qe=this.g.ca();if(!(De<3)&&(De!=3||this.g&&(this.h.h||this.g.la()||Qt(this.g)))){this.K||De!=4||Tt==7||(Tt==8||Qe<=0?mi(3):mi(2)),Ei(this);var y=this.g.ca();this.X=y;var v=Nf(this);if(this.o=y==200,Vu(this.i,this.v,this.B,this.l,this.S,De,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(S)){var Q=S;break t}}Q=null}if(c=Q)yi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,xt(12),Tn(this),Mn(this);break e}}if(this.R){c=!0;let ft;for(;!this.K&&this.C<v.length;)if(ft=Uu(this,v),ft==Ht){De==4&&(this.m=4,xt(14),c=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(ft==Rt){this.m=4,xt(15),yi(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else yi(this.i,this.l,ft,null),Ti(this,ft);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),De!=4||v.length!=0||this.h.h||(this.m=1,xt(16),c=!1),this.o=this.o&&c,!c)yi(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),Mn(this);else if(v.length>0&&!this.W){this.W=!0;var he=this.j;he.g==this&&he.aa&&!he.P&&(he.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),tl(he),he.P=!0,xt(11))}}else yi(this.i,this.l,v,null),Ti(this,v);De==4&&Tn(this),this.o&&!this.K&&(De==4?$u(this.j,this):(this.o=!1,vi(this)))}else Gi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),Tn(this),Mn(this)}}}catch(De){}};function Nf(c){if(!Lu(c))return c.g.la();const y=Qt(c.g);if(y==="")return"";let v="";const S=y.length,z=ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder=="undefined")return Tn(c),Mn(c),"";c.h.i=new h.TextDecoder}for(let Q=0;Q<S;Q++)c.h.h=!0,v+=c.h.i.decode(y[Q],{stream:!(z&&Q==S-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Uu(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Ht:(v=Number(y.substring(v,S)),isNaN(v)?Rt:(S+=1,S+v>y.length?Ht:(y=y.slice(S,S+v),c.C=S+v,y)))}Xn.prototype.cancel=function(){this.K=!0,Tn(this)};function vi(c){c.T=Date.now()+c.H,ys(c,c.H)}function ys(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(g(c.aa,c),y)}function Ei(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ta(this.i,this.B),this.M!=2&&(mi(),xt(17)),Tn(this),this.m=2,Mn(this)):ys(this,this.T-c)};function Mn(c){c.j.I==0||c.K||$u(c.j,c)}function Tn(c){Ei(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Uo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Ti(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||wi(v.h,c))){if(!c.L&&wi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch(Qe){S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)As(v),Ir(v);else break e;Da(v),xt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=gi(g(v.Va,v),6e3));bi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((c.L||v.g==c)&&As(v),!N(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let Qe=z[y];const ft=Qe[0];if(!(ft<=v.K))if(v.K=ft,Qe=Qe[1],v.I==2)if(Qe[0]=="c"){v.M=Qe[1],v.ba=Qe[2];const Vn=Qe[3];Vn!=null&&(v.ka=Vn,v.j.info("VER="+v.ka));const Ii=Qe[4];Ii!=null&&(v.za=Ii,v.j.info("SVER="+v.za));const ti=Qe[5];ti!=null&&typeof ti=="number"&&ti>0&&(S=1.5*ti,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ni=c.g;if(ni){const Ma=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var Q=S.h;Q.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(qo(Q,Q.h),Q.h=null))}if(S.G){const xs=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(S.wa=xs,We(S.J,S.G,xs))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var he=c;if(S.na=Xu(S,S.L?S.ba:null,S.W),he.L){Fo(S.h,he);var De=he,Tt=S.O;Tt&&(De.H=Tt),De.D&&(Ei(De),vi(De)),S.g=he}else Gu(S);v.i.length>0&&Ci(v)}else Qe[0]!="stop"&&Qe[0]!="close"||Ni(v,7);else v.I==3&&(Qe[0]=="stop"||Qe[0]=="close"?Qe[0]=="stop"?Ni(v,7):Zo(v):Qe[0]!="noop"&&v.l&&v.l.qa(Qe),v.A=0)}}mi(4)}catch(Qe){}}var Ct=class{constructor(c,y){this.g=c,this.map=y}};function Bo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function bi(c){return c.h?1:c.g?c.g.size:0}function wi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function qo(c,y){c.g?c.g.add(y):c.h=y}function Fo(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Bo.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _s(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let z,Q=null;S>=0?(z=c[v].substring(0,S),Q=c[v].substring(S+1)):z=c[v],y(z,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function bn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof bn?(this.l=c.l,qt(this,c.j),this.o=c.o,this.g=c.g,wr(this,c.u),this.h=c.h,Yo(this,qu(c.i)),this.m=c.m):c&&(y=String(c).match(ju))?(this.l=!1,qt(this,y[1]||"",!0),this.o=Si(y[2]||""),this.g=Si(y[3]||"",!0),wr(this,y[4]),this.h=Si(y[5]||"",!0),Yo(this,y[6]||"",!0),this.m=Si(y[7]||"")):(this.l=!1,this.i=new Ar(null,this.l))}bn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Aa(y,vs,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Aa(y,vs,!0),"@"),c.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Aa(v,v.charAt(0)=="/"?$o:zu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Aa(v,Bu)),c.join("")},bn.prototype.resolve=function(c){const y=Nt(this);let v=!!c.j;v?qt(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var S=c.h;if(v)wr(y,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const Q=[];for(let he=0;he<z.length;){const De=z[he++];De=="."?S&&he==z.length&&Q.push(""):De==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),S&&he==z.length&&Q.push("")):(Q.push(De),S=!0)}S=Q.join("/")}else S=z}return v?y.h=S:v=c.i.toString()!=="",v?Yo(y,qu(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Nt(c){return new bn(c)}function qt(c,y,v){c.j=v?Si(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function wr(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Yo(c,y,v){y instanceof Ar?(c.i=y,Ts(c.i,c.l)):(v||(y=Aa(y,Sr)),c.i=new Ar(y,c.l))}function We(c,y,v){c.i.set(y,v)}function Sa(c){return We(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Si(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Aa(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,fn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var vs=/[#\/\?@]/g,zu=/[#\?:]/g,$o=/[#\?]/g,Sr=/[#\?@]/g,Bu=/#/g;function Ar(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function dn(c){c.g||(c.g=new Map,c.h=0,c.i&&_s(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ar.prototype,i.add=function(c,y){dn(this),this.i=null,c=xr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Hu(c,y){dn(c),y=xr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qo(c,y){return dn(c),y=xr(c,y),c.g.has(y)}i.forEach=function(c,y){dn(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(y,z,S,this)},this)},this)};function Ko(c,y){dn(c);let v=[];if(typeof y=="string")Qo(c,y)&&(v=v.concat(c.g.get(xr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}i.set=function(c,y){return dn(this),this.i=null,c=xr(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=Ko(this,c),c.length>0?String(c[0]):y):y};function Es(c,y,v){Hu(c,y),v.length>0&&(c.i=null,c.g.set(xr(c,y),k(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=qi(v);v=Ko(this,v);for(let Q=0;Q<v.length;Q++){let he=z;v[Q]!==""&&(he+="="+qi(v[Q])),c.push(he)}}return this.i=c.join("&")};function qu(c){const y=new Ar;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function xr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ts(c,y){y&&!c.j&&(dn(c),c.i=null,c.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(Hu(this,S),Es(this,z,v))},c)),c.j=y}function Jn(c,y){const v=new Kn;if(h.Image){const S=new Image;S.onload=E(On,v,"TestLoadImage: loaded",!0,y,S),S.onerror=E(On,v,"TestLoadImage: error",!1,y,S),S.onabort=E(On,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=E(On,v,"TestLoadImage: timeout",!1,y,S),h.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Xo(c,y){const v=new Kn,S=new AbortController,z=setTimeout(()=>{S.abort(),On(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(z),Q.ok?On(v,"TestPingServer: ok",!0,y):On(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),On(v,"TestPingServer: error",!1,y)})}function On(c,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch(Q){}}function Rr(){this.g=new Iu}function Ai(c){this.i=c.Sb||null,this.h=c.ab||!1}T(Ai,Du),Ai.prototype.g=function(){return new xa(this.i,this.h)};function xa(c,y){At.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(xa,At),i=xa.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Zn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream!="undefined"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bs(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function bs(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Cr(this):Zn(this),this.readyState==3&&bs(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Cr(this))},i.Na=function(c){this.g&&(this.response=c,Cr(this))},i.ga=function(){this.g&&Cr(this)};function Cr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}i.setRequestHeader=function(c,y){this.A.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function kn(c){let y="";return ke(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ra(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=kn(v),typeof c=="string"?v!=null&&qi(v):We(c,y,v))}function nt(c){At.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(nt,At);var xi=/^https?$/i,Wo=["POST","PUT"];i=nt.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zo.g(),this.g.onreadystatechange=A(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){Ca(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Wo,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,he]of v)this.g.setRequestHeader(Q,he);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(Q){Ca(this,Q)}};function Ca(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Jo(c),Fi(c)}function Jo(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Lt(this,"complete"),Lt(this,"abort"),Fi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),nt.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},i.Xa=function(){Na(this)};function Na(c){if(c.h&&typeof u!="undefined"){if(c.v&&ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(Lt(c,"readystatechange"),ei(c)==4){c.h=!1;try{const Q=c.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=Q===0){let he=String(c.D).match(ju)[1]||null;!he&&h.self&&h.self.location&&(he=h.self.location.protocol.slice(0,-1)),S=!xi.test(he?he.toLowerCase():"")}v=S}if(v)Lt(c,"complete"),Lt(c,"success");else{c.o=6;try{var z=ei(c)>2?c.g.statusText:""}catch(he){z=""}c.l=z+" ["+c.ca()+"]",Jo(c)}}finally{Fi(c)}}}}function Fi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Lt(c,"ready");try{v.onreadystatechange=null}catch(S){}}}i.isActive=function(){return!!this.g};function ei(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ei(this)>2?this.g.status:-1}catch(c){return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch(c){return""}},i.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),xf(y)}};function Qt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch(y){return null}}function Gi(c){const y={};c=(c.g&&ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(N(c[S]))continue;var v=Pu(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[z]||[];y[z]=Q,Q.push(v)}Te(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Nr(c){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,c),this.Za=Ri("retryDelaySeedMs",1e4,c),this.Ta=Ri("forwardChannelMaxRetries",2,c),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Bo(c&&c.concurrentRequestLimit),this.Ba=new Rr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Nr.prototype,i.ka=8,i.I=1,i.connect=function(c,y,v,S){xt(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=Xu(this,null,this.W),Ci(this)};function Zo(c){if(ws(c),c.I==3){var y=c.V++,v=Nt(c.J);if(We(v,"SID",c.M),We(v,"RID",y),We(v,"TYPE","terminate"),Ia(c,v),y=new Xn(c,c.j,y),y.M=2,y.A=Sa(Nt(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch(S){}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Wu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),vi(y)}Ku(c)}function Ir(c){c.g&&(tl(c),c.g.cancel(),c.g=null)}function ws(c){Ir(c),c.v&&(h.clearTimeout(c.v),c.v=null),As(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ci(c){if(!Ho(c.h)&&!c.m){c.m=!0;var y=c.Ea;X||x(),ce||(X(),ce=!0),R.add(y,c),c.D=0}}function Ss(c,y){return bi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(g(c.Ea,c,y),Qu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const z=new Xn(this,this.j,c);let Q=this.o;if(this.U&&(Q?(Q=P(Q),ue(Q,this.U)):Q=this.U),this.u!==null||this.R||(z.J=Q,Q=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Fu(this,z,y),v=Nt(this.J),We(v,"RID",c),We(v,"CVER",22),this.G&&We(v,"X-HTTP-Session-Id",this.G),Ia(this,v),Q&&(this.R?y="headers="+qi(kn(Q))+"&"+y:this.u&&Ra(v,this.u,Q)),qo(this.h,z),this.Ra&&We(v,"TYPE","init"),this.S?(We(v,"$req",y),We(v,"SID","null"),z.U=!0,_i(z,v,null)):_i(z,v,y),this.I=2}}else this.I==3&&(c?el(this,c):this.i.length==0||Ho(this.h)||el(this))};function el(c,y){var v;y?v=y.l:v=c.V++;const S=Nt(c.J);We(S,"SID",c.M),We(S,"RID",v),We(S,"AID",c.K),Ia(c,S),c.u&&c.o&&Ra(S,c.u,c.o),v=new Xn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Fu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),qo(c.h,v),_i(v,S,y)}function Ia(c,y){c.H&&ke(c.H,function(v,S){We(y,S,v)}),c.l&&ke({},function(v,S){We(y,S,v)})}function Fu(c,y,v){v=Math.min(c.i.length,v);const S=c.l?g(c.l.Ka,c.l,c):null;e:{var z=c.i;let De=-1;for(;;){const Tt=["count="+v];De==-1?v>0?(De=z[0].g,Tt.push("ofs="+De)):De=0:Tt.push("ofs="+De);let Qe=!0;for(let ft=0;ft<v;ft++){var Q=z[ft].g;const Vn=z[ft].map;if(Q-=De,Q<0)De=Math.max(0,z[ft].g-100),Qe=!1;else try{Q="req"+Q+"_"||"";try{var he=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Ii,ti]of he){let ni=ti;m(ti)&&(ni=br(ti)),Tt.push(Q+Ii+"="+encodeURIComponent(ni))}}catch(Ii){throw Tt.push(Q+"type="+encodeURIComponent("_badmap")),Ii}}catch(Ii){S&&S(Vn)}}if(Qe){he=Tt.join("&");break e}}he=void 0}return c=c.i.splice(0,v),y.G=c,he}function Gu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;X||x(),ce||(X(),ce=!0),R.add(y,c),c.A=0}}function Da(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(g(c.Da,c),Qu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Yu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(g(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),Ir(this),Yu(this))};function tl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Yu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Nt(c.na);We(y,"RID","rpc"),We(y,"SID",c.M),We(y,"AID",c.K),We(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&We(y,"TO",c.ia),We(y,"TYPE","xmlhttp"),Ia(c,y),c.u&&c.o&&Ra(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Sa(Nt(y)),v.u=null,v.R=!0,gs(v,c)}i.Va=function(){this.C!=null&&(this.C=null,Ir(this),Da(this),xt(19))};function As(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function $u(c,y){var v=null;if(c.g==y){As(c),tl(c),c.g=null;var S=2}else if(wi(c.h,y))v=y.G,Fo(c.h,y),S=1;else return;if(c.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=c.D;S=ps(),Lt(S,new pi(S,v)),Ci(c)}else Gu(c);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&Ss(c,y)||S==2&&Da(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function Qu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Ni(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),S=c.Ua;const z=!S;S=new bn(S||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qt(S,"https"),Sa(S),z?Jn(S.toString(),v):Xo(S.toString(),v)}else xt(2);c.I=0,c.l&&c.l.pa(y),Ku(c),ws(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function Ku(c){if(c.I=0,c.ja=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ja,y),F(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Xu(c,y,v){var S=v instanceof bn?Nt(v):new bn(v);if(S.g!="")y&&(S.g=y+"."+S.g),wr(S,S.u);else{var z=h.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const Q=new bn(null);S&&qt(Q,S),y&&(Q.g=y),z&&wr(Q,z),v&&(Q.h=v),S=Q}return v=c.G,y=c.wa,v&&y&&We(S,v,y),We(S,"VER",c.ka),Ia(c,S),S}function Wu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new nt(new Ai({ab:v})):new nt(c.ma),y.Fa(c.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}i=Ju.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Dr(){}Dr.prototype.g=function(c,y){return new un(c,y)};function un(c,y){At.call(this),this.g=new Nr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Yi(this)}T(un,At),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Zo(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=br(c),c=v);y.i.push(new Ct(y.Ya++,c)),y.I==3&&Ci(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,un.Z.N.call(this)};function Zu(c){$t.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Zu,$t);function ec(){Dn.call(this),this.status=1}T(ec,Dn);function Yi(c){this.g=c}T(Yi,Ju),Yi.prototype.ra=function(){Lt(this.g,"a")},Yi.prototype.qa=function(c){Lt(this.g,new Zu(c))},Yi.prototype.pa=function(c){Lt(this.g,new ec)},Yi.prototype.oa=function(){Lt(this.g,"b")},Dr.prototype.createWebChannel=Dr.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,gT=function(){return new Dr},pT=function(){return ps()},mT=Et,sp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ba.NO_ERROR=0,ba.TIMEOUT=8,ba.HTTP_ERROR=6,Th=ba,jo.COMPLETE="complete",dT=jo,Mu.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",At.prototype.listen=At.prototype.J,$l=Mu,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,fT=nt}).apply(typeof ch!="undefined"?ch:typeof self!="undefined"?self:typeof window!="undefined"?window:{});class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let Io="12.9.0";function qD(i){Io=i}const as=new Dp("@firebase/firestore");function ro(){return as.logLevel}function de(i,...e){if(as.logLevel<=ze.DEBUG){const n=e.map(Fp);as.debug(`Firestore (${Io}): ${i}`,...n)}}function gr(i,...e){if(as.logLevel<=ze.ERROR){const n=e.map(Fp);as.error(`Firestore (${Io}): ${i}`,...n)}}function ss(i,...e){if(as.logLevel<=ze.WARN){const n=e.map(Fp);as.warn(`Firestore (${Io}): ${i}`,...n)}}function Fp(i){if(typeof i=="string")return i;try{return(function(n){return JSON.stringify(n)})(i)}catch(e){return i}}function Se(i,e,n){let a="Unexpected state";typeof e=="string"?a=e:n=e,yT(i,a,n)}function yT(i,e,n){let a=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{a+=" CONTEXT: "+JSON.stringify(n)}catch(o){a+=" CONTEXT: "+n}throw gr(a),new Error(a)}function Xe(i,e,n,a){let o="Unexpected state";typeof n=="string"?o=n:a=n,i||yT(e,o,a)}function Ie(i,e){return i}const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class es{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class _T{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(an.UNAUTHENTICATED)))}shutdown(){}}class GD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class YD{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let u=new es;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new es,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((()=>U(this,null,function*(){yield p.promise,yield o(this.currentUser)})))},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new es)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xe(typeof a.accessToken=="string",31837,{l:a}),new _T(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new an(e)}}class $D{constructor(e,n,a){this.P=e,this.T=n,this.I=a,this.type="FirstParty",this.user=an.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class QD{constructor(e,n,a){this.P=e,this.T=n,this.I=a}getToken(){return Promise.resolve(new $D(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Hv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const a=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>a(u)))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Hv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Hv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XD(i){const e=typeof self!="undefined"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<i;a++)n[a]=Math.floor(256*Math.random());return n}class Gp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=XD(40);for(let u=0;u<o.length;++u)a.length<20&&o[u]<n&&(a+=e.charAt(o[u]%62))}return a}}function Be(i,e){return i<e?-1:i>e?1:0}function op(i,e){const n=Math.min(i.length,e.length);for(let a=0;a<n;a++){const o=i.charAt(a),u=e.charAt(a);if(o!==u)return Hm(o)===Hm(u)?Be(o,u):Hm(o)?1:-1}return Be(i.length,e.length)}const WD=55296,JD=57343;function Hm(i){const e=i.charCodeAt(0);return e>=WD&&e<=JD}function Eo(i,e,n){return i.length===e.length&&i.every(((a,o)=>n(a,e[o])))}const qv="__name__";class Vi{constructor(e,n,a){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),a===void 0?a=e.length-n:a>e.length-n&&Se(1746,{length:a,range:e.length-n}),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Vi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Vi?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const u=Vi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Be(e.length,n.length)}static compareSegments(e,n){const a=Vi.isNumericId(e),o=Vi.isNumericId(n);return a&&!o?-1:!a&&o?1:a&&o?Vi.extractNumericId(e).compare(Vi.extractNumericId(n)):op(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ua.fromString(e.substring(4,e.length-2))}}class pt extends Vi{construct(e,n,a){return new pt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new ve(oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new pt(n)}static emptyPath(){return new pt([])}}const ZD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Vi{construct(e,n,a){return new en(e,n,a)}static isValidIdentifier(e){return ZD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new en([qv])}static fromServerFormat(e){const n=[];let a="",o=0;const u=()=>{if(a.length===0)throw new ve(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ve(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(a+=m,o++):(u(),o++)}if(u(),h)throw new ve(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}class be{constructor(e){this.path=e}static fromPath(e){return new be(pt.fromString(e))}static fromName(e){return new be(pt.fromString(e).popFirst(5))}static empty(){return new be(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new pt(e.slice()))}}function eM(i,e,n){if(!n)throw new ve(oe.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function tM(i,e,n,a){if(e===!0&&a===!0)throw new ve(oe.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Fv(i){if(!be.isDocumentKey(i))throw new ve(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function vT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Yp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function mo(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ve(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yp(i);throw new ve(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Vt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Su(i,e){if(!vT(i))throw new ve(oe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const a in e)if(e[a]){const o=e[a].typeString,u="value"in e[a]?{value:e[a].value}:void 0;if(!(a in i)){n=`JSON missing required field: '${a}'`;break}const h=i[a];if(o&&typeof h!==o){n=`JSON field '${a}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${a}' field to equal '${u.value}'`;break}}if(n)throw new ve(oe.INVALID_ARGUMENT,n);return!0}const Gv=-62135596800,Yv=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor((e-1e3*n)*Yv);return new ct(n,a)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ve(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Gv)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yv}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Su(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Vt("string",ct._jsonSchemaVersion),seconds:Vt("number"),nanoseconds:Vt("number")};class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new ct(0,0))}static max(){return new Ce(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ou=-1;function nM(i,e){const n=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(a===1e9?new ct(n+1,0):new ct(n,a));return new ha(o,be.empty(),e)}function iM(i){return new ha(i.readTime,i.key,ou)}class ha{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new ha(Ce.min(),be.empty(),ou)}static max(){return new ha(Ce.max(),be.empty(),ou)}}function rM(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=be.comparator(i.documentKey,e.documentKey),n!==0?n:Be(i.largestBatchId,e.largestBatchId))}const aM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}function Do(i){return U(this,null,function*(){if(i.code!==oe.FAILED_PRECONDITION||i.message!==aM)throw i;de("LocalStore","Unexpectedly lost primary lease")})}class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se(((a,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(a,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):se.reject(n)}static resolve(e){return new se(((n,a)=>{n(e)}))}static reject(e){return new se(((n,a)=>{a(e)}))}static waitFor(e){return new se(((n,a)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>a(p)))})),h=!0,u===o&&n()}))}static or(e){let n=se.resolve(!1);for(const a of e)n=n.next((o=>o?se.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,u)=>{a.push(n.call(this,o,u))})),this.waitFor(a)}static mapArray(e,n){return new se(((a,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((E=>{h[g]=E,++m,m===u&&a(h)}),(E=>o(E)))}}))}static doWhile(e,n){return new se(((a,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):a()};u()}))}}function oM(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Mo(i){return i.name==="IndexedDbTransactionError"}class ff{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>n.writeSequenceNumber(a))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ff.ce=-1;const $p=-1;function df(i){return i==null}function Bh(i){return i===0&&1/i==-1/0}function lM(i){return typeof i=="number"&&Number.isInteger(i)&&!Bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const ET="";function uM(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=$v(e)),e=cM(i.get(n),e);return $v(e)}function cM(i,e){let n=e;const a=i.length;for(let o=0;o<a;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case ET:n+="";break;default:n+=u}}return n}function $v(i){return i+ET+""}function Qv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function us(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function TT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class yt{constructor(e,n){this.comparator=e,this.root=n||Zt.EMPTY}insert(e,n){return new yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hh(this.root,e,this.comparator,!1)}getReverseIterator(){return new hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hh(this.root,e,this.comparator,!0)}}class hh{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?a(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,n,a,o,u){this.key=e,this.value=n,this.color=a!=null?a:Zt.RED,this.left=o!=null?o:Zt.EMPTY,this.right=u!=null?u:Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,u){return new Zt(e!=null?e:this.key,n!=null?n:this.value,a!=null?a:this.color,o!=null?o:this.left,u!=null?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const u=a(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,a),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,a,o,u){return this}insert(e,n,a){return new Zt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Bt(this.comparator);return n.data=e,n}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ui{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new ui([])}unionWith(e){let n=new Bt(en.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new ui(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class bT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException!="undefined"&&u instanceof DOMException?new bT("Invalid base64 string: "+u):u}})(e);return new tn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new tn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const hM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fa(i){if(Xe(!!i,39018),typeof i=="string"){let e=0;const n=hM.exec(i);if(Xe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:St(i.seconds),nanos:St(i.nanos)}}function St(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function da(i){return typeof i=="string"?tn.fromBase64String(i):tn.fromUint8Array(i)}const wT="server_timestamp",ST="__type__",AT="__previous_value__",xT="__local_write_time__";function Qp(i){var n,a;return((a=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[ST])==null?void 0:a.stringValue)===wT}function mf(i){const e=i.mapValue.fields[AT];return Qp(e)?mf(e):e}function lu(i){const e=fa(i.mapValue.fields[xT].timestampValue);return new ct(e.seconds,e.nanos)}class fM{constructor(e,n,a,o,u,h,m,p,g,E,T){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E,this.apiKey=T}}const Hh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||Hh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===Hh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}function dM(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new ve(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(i.options.projectId,e)}const RT="__type__",mM="__max__",fh={mapValue:{}},CT="__vector__",qh="value";function ma(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qp(i)?4:gM(i)?9007199254740991:pM(i)?10:11:Se(28295,{value:i})}function Bi(i,e){if(i===e)return!0;const n=ma(i);if(n!==ma(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return lu(i).isEqual(lu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fa(o.timestampValue),m=fa(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return da(o.bytesValue).isEqual(da(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return St(o.geoPointValue.latitude)===St(u.geoPointValue.latitude)&&St(o.geoPointValue.longitude)===St(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return St(o.integerValue)===St(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=St(o.doubleValue),m=St(u.doubleValue);return h===m?Bh(h)===Bh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Qv(h)!==Qv(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Bi(h[p],m[p])))return!1;return!0})(i,e);default:return Se(52216,{left:i})}}function cu(i,e){return(i.values||[]).find((n=>Bi(n,e)))!==void 0}function To(i,e){if(i===e)return 0;const n=ma(i),a=ma(e);if(n!==a)return Be(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Be(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=St(u.integerValue||u.doubleValue),p=St(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return Xv(i.timestampValue,e.timestampValue);case 4:return Xv(lu(i),lu(e));case 5:return op(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=da(u),p=da(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Be(m[g],p[g]);if(E!==0)return E}return Be(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Be(St(u.latitude),St(h.latitude));return m!==0?m:Be(St(u.longitude),St(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return Wv(i.arrayValue,e.arrayValue);case 10:return(function(u,h){var A,k,F,W;const m=u.fields||{},p=h.fields||{},g=(A=m[qh])==null?void 0:A.arrayValue,E=(k=p[qh])==null?void 0:k.arrayValue,T=Be(((F=g==null?void 0:g.values)==null?void 0:F.length)||0,((W=E==null?void 0:E.values)==null?void 0:W.length)||0);return T!==0?T:Wv(g,E)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===fh.mapValue&&h===fh.mapValue)return 0;if(u===fh.mapValue)return 1;if(h===fh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const A=op(p[T],E[T]);if(A!==0)return A;const k=To(m[p[T]],g[E[T]]);if(k!==0)return k}return Be(p.length,E.length)})(i.mapValue,e.mapValue);default:throw Se(23264,{he:n})}}function Xv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Be(i,e);const n=fa(i),a=fa(e),o=Be(n.seconds,a.seconds);return o!==0?o:Be(n.nanos,a.nanos)}function Wv(i,e){const n=i.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const u=To(n[o],a[o]);if(u)return u}return Be(n.length,a.length)}function bo(i){return lp(i)}function lp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const a=fa(n);return`time(${a.seconds},${a.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return da(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return be.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let a="[",o=!0;for(const u of n.values||[])o?o=!1:a+=",",a+=lp(u);return a+"]"})(i.arrayValue):"mapValue"in i?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of a)u?u=!1:o+=",",o+=`${h}:${lp(n.fields[h])}`;return o+"}"})(i.mapValue):Se(61005,{value:i})}function bh(i){switch(ma(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mf(i);return e?16+bh(e):16;case 5:return 2*i.stringValue.length;case 6:return da(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,u)=>o+bh(u)),0)})(i.arrayValue);case 10:case 11:return(function(a){let o=0;return us(a.fields,((u,h)=>{o+=u.length+bh(h)})),o})(i.mapValue);default:throw Se(13486,{value:i})}}function up(i){return!!i&&"integerValue"in i}function Kp(i){return!!i&&"arrayValue"in i}function Jv(i){return!!i&&"nullValue"in i}function Zv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wh(i){return!!i&&"mapValue"in i}function pM(i){var n,a;return((a=(((n=i==null?void 0:i.mapValue)==null?void 0:n.fields)||{})[RT])==null?void 0:a.stringValue)===CT}function eu(i){if(i.geoPointValue)return{geoPointValue:ye({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:ye({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return us(i.mapValue.fields,((n,a)=>e.mapValue.fields[n]=eu(a))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(i.arrayValue.values[n]);return e}return ye({},i)}function gM(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===mM}class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=en.emptyPath(),a={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=m.popLast()}h?a[m.lastSegment()]=eu(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,a,o)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){us(n,((o,u)=>e[o]=u));for(const o of a)delete e[o]}clone(){return new Fn(eu(this.value))}}function NT(i){const e=[];return us(i.fields,((n,a)=>{const o=new en([n]);if(wh(a)){const u=NT(a.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new ui(e)}class sn{constructor(e,n,a,o,u,h,m){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new sn(e,0,Ce.min(),Ce.min(),Ce.min(),Fn.empty(),0)}static newFoundDocument(e,n,a,o){return new sn(e,1,n,Ce.min(),a,o,0)}static newNoDocument(e,n){return new sn(e,2,n,Ce.min(),Ce.min(),Fn.empty(),0)}static newUnknownDocument(e,n){return new sn(e,3,n,Ce.min(),Ce.min(),Fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fh{constructor(e,n){this.position=e,this.inclusive=n}}function e1(i,e,n){let a=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?a=be.comparator(be.fromName(h.referenceValue),n.key):a=To(h,n.data.field(u.field)),u.dir==="desc"&&(a*=-1),a!==0)break}return a}function t1(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Bi(i.position[n],e.position[n]))return!1;return!0}class Gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function yM(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class IT{}class zt extends IT{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new vM(e,n,a):n==="array-contains"?new bM(e,a):n==="in"?new wM(e,a):n==="not-in"?new SM(e,a):n==="array-contains-any"?new AM(e,a):new zt(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new EM(e,a):new TM(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(To(n,this.value)):n!==null&&ma(this.value)===ma(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hi extends IT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Hi(e,n)}matches(e){return DT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DT(i){return i.op==="and"}function MT(i){return _M(i)&&DT(i)}function _M(i){for(const e of i.filters)if(e instanceof Hi)return!1;return!0}function cp(i){if(i instanceof zt)return i.field.canonicalString()+i.op.toString()+bo(i.value);if(MT(i))return i.filters.map((e=>cp(e))).join(",");{const e=i.filters.map((n=>cp(n))).join(",");return`${i.op}(${e})`}}function OT(i,e){return i instanceof zt?(function(a,o){return o instanceof zt&&a.op===o.op&&a.field.isEqual(o.field)&&Bi(a.value,o.value)})(i,e):i instanceof Hi?(function(a,o){return o instanceof Hi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((u,h,m)=>u&&OT(h,o.filters[m])),!0):!1})(i,e):void Se(19439)}function kT(i){return i instanceof zt?(function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`})(i):i instanceof Hi?(function(n){return n.op.toString()+" {"+n.getFilters().map(kT).join(" ,")+"}"})(i):"Filter"}class vM extends zt{constructor(e,n,a){super(e,n,a),this.key=be.fromName(a.referenceValue)}matches(e){const n=be.comparator(e.key,this.key);return this.matchesComparison(n)}}class EM extends zt{constructor(e,n){super(e,"in",n),this.keys=VT("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class TM extends zt{constructor(e,n){super(e,"not-in",n),this.keys=VT("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function VT(i,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((a=>be.fromName(a.referenceValue)))}class bM extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kp(n)&&cu(n.arrayValue,this.value)}}class wM extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class SM extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cu(this.value.arrayValue,n)}}class AM extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>cu(this.value.arrayValue,a)))}}class xM{constructor(e,n=null,a=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function n1(i,e=null,n=[],a=[],o=null,u=null,h=null){return new xM(i,e,n,a,o,u,h)}function Xp(i){const e=Ie(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>cp(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(u){return u.field.canonicalString()+u.dir})(a))).join(","),df(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>bo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>bo(a))).join(",")),e.Te=n}return e.Te}function Wp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!yM(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!OT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!t1(i.startAt,e.startAt)&&t1(i.endAt,e.endAt)}function hp(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}class pf{constructor(e,n=null,a=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function RM(i,e,n,a,o,u,h,m){return new pf(i,e,n,a,o,u,h,m)}function Jp(i){return new pf(i)}function i1(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function CM(i){return be.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function NM(i){return i.collectionGroup!==null}function tu(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Bt(en.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Gh(u,a))})),n.has(en.keyField().canonicalString())||e.Ie.push(new Gh(en.keyField(),a))}return e.Ie}function Li(i){const e=Ie(i);return e.Ee||(e.Ee=IM(e,tu(i))),e.Ee}function IM(i,e){if(i.limitType==="F")return n1(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Gh(o.field,u)}));const n=i.endAt?new Fh(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new Fh(i.startAt.position,i.startAt.inclusive):null;return n1(i.path,i.collectionGroup,e,i.filters,i.limit,n,a)}}function fp(i,e,n){return new pf(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function gf(i,e){return Wp(Li(i),Li(e))&&i.limitType===e.limitType}function PT(i){return`${Xp(Li(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>kT(o))).join(", ")}]`),df(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>bo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>bo(o))).join(",")),`Target(${a})`})(Li(i))}; limitType=${i.limitType})`}function yf(i,e){return e.isFoundDocument()&&(function(a,o){const u=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(u):be.isDocumentKey(a.path)?a.path.isEqual(u):a.path.isImmediateParentOf(u)})(i,e)&&(function(a,o){for(const u of tu(a))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(a,o){for(const u of a.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(a,o){return!(a.startAt&&!(function(h,m,p){const g=e1(h,m,p);return h.inclusive?g<=0:g<0})(a.startAt,tu(a),o)||a.endAt&&!(function(h,m,p){const g=e1(h,m,p);return h.inclusive?g>=0:g>0})(a.endAt,tu(a),o))})(i,e)}function DM(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function LT(i){return(e,n)=>{let a=!1;for(const o of tu(i)){const u=MM(o,e,n);if(u!==0)return u;a=a||o.field.isKeyField()}return 0}}function MM(i,e,n){const a=i.field.isKeyField()?be.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?To(p,g):Se(42886)})(i.field,e,n);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return Se(19790,{direction:i.dir})}}class cs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,u]of a)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,((n,a)=>{for(const[o,u]of a)e(o,u)}))}isEmpty(){return TT(this.inner)}size(){return this.innerSize}}const OM=new yt(be.comparator);function yr(){return OM}const UT=new yt(be.comparator);function Ql(...i){let e=UT;for(const n of i)e=e.insert(n.key,n);return e}function jT(i){let e=UT;return i.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ja(){return nu()}function zT(){return nu()}function nu(){return new cs((i=>i.toString()),((i,e)=>i.isEqual(e)))}const kM=new yt(be.comparator),VM=new Bt(be.comparator);function He(...i){let e=VM;for(const n of i)e=e.add(n);return e}const PM=new Bt(Be);function LM(){return PM}function Zp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function BT(i){return{integerValue:""+i}}function UM(i,e){return lM(e)?BT(e):Zp(i,e)}class _f{constructor(){this._=void 0}}function jM(i,e,n){return i instanceof Yh?(function(o,u){const h={fields:{[ST]:{stringValue:wT},[xT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qp(u)&&(u=mf(u)),u&&(h.fields[AT]=u),{mapValue:h}})(n,e):i instanceof hu?qT(i,e):i instanceof fu?FT(i,e):(function(o,u){const h=HT(o,u),m=r1(h)+r1(o.Ae);return up(h)&&up(o.Ae)?BT(m):Zp(o.serializer,m)})(i,e)}function zM(i,e,n){return i instanceof hu?qT(i,e):i instanceof fu?FT(i,e):n}function HT(i,e){return i instanceof $h?(function(a){return up(a)||(function(u){return!!u&&"doubleValue"in u})(a)})(e)?e:{integerValue:0}:null}class Yh extends _f{}class hu extends _f{constructor(e){super(),this.elements=e}}function qT(i,e){const n=GT(e);for(const a of i.elements)n.some((o=>Bi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class fu extends _f{constructor(e){super(),this.elements=e}}function FT(i,e){let n=GT(e);for(const a of i.elements)n=n.filter((o=>!Bi(o,a)));return{arrayValue:{values:n}}}class $h extends _f{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function r1(i){return St(i.integerValue||i.doubleValue)}function GT(i){return Kp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function BM(i,e){return i.field.isEqual(e.field)&&(function(a,o){return a instanceof hu&&o instanceof hu||a instanceof fu&&o instanceof fu?Eo(a.elements,o.elements,Bi):a instanceof $h&&o instanceof $h?Bi(a.Ae,o.Ae):a instanceof Yh&&o instanceof Yh})(i.transform,e.transform)}class HM{constructor(e,n){this.version=e,this.transformResults=n}}class fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class vf{}function YT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new QT(i.key,fr.none()):new Au(i.key,i.data,fr.none());{const n=i.data,a=Fn.empty();let o=new Bt(en.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?a.delete(u):a.set(u,h),o=o.add(u)}return new hs(i.key,a,new ui(o.toArray()),fr.none())}}function qM(i,e,n){i instanceof Au?(function(o,u,h){const m=o.value.clone(),p=s1(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof hs?(function(o,u,h){if(!Sh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=s1(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll($T(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function iu(i,e,n,a){return i instanceof Au?(function(u,h,m,p){if(!Sh(u.precondition,h))return m;const g=u.value.clone(),E=o1(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(i,e,n,a):i instanceof hs?(function(u,h,m,p){if(!Sh(u.precondition,h))return m;const g=o1(u.fieldTransforms,p,h),E=h.data;return E.setAll($T(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(i,e,n,a):(function(u,h,m){return Sh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function FM(i,e){let n=null;for(const a of i.fieldTransforms){const o=e.data.field(a.field),u=HT(a.transform,o||null);u!=null&&(n===null&&(n=Fn.empty()),n.set(a.field,u))}return n||null}function a1(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Eo(a,o,((u,h)=>BM(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Au extends vf{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends vf{constructor(e,n,a,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $T(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=i.data.field(n);e.set(n,a)}})),e}function s1(i,e,n){const a=new Map;Xe(i.length===n.length,32656,{Ve:n.length,de:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);a.set(u.field,zM(h,m,n[o]))}return a}function o1(i,e,n){const a=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);a.set(o.field,jM(u,h,e))}return a}class QT extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GM extends vf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YM{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qM(u,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=iu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=iu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=zT();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=YT(h,m);p!==null&&a.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ce.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),He())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,((n,a)=>a1(n,a)))&&Eo(this.baseMutations,e.baseMutations,((n,a)=>a1(n,a)))}}class eg{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Xe(e.mutations.length===a.length,58842,{me:e.mutations.length,fe:a.length});let o=(function(){return kM})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,a[h].version);return new eg(e,n,a,o)}}class $M{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QM{constructor(e,n){this.count=e,this.unchangedNames=n}}var kt,Ge;function KM(i){switch(i){case oe.OK:return Se(64938);case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function KT(i){if(i===void 0)return gr("GRPC error has no .code"),oe.UNKNOWN;switch(i){case kt.OK:return oe.OK;case kt.CANCELLED:return oe.CANCELLED;case kt.UNKNOWN:return oe.UNKNOWN;case kt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case kt.INTERNAL:return oe.INTERNAL;case kt.UNAVAILABLE:return oe.UNAVAILABLE;case kt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case kt.NOT_FOUND:return oe.NOT_FOUND;case kt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case kt.ABORTED:return oe.ABORTED;case kt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case kt.DATA_LOSS:return oe.DATA_LOSS;default:return Se(39323,{code:i})}}(Ge=kt||(kt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";function XM(){return new TextEncoder}const WM=new ua([4294967295,4294967295],0);function l1(i){const e=XM().encode(i),n=new hT;return n.update(e),new Uint8Array(n.digest())}function u1(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ua([n,a],0),new ua([o,u],0)]}class tg{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(a<0)throw new Kl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ua.fromNumber(this.ge)}ye(e,n,a){let o=e.add(n.multiply(ua.fromNumber(a)));return o.compare(WM)===1&&(o=new ua([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=l1(e),[a,o]=u1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);if(!this.we(h))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new tg(u,o,n);return a.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=l1(e),[a,o]=u1(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(a,o,u);this.be(h)}}be(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ef{constructor(e,n,a,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Ef(Ce.min(),o,new yt(Be),yr(),He())}}class xu{constructor(e,n,a,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new xu(a,n,He(),He(),He())}}class Ah{constructor(e,n,a,o){this.Se=e,this.removedTargetIds=n,this.key=a,this.De=o}}class XT{constructor(e,n){this.targetId=e,this.Ce=n}}class WT{constructor(e,n,a=tn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class c1{constructor(){this.ve=0,this.Fe=h1(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=He(),n=He(),a=He();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Se(38017,{changeType:u})}})),new xu(this.Me,this.xe,e,n,a)}Ke(){this.Oe=!1,this.Fe=h1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Xe(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class JM{constructor(e){this.Ge=e,this.ze=new Map,this.je=yr(),this.He=dh(),this.Je=dh(),this.Ze=new yt(Be)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const a=this.nt(n);switch(e.state){case 0:this.rt(n)&&a.Le(e.resumeToken);break;case 1:a.We(),a.Ne||a.Ke(),a.Le(e.resumeToken);break;case 2:a.We(),a.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(a.Qe(),a.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),a.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((a,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,a=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(hp(u))if(a===0){const h=new be(u.path);this.et(n,h,sn.newNoDocument(h,Ce.min()))}else Xe(a===1,20013,{expectedCount:a});else{const h=this._t(n);if(h!==a){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=da(a).toUint8Array()}catch(p){if(p instanceof bT)return ss("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new tg(h,o,u)}catch(p){return ss(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,a){return n.Ce.count===a-this.Pt(e,n.targetId)?0:2}Pt(e,n){const a=this.Ge.getRemoteKeysForTarget(n);let o=0;return a.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&hp(m.target)){const p=new be(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,sn.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.Ke())}}));let a=He();this.Je.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(a=a.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new Ef(e,n,this.Ze,this.je,a);return this.je=yr(),this.He=dh(),this.Je=dh(),this.Ze=new yt(Be),o}Ye(e,n){if(!this.rt(e))return;const a=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,a),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,a){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),a&&(this.je=this.je.insert(n,a))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new c1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Bt(Be),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Bt(Be),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new c1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function dh(){return new yt(be.comparator)}function h1(){return new yt(be.comparator)}const ZM={asc:"ASCENDING",desc:"DESCENDING"},e4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},t4={and:"AND",or:"OR"};class n4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dp(i,e){return i.useProto3Json||df(e)?e:{value:e}}function Qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function i4(i,e){return Qh(i,e.toTimestamp())}function Ui(i){return Xe(!!i,49232),Ce.fromTimestamp((function(n){const a=fa(n);return new ct(a.seconds,a.nanos)})(i))}function ng(i,e){return mp(i,e).canonicalString()}function mp(i,e){const n=(function(o){return new pt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function ZT(i){const e=pt.fromString(i);return Xe(rb(e),10190,{key:e.toString()}),e}function pp(i,e){return ng(i.databaseId,e.path)}function qm(i,e){const n=ZT(e);if(n.get(1)!==i.databaseId.projectId)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ve(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new be(tb(n))}function eb(i,e){return ng(i.databaseId,e)}function r4(i){const e=ZT(i);return e.length===4?pt.emptyPath():tb(e)}function gp(i){return new pt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function tb(i){return Xe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function f1(i,e,n){return{name:pp(i,e),fields:n.value.mapValue.fields}}function a4(i,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string",58123),tn.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),tn.fromUint8Array(E||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?oe.UNKNOWN:KT(g.code);return new ve(E,g.message||"")})(h);n=new WT(a,o,u,m||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=qm(i,a.document.name),u=Ui(a.document.updateTime),h=a.document.createTime?Ui(a.document.createTime):Ce.min(),m=new Fn({mapValue:{fields:a.document.fields}}),p=sn.newFoundDocument(o,u,h,m),g=a.targetIds||[],E=a.removedTargetIds||[];n=new Ah(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=qm(i,a.document),u=a.readTime?Ui(a.readTime):Ce.min(),h=sn.newNoDocument(o,u),m=a.removedTargetIds||[];n=new Ah([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=qm(i,a.document),u=a.removedTargetIds||[];n=new Ah([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Vt:e});{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:u}=a,h=new QM(o,u),m=a.targetId;n=new XT(m,h)}}return n}function s4(i,e){let n;if(e instanceof Au)n={update:f1(i,e.key,e.value)};else if(e instanceof QT)n={delete:pp(i,e.key)};else if(e instanceof hs)n={update:f1(i,e.key,e.data),updateMask:p4(e.fieldMask)};else{if(!(e instanceof GM))return Se(16599,{dt:e.type});n={verify:pp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(u,h){const m=h.transform;if(m instanceof Yh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof $h)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Se(20930,{transform:h.transform})})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:i4(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(i,e.precondition)),n}function o4(i,e){return i&&i.length>0?(Xe(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?Ui(o.updateTime):Ui(u);return h.isEqual(Ce.min())&&(h=Ui(u)),new HM(h,o.transformResults||[])})(n,e)))):[]}function l4(i,e){return{documents:[eb(i,e.path)]}}function u4(i,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=eb(i,o);const u=(function(g){if(g.length!==0)return ib(Hi.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(A){return{field:so(A.field),direction:f4(A.dir)}})(E)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=dp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:o}}function c4(i){let e=r4(i.parent);const n=i.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Xe(a===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const A=nb(T);return A instanceof Hi&&MT(A)?A.getFilters():[A]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((A=>(function(F){return new Gh(oo(F.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let A;return A=typeof T=="object"?T.value:T,df(A)?null:A})(n.limit));let p=null;n.startAt&&(p=(function(T){const A=!!T.before,k=T.values||[];return new Fh(k,A)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const A=!T.before,k=T.values||[];return new Fh(k,A)})(n.endAt)),RM(e,o,h,u,m,"F",p,g)}function h4(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function nb(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=oo(n.unaryFilter.field);return zt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return zt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=oo(n.unaryFilter.field);return zt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=oo(n.unaryFilter.field);return zt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(i):i.fieldFilter!==void 0?(function(n){return zt.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return Hi.create(n.compositeFilter.filters.map((a=>nb(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(n.compositeFilter.op))})(i):Se(30097,{filter:i})}function f4(i){return ZM[i]}function d4(i){return e4[i]}function m4(i){return t4[i]}function so(i){return{fieldPath:i.canonicalString()}}function oo(i){return en.fromServerFormat(i.fieldPath)}function ib(i){return i instanceof zt?(function(n){if(n.op==="=="){if(Zv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(Jv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(Jv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:d4(n.op),value:n.value}}})(i):i instanceof Hi?(function(n){const a=n.getFilters().map((o=>ib(o)));return a.length===1?a[0]:{compositeFilter:{op:m4(n.op),filters:a}}})(i):Se(54877,{filter:i})}function p4(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function rb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function ab(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class aa{constructor(e,n,a,o,u=Ce.min(),h=Ce.min(),m=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class g4{constructor(e){this.yt=e}}function y4(i){const e=c4({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?fp(e,e.limit,"L"):e}class _4{constructor(){this.Sn=new v4}addToCollectionParentIndex(e,n){return this.Sn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(ha.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(ha.min())}updateCollectionGroup(e,n,a){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class v4{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Bt(pt.comparator),u=!o.has(a);return this.index[n]=o.add(a),u}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Bt(pt.comparator)).toArray()}}const d1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sb=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(sb,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class wo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new wo(0)}static ar(){return new wo(-1)}}const m1="LruGarbageCollector",E4=1048576;function p1([i,e],[n,a]){const o=Be(i,n);return o===0?Be(e,a):o}class T4{constructor(e){this.Pr=e,this.buffer=new Bt(p1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const a=this.buffer.last();p1(n,a)<0&&(this.buffer=this.buffer.delete(a).add(n))}}get maxValue(){return this.buffer.last()[0]}}class b4{constructor(e,n,a){this.garbageCollector=e,this.asyncQueue=n,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){de(m1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(()=>U(this,null,function*(){this.Rr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){Mo(n)?de(m1,"Ignoring IndexedDB error during garbage collection: ",n):yield Do(n)}yield this.Ar(3e5)})))}}class w4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((a=>Math.floor(n/100*a)))}nthSequenceNumber(e,n){if(n===0)return se.resolve(ff.ce);const a=new T4(n);return this.Vr.forEachTarget(e,(o=>a.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>a.Er(o))))).next((()=>a.maxValue))}removeTargets(e,n,a){return this.Vr.removeTargets(e,n,a)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(d1)):this.getCacheSize(e).next((a=>a<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),d1):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let a,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(a=T,m=Date.now(),this.removeTargets(e,a,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,a)))).next((T=>(g=Date.now(),ro()<=ze.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function S4(i,e){return new w4(i,e)}class A4{constructor(){this.changes=new cs((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?se.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class x4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class R4{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&iu(a.mutation,o,ui.empty(),ct.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,He()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=He()){const o=Ja();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((u=>{let h=Ql();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const a=Ja();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,He())))}populateOverlays(e,n,a){const o=[];return a.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,a,o){let u=yr();const h=nu(),m=(function(){return nu()})();return n.forEach(((p,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof hs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),iu(E.mutation,g,E.mutation.getFieldMask(),ct.now())):h.set(g.key,ui.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>{var T;return m.set(g,new x4(E,(T=h.get(g))!=null?T:null))})),m)))}recalculateAndSaveOverlays(e,n){const a=nu();let o=new yt(((h,m)=>h-m)),u=He();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=a.get(p)||ui.empty();E=m.applyToLocalView(g,E),a.set(p,E);const T=(o.get(m.batchId)||He()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=zT();E.forEach((A=>{if(!u.has(A)){const k=YT(n.get(A),a.get(A));k!==null&&T.set(A,k),u=u.add(A)}})),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return se.waitFor(h)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return CM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-u.size):se.resolve(Ja());let m=ou,p=u;return h.next((g=>se.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?se.resolve():this.remoteDocumentCache.getEntry(e,E).next((A=>{p=p.insert(E,A)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,He()))).next((E=>({batchId:m,changes:jT(E)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new be(n)).next((a=>{let o=Ql();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const u=n.collectionGroup;let h=Ql();return this.indexManager.getCollectionParents(e,u).next((m=>se.forEach(m,(p=>{const g=(function(T,A){return new pf(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((E=>{E.forEach(((T,A)=>{h=h.insert(T,A)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,sn.newInvalidDocument(E)))}));let m=Ql();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&iu(E.mutation,g,ui.empty(),ct.now()),yf(n,g)&&(m=m.insert(p,g))})),m}))}}class C4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return se.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Ui(o.createTime)}})(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:y4(o.bundledQuery),readTime:Ui(o.readTime)}})(n)),se.resolve()}}class N4{constructor(){this.overlays=new yt(be.comparator),this.Lr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ja();return se.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&a.set(o,u)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,u)=>{this.bt(e,n,u)})),se.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Lr.get(a);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(a)),se.resolve()}getOverlaysForCollection(e,n,a){const o=Ja(),u=n.length+1,h=new be(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>a&&o.set(p.getKey(),p)}return se.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let u=new yt(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let E=u.get(g.largestBatchId);E===null&&(E=Ja(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ja(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return se.resolve(m)}bt(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Lr.get(o.largestBatchId).delete(a.key);this.Lr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new $M(n,a));let u=this.Lr.get(n);u===void 0&&(u=He(),this.Lr.set(n,u)),this.Lr.set(n,u.add(a.key))}}class I4{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}class ig{constructor(){this.kr=new Bt(Gt.Kr),this.qr=new Bt(Gt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const a=new Gt(e,n);this.kr=this.kr.add(a),this.qr=this.qr.add(a)}$r(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Wr(new Gt(e,n))}Qr(e,n){e.forEach((a=>this.removeReference(a,n)))}Gr(e){const n=new be(new pt([])),a=new Gt(n,e),o=new Gt(n,e+1),u=[];return this.qr.forEachInRange([a,o],(h=>{this.Wr(h),u.push(h.key)})),u}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new be(new pt([])),a=new Gt(n,e),o=new Gt(n,e+1);let u=He();return this.qr.forEachInRange([a,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new Gt(e,0),a=this.kr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class Gt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return be.comparator(e.key,n.key)||Be(e.Hr,n.Hr)}static Ur(e,n){return Be(e.Hr,n.Hr)||be.comparator(e.key,n.key)}}class D4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Bt(Gt.Kr)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new YM(u,n,a,o);this.mutationQueue.push(h);for(const m of o)this.Jr=this.Jr.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return se.resolve(h)}lookupMutationBatch(e,n){return se.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.Xr(a),u=o<0?0:o;return se.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?$p:this.Yn-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new Gt(n,0),o=new Gt(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([a,o],(h=>{const m=this.Zr(h.Hr);u.push(m)})),se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Bt(Be);return n.forEach((o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,h],(m=>{a=a.add(m.Hr)}))})),se.resolve(this.Yr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let u=a;be.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new be(u),0);let m=new Bt(Be);return this.Jr.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)}),h),se.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((a=>{const o=this.Zr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Xe(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Jr;return se.forEach(n.mutations,(o=>{const u=new Gt(o.key,n.batchId);return a=a.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=a}))}nr(e){}containsKey(e,n){const a=new Gt(n,0),o=this.Jr.firstAfterOrEqual(a);return se.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class M4{constructor(e){this.ti=e,this.docs=(function(){return new yt(be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),u=o?o.size:0,h=this.ti(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return se.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(n))}getEntries(e,n){let a=yr();return n.forEach((o=>{const u=this.docs.get(o);a=a.insert(o,u?u.document.mutableCopy():sn.newInvalidDocument(o))})),se.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let u=yr();const h=n.path,m=new be(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||rM(iM(E),a)<=0||(o.has(E.key)||yf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return se.resolve(u)}getAllFromCollectionGroup(e,n,a,o){Se(9500)}ni(e,n){return se.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new O4(this)}getSize(e){return se.resolve(this.size)}}class O4 extends A4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(a)})),se.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}class k4{constructor(e){this.persistence=e,this.ri=new cs((n=>Xp(n)),Wp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.ii=0,this.si=new ig,this.targetCount=0,this.oi=wo._r()}forEachTarget(e,n){return this.ri.forEach(((a,o)=>n(o))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.ii&&(this.ii=n),se.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new wo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.lr(n),se.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,a){let o=0;const u=[];return this.ri.forEach(((h,m)=>{m.sequenceNumber<=n&&a.get(m.targetId)===null&&(this.ri.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),se.waitFor(u).next((()=>o))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const a=this.ri.get(n)||null;return se.resolve(a)}addMatchingKeys(e,n,a){return this.si.$r(n,a),se.resolve()}removeMatchingKeys(e,n,a){this.si.Qr(n,a);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),se.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const a=this.si.jr(n);return se.resolve(a)}containsKey(e,n){return se.resolve(this.si.containsKey(n))}}class ob{constructor(e,n){this._i={},this.overlays={},this.ai=new ff(0),this.ui=!1,this.ui=!0,this.ci=new I4,this.referenceDelegate=e(this),this.li=new k4(this),this.indexManager=new _4,this.remoteDocumentCache=(function(o){return new M4(o)})((a=>this.referenceDelegate.hi(a))),this.serializer=new g4(n),this.Pi=new C4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this._i[e.toKey()];return a||(a=new D4(n,this.referenceDelegate),this._i[e.toKey()]=a),a}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,a){de("MemoryPersistence","Starting transaction:",e);const o=new V4(this.ai.next());return this.referenceDelegate.Ti(),a(o).next((u=>this.referenceDelegate.Ii(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ei(e,n){return se.or(Object.values(this._i).map((a=>()=>a.containsKey(e,n))))}}class V4 extends sM{constructor(e){super(),this.currentSequenceNumber=e}}class rg{constructor(e){this.persistence=e,this.Ri=new ig,this.Ai=null}static Vi(e){return new rg(e)}get di(){if(this.Ai)return this.Ai;throw Se(60996)}addReference(e,n,a){return this.Ri.addReference(a,n),this.di.delete(a.toString()),se.resolve()}removeReference(e,n,a){return this.Ri.removeReference(a,n),this.di.add(a.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),se.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.di.add(u.toString())))})).next((()=>a.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.di,(a=>{const o=be.fromPath(a);return this.mi(e,o).next((u=>{u||n.removeEntry(o,Ce.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((a=>{a?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return se.or([()=>se.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Kh{constructor(e,n){this.persistence=e,this.fi=new cs((a=>uM(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=S4(this,n)}static Vi(e,n){return new Kh(e,n)}Ti(){}Ii(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((a=>n.next((o=>a+o))))}pr(e){let n=0;return this.mr(e,(a=>{n++})).next((()=>n))}mr(e,n){return se.forEach(this.fi,((a,o)=>this.wr(e,a,o).next((u=>u?se.resolve():n(o)))))}removeTargets(e,n,a){return this.persistence.getTargetCache().removeTargets(e,n,a)}removeOrphanedDocuments(e,n){let a=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ni(e,(h=>this.wr(e,h,n).next((m=>{m||(a++,u.removeEntry(h,Ce.min()))})))).next((()=>u.apply(e))).next((()=>a))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const a=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),se.resolve()}removeReference(e,n,a){return this.fi.set(a,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),se.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}wr(e,n,a){return se.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return se.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class ag{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.Ts=a,this.Is=o}static Es(e,n){let a=He(),o=He();for(const u of n.docChanges)switch(u.type){case 0:a=a.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ag(e,n.fromCache,a,o)}}class P4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class L4{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return wC()?8:oM(on())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,a,o){const u={result:null};return this.gs(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ps(e,n,o,a).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new P4;return this.ys(e,n,h).next((m=>{if(u.result=m,this.As)return this.ws(e,n,h,m.size)}))})).next((()=>u.result))}ws(e,n,a,o){return a.documentReadCount<this.Vs?(ro()<=ze.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),se.resolve()):(ro()<=ze.DEBUG&&de("QueryEngine","Query:",ao(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ds*o?(ro()<=ze.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):se.resolve())}gs(e,n){if(i1(n))return se.resolve(null);let a=Li(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=fp(n,null,"F"),a=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((u=>{const h=He(...u);return this.fs.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.bs(n,m);return this.Ss(n,g,h,p.readTime)?this.gs(e,fp(n,null,"F")):this.Ds(e,g,n,p)}))))})))))}ps(e,n,a,o){return i1(n)||o.isEqual(Ce.min())?se.resolve(null):this.fs.getDocuments(e,a).next((u=>{const h=this.bs(n,u);return this.Ss(n,h,a,o)?se.resolve(null):(ro()<=ze.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.Ds(e,h,n,nM(o,ou)).next((m=>m)))}))}bs(e,n){let a=new Bt(LT(e));return n.forEach(((o,u)=>{yf(e,u)&&(a=a.add(u))})),a}Ss(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ys(e,n,a){return ro()<=ze.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",ao(n)),this.fs.getDocumentsMatchingQuery(e,n,ha.min(),a)}Ds(e,n,a,o){return this.fs.getDocumentsMatchingQuery(e,a,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}const sg="LocalStore",U4=3e8;class j4{constructor(e,n,a,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new yt(Be),this.Fs=new cs((u=>Xp(u)),Wp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(a)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new R4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function z4(i,e,n,a){return new j4(i,e,n,a)}function lb(i,e){return U(this,null,function*(){const n=Ie(i);return yield n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((u=>(o=u,n.Os(e),n.mutationQueue.getAllMutationBatches(a)))).next((u=>{const h=[],m=[];let p=He();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(a,p).next((g=>({Ns:g,removedBatchIds:h,addedBatchIds:m})))}))}))})}function B4(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,A=T.keys();let k=se.resolve();return A.forEach((F=>{k=k.next((()=>E.getEntry(p,F))).next((W=>{const V=g.docVersions.get(F);Xe(V!==null,48541),W.version.compareTo(V)<0&&(T.applyToRemoteDocument(W,g),W.isValidDocument()&&(W.setReadTime(g.commitVersion),E.addEntry(W)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,a,e,u).next((()=>u.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(m){let p=He();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function ub(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function H4(i,e){const n=Ie(i),a=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((E,T)=>{const A=o.get(T);if(!A)return;m.push(n.li.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.li.addMatchingKeys(u,E.addedDocuments,T))));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?k=k.withResumeToken(tn.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,a)),o=o.insert(T,k),(function(W,V,J){return W.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=U4?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(A,k,E)&&m.push(n.li.updateTargetData(u,k))}));let p=yr(),g=He();if(e.documentUpdates.forEach((E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(q4(u,h,e.documentUpdates).next((E=>{p=E.Bs,g=E.Ls}))),!a.isEqual(Ce.min())){const E=n.li.getLastRemoteSnapshotVersion(u).next((T=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,a)));m.push(E)}return se.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.vs=o,u)))}function q4(i,e,n){let a=He(),o=He();return n.forEach((u=>a=a.add(u))),e.getEntries(i,a).next((u=>{let h=yr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):de(sg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{Bs:h,Ls:o}}))}function F4(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=$p),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function G4(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.li.getTargetData(a,e).next((u=>u?(o=u,se.resolve(o)):n.li.allocateTargetId(a).next((h=>(o=new aa(e,h,"TargetPurposeListen",a.currentSequenceNumber),n.li.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.vs.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(a.targetId,a),n.Fs.set(e,a.targetId)),a}))}function yp(i,e,n){return U(this,null,function*(){const a=Ie(i),o=a.vs.get(e),u=n?"readwrite":"readwrite-primary";try{n||(yield a.persistence.runTransaction("Release target",u,(h=>a.persistence.referenceDelegate.removeTarget(h,o))))}catch(h){if(!Mo(h))throw h;de(sg,`Failed to update sequence numbers for target ${e}: ${h}`)}a.vs=a.vs.remove(e),a.Fs.delete(o.target)})}function g1(i,e,n){const a=Ie(i);let o=Ce.min(),u=He();return a.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=Ie(p),A=T.Fs.get(E);return A!==void 0?se.resolve(T.vs.get(A)):T.li.getTargetData(g,E)})(a,h,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,a.li.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>a.Cs.getDocumentsMatchingQuery(h,e,n?o:Ce.min(),n?u:He()))).next((m=>(Y4(a,DM(e),m),{documents:m,ks:u})))))}function Y4(i,e,n){let a=i.Ms.get(e)||Ce.min();n.forEach(((o,u)=>{u.readTime.compareTo(a)>0&&(a=u.readTime)})),i.Ms.set(e,a)}class y1{constructor(){this.activeTargetIds=LM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $4{constructor(){this.vo=new y1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,a){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new y1,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Q4{Mo(e){}shutdown(){}}const _1="ConnectivityMonitor";class v1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){de(_1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){de(_1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window!="undefined"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let mh=null;function _p(){return mh===null?mh=(function(){return 268435456+Math.round(2147483648*Math.random())})():mh++,"0x"+mh.toString(16)}const Fm="RestConnection",K4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class X4{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${a}/databases/${o}`,this.$o=this.databaseId.database===Hh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Wo(e,n,a,o,u){const h=_p(),m=this.Qo(e,n.toUriEncodedString());de(Fm,`Sending RPC '${e}' ${h}:`,m,a);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,o,u);const{host:g}=new URL(m),E=Ro(g);return this.zo(e,m,p,a,E).then((T=>(de(Fm,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw ss(Fm,`RPC '${e}' ${h} failed with error: `,T,"url: ",m,"request:",a),T}))}jo(e,n,a,o,u,h){return this.Wo(e,n,a,o,u)}Go(e,n,a){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),a&&a.headers.forEach(((o,u)=>e[u]=o))}Qo(e,n){const a=K4[e];let o=`${this.qo}/v1/${n}:${a}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}class W4{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const rn="WebChannelConnection",Gl=(i,e,n)=>{i.listen(e,(a=>{try{n(a)}catch(o){setTimeout((()=>{throw o}),0)}}))};class po extends X4{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!po.c_){const e=pT();Gl(e,mT.STAT_EVENT,(n=>{n.stat===sp.PROXY?de(rn,"STAT_EVENT: detected buffering proxy"):n.stat===sp.NOPROXY&&de(rn,"STAT_EVENT: detected no buffering proxy")})),po.c_=!0}}zo(e,n,a,o,u){const h=_p();return new Promise(((m,p)=>{const g=new fT;g.setWithCredentials(!0),g.listenOnce(dT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Th.NO_ERROR:const T=g.getResponseJson();de(rn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),m(T);break;case Th.TIMEOUT:de(rn,`RPC '${e}' ${h} timed out`),p(new ve(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const A=g.getStatus();if(de(rn,`RPC '${e}' ${h} failed with status:`,A,"response text:",g.getResponseText()),A>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const F=k==null?void 0:k.error;if(F&&F.status&&F.message){const W=(function(J){const te=J.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(te)>=0?te:oe.UNKNOWN})(F.status);p(new ve(W,F.message))}else p(new ve(oe.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ve(oe.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(rn,`RPC '${e}' ${h} completed.`)}}));const E=JSON.stringify(o);de(rn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,a,15)}))}T_(e,n,a){const o=_p(),u=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,a),m.encodeInitMessageHeaders=!0;const g=u.join("");de(rn,`Creating RPC '${e}' stream ${o}: ${g}`,m);const E=h.createWebChannel(g,m);this.I_(E);let T=!1,A=!1;const k=new W4({Ho:F=>{A?de(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(T||(de(rn,`Opening RPC '${e}' stream ${o} transport.`),E.open(),T=!0),de(rn,`RPC '${e}' stream ${o} sending:`,F),E.send(F))},Jo:()=>E.close()});return Gl(E,$l.EventType.OPEN,(()=>{A||(de(rn,`RPC '${e}' stream ${o} transport opened.`),k.i_())})),Gl(E,$l.EventType.CLOSE,(()=>{A||(A=!0,de(rn,`RPC '${e}' stream ${o} transport closed`),k.o_(),this.E_(E))})),Gl(E,$l.EventType.ERROR,(F=>{A||(A=!0,ss(rn,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),k.o_(new ve(oe.UNAVAILABLE,"The operation could not be completed")))})),Gl(E,$l.EventType.MESSAGE,(F=>{var W;if(!A){const V=F.data[0];Xe(!!V,16349);const J=V,te=(J==null?void 0:J.error)||((W=J[0])==null?void 0:W.error);if(te){de(rn,`RPC '${e}' stream ${o} received error:`,te);const $=te.status;let re=(function(R){const x=kt[R];if(x!==void 0)return KT(x)})($),X=te.message;$==="NOT_FOUND"&&X.includes("database")&&X.includes("does not exist")&&X.includes(this.databaseId.database)&&ss(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),re===void 0&&(re=oe.INTERNAL,X="Unknown error status: "+$+" with message "+te.message),A=!0,k.o_(new ve(re,X)),E.close()}else de(rn,`RPC '${e}' stream ${o} received:`,V),k.__(V)}})),po.u_(),setTimeout((()=>{k.s_()}),0),k}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,a){super.Go(e,n,a),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return gT()}}function J4(i){return new po(i)}function Gm(){return typeof document!="undefined"?document:null}function Tf(i){return new n4(i,!0)}po.c_=!1;class cb{constructor(e,n,a=1e3,o=1.5,u=6e4){this.Ci=e,this.timerId=n,this.R_=a,this.A_=o,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-a);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const E1="PersistentStream";class hb{constructor(e,n,a,o,u,h,m,p){this.Ci=e,this.b_=a,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}stop(){return U(this,null,function*(){this.x_()&&(yield this.close(0))})}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}k_(){return U(this,null,function*(){if(this.O_())return this.close(0)})}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,n){return U(this,null,function*(){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===oe.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.t_(n)})}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===n&&this.G_(a,o)}),(a=>{e((()=>{const o=new ve(oe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(e,n){const a=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{a((()=>this.listener.Zo()))})),this.stream.Yo((()=>{a((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((()=>U(this,null,function*(){this.state=0,this.start()})))}z_(e){return de(E1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(de(E1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Z4 extends hb{constructor(e,n,a,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=a4(this.serializer,e),a=(function(u){if(!("targetChange"in u))return Ce.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?Ui(h.readTime):Ce.min()})(e);return this.listener.J_(n,a)}Z_(e){const n={};n.database=gp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=hp(p)?{documents:l4(u,p)}:{query:u4(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=JT(u,h.resumeToken);const g=dp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Qh(u,h.snapshotVersion.toTimestamp());const g=dp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const a=h4(this.serializer,e);a&&(n.labels=a),this.K_(n)}X_(e){const n={};n.database=gp(this.serializer),n.removeTarget=e,this.K_(n)}}class eO extends hb{constructor(e,n,a,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,h),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=o4(e.writeResults,e.commitTime),a=Ui(e.commitTime);return this.listener.na(a,n)}ra(){const e={};e.database=gp(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>s4(this.serializer,a)))};this.K_(n)}}class tO{}class nO extends tO{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Wo(e,mp(n,a),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ve(oe.UNKNOWN,u.toString())}))}jo(e,n,a,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.jo(e,mp(n,a),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ve(oe.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function iO(i,e,n,a){return new nO(i,e,n,a)}class rO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gr(n),this.aa=!1):de("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const os="RemoteStore";class aO{constructor(e,n,a,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((h=>{a.enqueueAndForget((()=>U(this,null,function*(){fs(this)&&(de(os,"Restarting streams for network reachability change."),yield(function(p){return U(this,null,function*(){const g=Ie(p);g.Ea.add(4),yield Ru(g),g.Va.set("Unknown"),g.Ea.delete(4),yield bf(g)})})(this))})))})),this.Va=new rO(a,o)}}function bf(i){return U(this,null,function*(){if(fs(i))for(const e of i.Ra)yield e(!0)})}function Ru(i){return U(this,null,function*(){for(const e of i.Ra)yield e(!1)})}function fb(i,e){const n=Ie(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),cg(n)?ug(n):Oo(n).O_()&&lg(n,e))}function og(i,e){const n=Ie(i),a=Oo(n);n.Ia.delete(e),a.O_()&&db(n,e),n.Ia.size===0&&(a.O_()?a.L_():fs(n)&&n.Va.set("Unknown"))}function lg(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(i).Z_(e)}function db(i,e){i.da.$e(e),Oo(i).X_(e)}function ug(i){i.da=new JM({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Oo(i).start(),i.Va.ua()}function cg(i){return fs(i)&&!Oo(i).x_()&&i.Ia.size>0}function fs(i){return Ie(i).Ea.size===0}function mb(i){i.da=void 0}function sO(i){return U(this,null,function*(){i.Va.set("Online")})}function oO(i){return U(this,null,function*(){i.Ia.forEach(((e,n)=>{lg(i,e)}))})}function lO(i,e){return U(this,null,function*(){mb(i),cg(i)?(i.Va.ha(e),ug(i)):i.Va.set("Unknown")})}function uO(i,e,n){return U(this,null,function*(){if(i.Va.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{yield(function(o,u){return U(this,null,function*(){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(yield o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.da.removeTarget(m))})})(i,e)}catch(a){de(os,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),yield Xh(i,a)}else if(e instanceof Ah?i.da.Xe(e):e instanceof XT?i.da.st(e):i.da.tt(e),!n.isEqual(Ce.min()))try{const a=yield ub(i.localStore);n.compareTo(a)>=0&&(yield(function(u,h){const m=u.da.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(tn.EMPTY_BYTE_STRING,E.snapshotVersion)),db(u,p);const T=new aa(E.target,p,g,E.sequenceNumber);lg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n))}catch(a){de(os,"Failed to raise snapshot:",a),yield Xh(i,a)}})}function Xh(i,e,n){return U(this,null,function*(){if(!Mo(e))throw e;i.Ea.add(1),yield Ru(i),i.Va.set("Offline"),n||(n=()=>ub(i.localStore)),i.asyncQueue.enqueueRetryable((()=>U(null,null,function*(){de(os,"Retrying IndexedDB access"),yield n(),i.Ea.delete(1),yield bf(i)})))})}function pb(i,e){return e().catch((n=>Xh(i,n,e)))}function wf(i){return U(this,null,function*(){const e=Ie(i),n=pa(e);let a=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$p;for(;cO(e);)try{const o=yield F4(e.localStore,a);if(o===null){e.Ta.length===0&&n.L_();break}a=o.batchId,hO(e,o)}catch(o){yield Xh(e,o)}gb(e)&&yb(e)})}function cO(i){return fs(i)&&i.Ta.length<10}function hO(i,e){i.Ta.push(e);const n=pa(i);n.O_()&&n.Y_&&n.ea(e.mutations)}function gb(i){return fs(i)&&!pa(i).x_()&&i.Ta.length>0}function yb(i){pa(i).start()}function fO(i){return U(this,null,function*(){pa(i).ra()})}function dO(i){return U(this,null,function*(){const e=pa(i);for(const n of i.Ta)e.ea(n.mutations)})}function mO(i,e,n){return U(this,null,function*(){const a=i.Ta.shift(),o=eg.from(a,e,n);yield pb(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),yield wf(i)})}function pO(i,e){return U(this,null,function*(){e&&pa(i).Y_&&(yield(function(a,o){return U(this,null,function*(){if((function(h){return KM(h)&&h!==oe.ABORTED})(o.code)){const u=a.Ta.shift();pa(a).B_(),yield pb(a,(()=>a.remoteSyncer.rejectFailedWrite(u.batchId,o))),yield wf(a)}})})(i,e)),gb(i)&&yb(i)})}function T1(i,e){return U(this,null,function*(){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),de(os,"RemoteStore received new credentials");const a=fs(n);n.Ea.add(3),yield Ru(n),a&&n.Va.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),yield bf(n)})}function gO(i,e){return U(this,null,function*(){const n=Ie(i);e?(n.Ea.delete(2),yield bf(n)):e||(n.Ea.add(2),yield Ru(n),n.Va.set("Unknown"))})}function Oo(i){return i.ma||(i.ma=(function(n,a,o){const u=Ie(n);return u.sa(),new Z4(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:sO.bind(null,i),Yo:oO.bind(null,i),t_:lO.bind(null,i),J_:uO.bind(null,i)}),i.Ra.push((e=>U(null,null,function*(){e?(i.ma.B_(),cg(i)?ug(i):i.Va.set("Unknown")):(yield i.ma.stop(),mb(i))})))),i.ma}function pa(i){return i.fa||(i.fa=(function(n,a,o){const u=Ie(n);return u.sa(),new eO(a,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:fO.bind(null,i),t_:pO.bind(null,i),ta:dO.bind(null,i),na:mO.bind(null,i)}),i.Ra.push((e=>U(null,null,function*(){e?(i.fa.B_(),yield wf(i)):(yield i.fa.stop(),i.Ta.length>0&&(de(os,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})))),i.fa}class hg{constructor(e,n,a,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=u,this.deferred=new es,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,u){const h=Date.now()+a,m=new hg(e,n,h,o,u);return m.start(a),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fg(i,e){if(gr("AsyncQueue",`${e}: ${i}`),Mo(i))return new ve(oe.UNAVAILABLE,`${e}: ${i}`);throw i}class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,a)=>e(n,a)||be.comparator(n.key,a.key):(n,a)=>be.comparator(n.key,a.key),this.keyedMap=Ql(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=a.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new go;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class b1{constructor(){this.ga=new yt(be.comparator)}track(e){const n=e.doc.key,a=this.ga.get(n);a?e.type!==0&&a.type===3?this.ga=this.ga.insert(n,e):e.type===3&&a.type!==1?this.ga=this.ga.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.ga=this.ga.remove(n):e.type===1&&a.type===2?this.ga=this.ga.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Se(63341,{Vt:e,pa:a}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,a)=>{e.push(a)})),e}}class So{constructor(e,n,a,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new So(e,n,go.emptySet(n),h,a,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class yO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class _O{constructor(){this.queries=w1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,a){const o=Ie(n),u=o.queries;o.queries=w1(),u.forEach(((h,m)=>{for(const p of m.ba)p.onError(a)}))})(this,new ve(oe.ABORTED,"Firestore shutting down"))}}function w1(){return new cs((i=>PT(i)),gf)}function vO(i,e){return U(this,null,function*(){const n=Ie(i);let a=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.Da()&&(a=2):(u=new yO,a=e.Da()?0:1);try{switch(a){case 0:u.wa=yield n.onListen(o,!0);break;case 1:u.wa=yield n.onListen(o,!1);break;case 2:yield n.onFirstRemoteStoreListen(o)}}catch(h){const m=fg(h,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ba.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&dg(n)})}function EO(i,e){return U(this,null,function*(){const n=Ie(i),a=e.query;let o=3;const u=n.queries.get(a);if(u){const h=u.ba.indexOf(e);h>=0&&(u.ba.splice(h,1),u.ba.length===0?o=e.Da()?0:1:!u.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}})}function TO(i,e){const n=Ie(i);let a=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.ba)m.Fa(o)&&(a=!0);h.wa=o}}a&&dg(n)}function bO(i,e,n){const a=Ie(i),o=a.queries.get(e);if(o)for(const u of o.ba)u.onError(n);a.queries.delete(e)}function dg(i){i.Ca.forEach((e=>{e.next()}))}var vp,S1;(S1=vp||(vp={})).Ma="default",S1.Cache="cache";class wO{constructor(e,n,a){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new So(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const a=n!=="Offline";return(!this.options.Ka||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==vp.Cache}}class _b{constructor(e){this.key=e}}class vb{constructor(e){this.key=e}}class SO{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=He(),this.mutatedKeys=He(),this.eu=LT(e),this.tu=new go(this.eu)}get nu(){return this.Za}ru(e,n){const a=n?n.iu:new b1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((E,T)=>{const A=o.get(E),k=yf(this.query,T)?T:null,F=!!A&&this.mutatedKeys.has(A.key),W=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let V=!1;A&&k?A.data.isEqual(k.data)?F!==W&&(a.track({type:3,doc:k}),V=!0):this.su(A,k)||(a.track({type:2,doc:k}),V=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!A&&k?(a.track({type:0,doc:k}),V=!0):A&&!k&&(a.track({type:1,doc:A}),V=!0,(p||g)&&(m=!0)),V&&(k?(h=h.add(k),u=W?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),a.track({type:1,doc:E})}return{tu:h,iu:a,Ss:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((E,T)=>(function(k,F){const W=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Vt:V})}};return W(k)-W(F)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(a),o=o!=null?o:!1;const m=n&&!o?this._u():[],p=this.Ya.size===0&&this.current&&!o?1:0,g=p!==this.Xa;return this.Xa=p,h.length!==0||g?{snapshot:new So(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new b1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=He(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Ya=this.Ya.add(a.key))}));const n=[];return e.forEach((a=>{this.Ya.has(a)||n.push(new vb(a))})),this.Ya.forEach((a=>{e.has(a)||n.push(new _b(a))})),n}cu(e){this.Za=e.ks,this.Ya=He();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const mg="SyncEngine";class AO{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class xO{constructor(e){this.key=e,this.hu=!1}}class RO{constructor(e,n,a,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new cs((m=>PT(m)),gf),this.Iu=new Map,this.Eu=new Set,this.Ru=new yt(be.comparator),this.Au=new Map,this.Vu=new ig,this.du={},this.mu=new Map,this.fu=wo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}function CO(i,e,n=!0){return U(this,null,function*(){const a=Ab(i);let o;const u=a.Tu.get(e);return u?(a.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=yield Eb(a,e,n,!0),o})}function NO(i,e){return U(this,null,function*(){const n=Ab(i);yield Eb(n,e,!0,!1)})}function Eb(i,e,n,a){return U(this,null,function*(){const o=yield G4(i.localStore,Li(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return a&&(m=yield IO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&fb(i.remoteStore,o),m})}function IO(i,e,n,a,o){return U(this,null,function*(){i.pu=(T,A,k)=>(function(W,V,J,te){return U(this,null,function*(){let $=V.view.ru(J);$.Ss&&($=yield g1(W.localStore,V.query,!1).then((({documents:R})=>V.view.ru(R,$))));const re=te&&te.targetChanges.get(V.targetId),X=te&&te.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges($,W.isPrimaryClient,re,X);return x1(W,V.targetId,ce.au),ce.snapshot})})(i,T,A,k);const u=yield g1(i.localStore,e,!0),h=new SO(e,u.ks),m=h.ru(u.documents),p=xu.createSynthesizedTargetChangeForCurrentChange(n,a&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);x1(i,n,g.au);const E=new AO(e,n,h);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),g.snapshot})}function DO(i,e,n){return U(this,null,function*(){const a=Ie(i),o=a.Tu.get(e),u=a.Iu.get(o.targetId);if(u.length>1)return a.Iu.set(o.targetId,u.filter((h=>!gf(h,e)))),void a.Tu.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||(yield yp(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&og(a.remoteStore,o.targetId),Ep(a,o.targetId)})).catch(Do))):(Ep(a,o.targetId),yield yp(a.localStore,o.targetId,!0))})}function MO(i,e){return U(this,null,function*(){const n=Ie(i),a=n.Tu.get(e),o=n.Iu.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),og(n.remoteStore,a.targetId))})}function OO(i,e,n){return U(this,null,function*(){const a=zO(i);try{const o=yield(function(h,m){const p=Ie(h),g=ct.now(),E=m.reduce(((k,F)=>k.add(F.key)),He());let T,A;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let F=yr(),W=He();return p.xs.getEntries(k,E).next((V=>{F=V,F.forEach(((J,te)=>{te.isValidDocument()||(W=W.add(J))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,F))).next((V=>{T=V;const J=[];for(const te of m){const $=FM(te,T.get(te.key).overlayedDocument);$!=null&&J.push(new hs(te.key,$,NT($.value.mapValue),fr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,J,m)})).next((V=>{A=V;const J=V.applyToLocalDocumentSet(T,W);return p.documentOverlayCache.saveOverlays(k,V.batchId,J)}))})).then((()=>({batchId:A.batchId,changes:jT(T)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.du[h.currentUser.toKey()];g||(g=new yt(Be)),g=g.insert(m,p),h.du[h.currentUser.toKey()]=g})(a,o.batchId,n),yield Cu(a,o.changes),yield wf(a.remoteStore)}catch(o){const u=fg(o,"Failed to persist write");n.reject(u)}})}function Tb(i,e){return U(this,null,function*(){const n=Ie(i);try{const a=yield H4(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Xe(h.hu,14607):o.removedDocuments.size>0&&(Xe(h.hu,42227),h.hu=!1))})),yield Cu(n,a,e)}catch(a){yield Do(a)}})}function A1(i,e,n){const a=Ie(i);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Ie(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const A of T.ba)A.va(m)&&(g=!0)})),g&&dg(p)})(a.eventManager,e),o.length&&a.Pu.J_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}function kO(i,e,n){return U(this,null,function*(){const a=Ie(i);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Au.get(e),u=o&&o.key;if(u){let h=new yt(be.comparator);h=h.insert(u,sn.newNoDocument(u,Ce.min()));const m=He().add(u),p=new Ef(Ce.min(),new Map,new yt(Be),h,m);yield Tb(a,p),a.Ru=a.Ru.remove(u),a.Au.delete(e),pg(a)}else yield yp(a.localStore,e,!1).then((()=>Ep(a,e,n))).catch(Do)})}function VO(i,e){return U(this,null,function*(){const n=Ie(i),a=e.batch.batchId;try{const o=yield B4(n.localStore,e);wb(n,a,null),bb(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),yield Cu(n,o)}catch(o){yield Do(o)}})}function PO(i,e,n){return U(this,null,function*(){const a=Ie(i);try{const o=yield(function(h,m){const p=Ie(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Xe(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(a.localStore,e);wb(a,e,n),bb(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),yield Cu(a,o)}catch(o){yield Do(o)}})}function bb(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function wb(i,e,n){const a=Ie(i);let o=a.du[a.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),a.du[a.currentUser.toKey()]=o}}function Ep(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const a of i.Iu.get(e))i.Tu.delete(a),n&&i.Pu.yu(a,n);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((a=>{i.Vu.containsKey(a)||Sb(i,a)}))}function Sb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.Ru.get(e);n!==null&&(og(i.remoteStore,n),i.Ru=i.Ru.remove(e),i.Au.delete(n),pg(i))}function x1(i,e,n){for(const a of n)a instanceof _b?(i.Vu.addReference(a.key,e),LO(i,a)):a instanceof vb?(de(mg,"Document no longer in limbo: "+a.key),i.Vu.removeReference(a.key,e),i.Vu.containsKey(a.key)||Sb(i,a.key)):Se(19791,{wu:a})}function LO(i,e){const n=e.key,a=n.path.canonicalString();i.Ru.get(n)||i.Eu.has(a)||(de(mg,"New document in limbo: "+n),i.Eu.add(a),pg(i))}function pg(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new be(pt.fromString(e)),a=i.fu.next();i.Au.set(a,new xO(n)),i.Ru=i.Ru.insert(n,a),fb(i.remoteStore,new aa(Li(Jp(n.path)),a,"TargetPurposeLimboResolution",ff.ce))}}function Cu(i,e,n){return U(this,null,function*(){const a=Ie(i),o=[],u=[],h=[];a.Tu.isEmpty()||(a.Tu.forEach(((m,p)=>{h.push(a.pu(p,e,n).then((g=>{var E;if((g||n)&&a.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:E.current;a.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=ag.Es(p.targetId,g);u.push(T)}})))})),yield Promise.all(h),a.Pu.J_(o),yield(function(p,g){return U(this,null,function*(){const E=Ie(p);try{yield E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(g,(A=>se.forEach(A.Ts,(k=>E.persistence.referenceDelegate.addReference(T,A.targetId,k))).next((()=>se.forEach(A.Is,(k=>E.persistence.referenceDelegate.removeReference(T,A.targetId,k)))))))))}catch(T){if(!Mo(T))throw T;de(sg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const k=E.vs.get(A),F=k.snapshotVersion,W=k.withLastLimboFreeSnapshotVersion(F);E.vs=E.vs.insert(A,W)}}})})(a.localStore,u))})}function UO(i,e){return U(this,null,function*(){const n=Ie(i);if(!n.currentUser.isEqual(e)){de(mg,"User change. New user:",e.toKey());const a=yield lb(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ve(oe.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),yield Cu(n,a.Ns)}})}function jO(i,e){const n=Ie(i),a=n.Au.get(e);if(a&&a.hu)return He().add(a.key);{let o=He();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Ab(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kO.bind(null,e),e.Pu.J_=TO.bind(null,e.eventManager),e.Pu.yu=bO.bind(null,e.eventManager),e}function zO(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=VO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PO.bind(null,e),e}class Wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return U(this,null,function*(){this.serializer=Tf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),yield this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)})}Fu(e,n){return null}Mu(e,n){return null}vu(e){return z4(this.persistence,new L4,e.initialUser,this.serializer)}Cu(e){return new ob(rg.Vi,this.serializer)}Du(e){return new $4}terminate(){return U(this,null,function*(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}Wh.provider={build:()=>new Wh};class BO extends Wh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Xe(this.persistence.referenceDelegate instanceof Kh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new b4(a,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new ob((a=>Kh.Vi(a,n)),this.serializer)}}class Tp{initialize(e,n){return U(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>A1(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=UO.bind(null,this.syncEngine),yield gO(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return(function(){return new _O})()}createDatastore(e){const n=Tf(e.databaseInfo.databaseId),a=J4(e.databaseInfo);return iO(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,u,h,m){return new aO(a,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>A1(this.syncEngine,n,0)),(function(){return v1.v()?new v1:new Q4})())}createSyncEngine(e,n){return(function(o,u,h,m,p,g,E){const T=new RO(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return U(this,null,function*(){var e,n;yield(function(o){return U(this,null,function*(){const u=Ie(o);de(os,"RemoteStore shutting down."),u.Ea.add(5),yield Ru(u),u.Aa.shutdown(),u.Va.set("Unknown")})})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()})}}Tp.provider={build:()=>new Tp};class HO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ga="FirestoreClient";class qO{constructor(e,n,a,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this._databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=Gp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(a,(h=>U(this,null,function*(){de(ga,"Received user=",h.uid),yield this.authCredentialListener(h),this.user=h}))),this.appCheckCredentials.start(a,(h=>(de(ga,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new es;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((()=>U(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=fg(n,"Failed to shutdown persistence");e.reject(a)}}))),e.promise}}function Ym(i,e){return U(this,null,function*(){i.asyncQueue.verifyOperationInProgress(),de(ga,"Initializing OfflineComponentProvider");const n=i.configuration;yield e.initialize(n);let a=n.initialUser;i.setCredentialChangeListener((o=>U(null,null,function*(){a.isEqual(o)||(yield lb(e.localStore,o),a=o)}))),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e})}function R1(i,e){return U(this,null,function*(){i.asyncQueue.verifyOperationInProgress();const n=yield FO(i);de(ga,"Initializing OnlineComponentProvider"),yield e.initialize(n,i.configuration),i.setCredentialChangeListener((a=>T1(e.remoteStore,a))),i.setAppCheckTokenChangeListener(((a,o)=>T1(e.remoteStore,o))),i._onlineComponents=e})}function FO(i){return U(this,null,function*(){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(ga,"Using user provided OfflineComponentProvider");try{yield Ym(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException!="undefined"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ss("Error using user provided cache. Falling back to memory cache: "+n),yield Ym(i,new Wh)}}else de(ga,"Using default OfflineComponentProvider"),yield Ym(i,new BO(void 0));return i._offlineComponents})}function xb(i){return U(this,null,function*(){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(ga,"Using user provided OnlineComponentProvider"),yield R1(i,i._uninitializedComponentsProvider._online)):(de(ga,"Using default OnlineComponentProvider"),yield R1(i,new Tp))),i._onlineComponents})}function GO(i){return xb(i).then((e=>e.syncEngine))}function C1(i){return U(this,null,function*(){const e=yield xb(i),n=e.eventManager;return n.onListen=CO.bind(null,e.syncEngine),n.onUnlisten=DO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MO.bind(null,e.syncEngine),n})}function YO(i,e,n,a){const o=new HO(a),u=new wO(e,o,n);return i.asyncQueue.enqueueAndForget((()=>U(null,null,function*(){return vO(yield C1(i),u)}))),()=>{o.Nu(),i.asyncQueue.enqueueAndForget((()=>U(null,null,function*(){return EO(yield C1(i),u)})))}}function $O(i,e){const n=new es;return i.asyncQueue.enqueueAndForget((()=>U(null,null,function*(){return OO(yield GO(i),e,n)}))),n.promise}function Rb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const QO="ComponentProvider",N1=new Map;function KO(i,e,n,a,o){return new fM(i,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,Rb(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,a)}const Cb="firestore.googleapis.com",I1=!0;class D1{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cb,this.ssl=I1}else this.host=e.host,this.ssl=(n=e.ssl)!=null?n:I1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<E4)throw new ve(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Rb((a=e.experimentalLongPollingOptions)!=null?a:{}),(function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ve(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gg{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new D1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new D1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new FD;switch(a.type){case"firstParty":return new QD(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ve(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return U(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=N1.get(n);a&&(de(QO,"Removing Datastore"),N1.delete(n),a.terminate())})(this),Promise.resolve()}}function XO(i,e,n,a={}){var g;i=mo(i,gg);const o=Ro(e),u=i._getSettings(),h=mt(ye({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;o&&(CE(`https://${m}`),NE("Firestore",!0)),u.host!==Cb&&u.host!==m&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=mt(ye({},u),{host:m,ssl:o,emulatorOptions:a});if(!ns(p,h)&&(i._setSettings(p),a.mockUserToken)){let E,T;if(typeof a.mockUserToken=="string")E=a.mockUserToken,T=an.MOCK_USER;else{E=mC(a.mockUserToken,(g=i._app)==null?void 0:g.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new ve(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new an(A)}i._authCredentials=new GD(new _T(E,T))}}class Sf{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Sf(this.firestore,e,this._query)}}class Yt{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new du(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yt(this.firestore,e,this._key)}toJSON(){return{type:Yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,a){if(Su(n,Yt._jsonSchema))return new Yt(e,a||null,new be(pt.fromString(n.referencePath)))}}Yt._jsonSchemaVersion="firestore/documentReference/1.0",Yt._jsonSchema={type:Vt("string",Yt._jsonSchemaVersion),referencePath:Vt("string")};class du extends Sf{constructor(e,n,a){super(e,n,Jp(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yt(this.firestore,null,new be(e))}withConverter(e){return new du(this.firestore,e,this._path)}}function WO(i,e,...n){if(i=In(i),arguments.length===1&&(e=Gp.newId()),eM("doc","path",e),i instanceof gg){const a=pt.fromString(e,...n);return Fv(a),new Yt(i,null,new be(a))}{if(!(i instanceof Yt||i instanceof du))throw new ve(oe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(pt.fromString(e,...n));return Fv(a),new Yt(i.firestore,i instanceof du?i.converter:null,new be(a))}}const M1="AsyncQueue";class O1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cb(this,"async_queue_retry"),this._c=()=>{const a=Gm();a&&de(M1,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=e;const n=Gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new es;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}lc(){return U(this,null,function*(){if(this.Yu.length!==0){try{yield this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Mo(e))throw e;de(M1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}})}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((a=>{throw this.nc=a,this.rc=!1,gr("INTERNAL UNHANDLED ERROR: ",k1(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=n,n}enqueueAfterDelay(e,n,a){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=hg.createAndSchedule(this,e,n,a,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:k1(this.nc)})}verifyOperationInProgress(){}Tc(){return U(this,null,function*(){let e;do e=this.ac,yield e;while(e!==this.ac)})}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function k1(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Jh extends gg{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new O1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return U(this,null,function*(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new O1(e),this._firestoreClient=void 0,yield e}})}}function JO(i,e){const n=typeof i=="object"?i:OE(),a=typeof i=="string"?i:Hh,o=Op(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const u=fC("firestore");u&&XO(o,...u)}return o}function Nb(i){if(i._terminated)throw new ve(oe.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||ZO(i),i._firestoreClient}function ZO(i){var a,o,u,h;const e=i._freezeSettings(),n=KO(i._databaseId,((a=i._app)==null?void 0:a.options.appId)||"",i._persistenceKey,(o=i._app)==null?void 0:o.options.apiKey,e);i._componentsProvider||(u=e.localCache)!=null&&u._offlineComponentProvider&&((h=e.localCache)!=null&&h._onlineComponentProvider)&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new qO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(p){const g=p==null?void 0:p._online.build();return{_offline:p==null?void 0:p._offline.build(g),_online:g}})(i._componentsProvider))}class Gn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gn(tn.fromBase64String(e))}catch(n){throw new ve(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gn(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Su(e,Gn._jsonSchema))return Gn.fromBase64String(e.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Vt("string",Gn._jsonSchemaVersion),bytes:Vt("string")};class Ib{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ve(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Db{constructor(e){this._methodName=e}}class ji{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ve(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ve(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(Su(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:Vt("string",ji._jsonSchemaVersion),latitude:Vt("number"),longitude:Vt("number")};class hi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let u=0;u<a.length;++u)if(a[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Su(e,hi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new hi(e.vectorValues);throw new ve(oe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hi._jsonSchemaVersion="firestore/vectorValue/1.0",hi._jsonSchema={type:Vt("string",hi._jsonSchemaVersion),vectorValues:Vt("object")};const ek=/^__.*__$/;class tk{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}function Mb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{dataSource:i})}}class yg{constructor(e,n,a,o,u,h){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new yg(ye(ye({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePathSegment(e),a}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),a=this.contextWith({path:n,arrayElement:!1});return a.validatePath(),a}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Zh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Mb(this.dataSource)&&ek.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class nk{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Tf(e)}createContext(e,n,a,o=!1){return new yg({dataSource:e,methodName:n,targetDoc:a,path:en.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ik(i){const e=i._freezeSettings(),n=Tf(i._databaseId);return new nk(i._databaseId,!!e.ignoreUndefinedProperties,n)}function rk(i,e,n,a,o,u={}){const h=i.createContext(u.merge||u.mergeFields?2:0,e,n,o);Pb("Data must be an object, but it was:",h,a);const m=kb(a,h);let p,g;if(u.merge)p=new ui(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const A=_g(e,T,n);if(!h.contains(A))throw new ve(oe.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);ok(E,A)||E.push(A)}p=new ui(E),g=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,g=h.fieldTransforms;return new tk(new Fn(m),p,g)}function Ob(i,e){if(Vb(i=In(i)))return Pb("Unsupported field value:",e,i),kb(i,e);if(i instanceof Db)return(function(a,o){if(!Mb(o.dataSource))throw o.createError(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${a._methodName}() is not currently supported inside arrays`);const u=a._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(a,o){const u=[];let h=0;for(const m of a){let p=Ob(m,o.childContextForArray(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(a,o){if((a=In(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return UM(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const u=ct.fromDate(a);return{timestampValue:Qh(o.serializer,u)}}if(a instanceof ct){const u=new ct(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qh(o.serializer,u)}}if(a instanceof ji)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:JT(o.serializer,a._byteString)};if(a instanceof Yt){const u=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(u))throw o.createError(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ng(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof hi)return(function(h,m){const p=h instanceof hi?h.toArray():h;return{mapValue:{fields:{[RT]:{stringValue:CT},[qh]:{arrayValue:{values:p.map((E=>{if(typeof E!="number")throw m.createError("VectorValues must only contain numeric values.");return Zp(m.serializer,E)}))}}}}}})(a,o);if(ab(a))return a._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Yp(a)}`)})(i,e)}function kb(i,e){const n={};return TT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(i,((a,o)=>{const u=Ob(o,e.childContextForField(a));u!=null&&(n[a]=u)})),{mapValue:{fields:n}}}function Vb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof ct||i instanceof ji||i instanceof Gn||i instanceof Yt||i instanceof Db||i instanceof hi||ab(i))}function Pb(i,e,n){if(!Vb(n)||!vT(n)){const a=Yp(n);throw a==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+a)}}function _g(i,e,n){if((e=In(e))instanceof Ib)return e._internalPath;if(typeof e=="string")return sk(i,e);throw Zh("Field path arguments must be of type string or ",i,!1,void 0,n)}const ak=new RegExp("[~\\*/\\[\\]]");function sk(i,e,n){if(e.search(ak)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ib(...e.split("."))._internalPath}catch(a){throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Zh(i,e,n,a,o){const u=a&&!a.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${a}`),h&&(p+=` in document ${o}`),p+=")"),new ve(oe.INVALID_ARGUMENT,m+i+p)}function ok(i,e){return i.some((n=>n.isEqual(e)))}class lk{convertValue(e,n="none"){switch(ma(e)){case 0:return null;case 1:return e.booleanValue;case 2:return St(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(da(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return us(e,((o,u)=>{a[o]=this.convertValue(u,n)})),a}convertVectorValue(e){var a,o,u;const n=(u=(o=(a=e.fields)==null?void 0:a[qh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((h=>St(h.doubleValue)));return new hi(n)}convertGeoPoint(e){return new ji(St(e.latitude),St(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=mf(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=fa(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=pt.fromString(e);Xe(rb(a),9688,{name:e});const o=new uu(a.get(1),a.get(3)),u=new be(a.popFirst(5));return o.isEqual(n)||gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class Lb extends lk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yt(this.firestore,null,n)}}const V1="@firebase/firestore",P1="4.11.0";function L1(i){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of a)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Ub{constructor(e,n,a,o,u){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e,n;return(n=(e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)!=null?n:void 0}get(e){if(this._document){const n=this._document.data.field(_g("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uk extends Ub{data(){return super.data()}}function ck(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ve(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function hk(i,e,n){let a;return a=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,a}class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ts extends Ub{constructor(e,n,a,o,u,h){super(e,n,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(_g("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:Vt("string",ts._jsonSchemaVersion),bundleSource:Vt("string","DocumentSnapshot"),bundleName:Vt("string"),bundle:Vt("string")};class xh extends ts{data(e={}){return super.data(e)}}class yo{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new xh(this._firestore,this._userDataWriter,a.key,a,new Xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ve(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new xh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:fk(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(oe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Gp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],a=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),a.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:Vt("string",yo._jsonSchemaVersion),bundleSource:Vt("string","QuerySnapshot"),bundleName:Vt("string"),bundle:Vt("string")};function dk(i,e,n){i=mo(i,Yt);const a=mo(i.firestore,Jh),o=hk(i.converter,e,n),u=ik(a);return pk(a,[rk(u,"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,fr.none())])}function mk(i,...e){var g,E,T;i=In(i);let n={includeMetadataChanges:!1,source:"default"},a=0;typeof e[a]!="object"||L1(e[a])||(n=e[a++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(L1(e[a])){const A=e[a];e[a]=(g=A.next)==null?void 0:g.bind(A),e[a+1]=(E=A.error)==null?void 0:E.bind(A),e[a+2]=(T=A.complete)==null?void 0:T.bind(A)}let u,h,m;if(i instanceof Yt)h=mo(i.firestore,Jh),m=Jp(i._key.path),u={next:A=>{e[a]&&e[a](gk(h,i,A))},error:e[a+1],complete:e[a+2]};else{const A=mo(i,Sf);h=mo(A.firestore,Jh),m=A._query;const k=new Lb(h);u={next:F=>{e[a]&&e[a](new yo(h,k,A,F))},error:e[a+1],complete:e[a+2]},ck(i._query)}const p=Nb(h);return YO(p,m,o,u)}function pk(i,e){const n=Nb(i);return $O(n,e)}function gk(i,e,n){const a=n.docs.get(e._key),o=new Lb(i);return new ts(i,o,e._key,a,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){qD(Co),_o(new is("firestore",((a,{instanceIdentifier:o,options:u})=>{const h=a.getProvider("app").getImmediate(),m=new Jh(new YD(a.getProvider("auth-internal")),new KD(h,a.getProvider("app-check-internal")),dM(h,o),h);return u=ye({useFetchStreams:n},u),m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),la(V1,P1,e),la(V1,P1,"esm2020")})();const yk={apiKey:"AIzaSyDkO9uuozHTfwWZ4dmQi-f2PnMga5sqEjs",authDomain:"gangneung-db-1218.firebaseapp.com",projectId:"gangneung-db-1218",storageBucket:"gangneung-db-1218.firebasestorage.app",messagingSenderId:"677101711159",appId:"1:677101711159:web:6276ff64df631dd23134b2"},jb=ME(yk),_k=JO(jb),$m=jD(jb),vk=new lr;let Rh=null,Ch=null,Qm=!1;const Ek=i=>{zb();const e=WO(_k,"users",i);Rh=mk(e,n=>{if(n.exists()){const a=n.data();Qm=!0,jt.setState({todos:a.todos||[],drawings:a.drawings||{},monthlyNotes:a.monthlyNotes||{},appPin:a.appPin!==void 0?a.appPin:null}),setTimeout(()=>{Qm=!1},50)}}),Ch=jt.subscribe((n,a)=>{if(Qm)return;const o={todos:n.todos,drawings:n.drawings,monthlyNotes:n.monthlyNotes,appPin:n.appPin},u={todos:a.todos,drawings:a.drawings,monthlyNotes:a.monthlyNotes,appPin:a.appPin};if(JSON.stringify(o)!==JSON.stringify(u)){console.log("[Sync] Local changes detected, syncing to Firestore..."),jt.setState({isSyncing:!0});try{const h=JSON.parse(JSON.stringify(o));dk(e,mt(ye({},h),{updatedAt:new Date().toISOString()}),{merge:!0}).then(()=>console.log("[Sync] Successfully synced to Firestore!")).catch(m=>console.error("[Sync] Firebase sync error:",m)).finally(()=>jt.setState({isSyncing:!1}))}catch(h){console.error("[Sync] Synchronous error preparing/sending to Firestore:",h),jt.setState({isSyncing:!1})}}})},zb=()=>{Rh&&(Rh(),Rh=null),Ch&&(Ch(),Ch=null)},Tk=()=>{const{isSyncing:i}=jt(),[e,n]=q.useState(null),[a,o]=q.useState(!0);q.useEffect(()=>{const m=CI($m,p=>{n(p),o(!1),p?(jt.setState({currentUserUid:p.uid}),Ek(p.uid)):(jt.setState({currentUserUid:null}),zb())});return()=>m()},[]);const u=()=>U(null,null,function*(){o(!0);try{yield KI($m,vk)}catch(m){console.error("Login failed:",m),alert(" .")}finally{o(!1)}}),h=()=>U(null,null,function*(){if(o(!0),window.confirm(" ?    ."))try{yield NI($m)}catch(m){console.error("Logout failed:",m)}o(!1)});return a?w.jsx("button",{disabled:!0,className:"p-2 ml-2 bg-white rounded-full border border-[var(--color-paper-200)] text-[var(--color-ink-300)] flex items-center justify-center",children:w.jsx(fv,{size:18,className:"animate-spin"})}):e?w.jsxs("div",{className:"flex items-center gap-2 ml-2 relative group",children:[w.jsxs("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${i?"bg-orange-100 text-orange-600":"bg-green-100 text-green-700"} flex items-center gap-1 transition-colors duration-300`,children:[i?w.jsx(fv,{size:12,className:"animate-spin"}):w.jsx(pR,{size:12}),i?" ...":" "]}),w.jsxs("button",{onClick:h,className:"p-1 px-3 bg-white rounded-full border border-[var(--color-paper-200)] text-[var(--color-ink-500)] hover:text-red-500 hover:border-red-200 hover:shadow-sm transition-all flex items-center gap-2",title:" ( )",children:[e.photoURL&&w.jsx("img",{src:e.photoURL,alt:"Profile",className:"w-5 h-5 rounded-full"}),w.jsx(CR,{size:16})]})]}):w.jsxs("button",{onClick:u,className:"p-1.5 px-3 ml-2 bg-[var(--color-ink-900)] text-white rounded-full border border-[var(--color-ink-900)] hover:bg-[var(--color-ink-700)] hover:shadow-sm transition-all flex items-center gap-2 text-sm font-bold",title:"       ",children:[w.jsx(dR,{size:16}),w.jsx(xR,{size:16}),w.jsx("span",{children:"  "})]})},bk=i=>i===0?"":i===1||i===2||i===3?"":i===45||i===48?"":i>=51&&i<=57?"":i>=61&&i<=67?"":i>=71&&i<=77?"":i>=80&&i<=82?"":i>=85&&i<=86?"":i>=95&&i<=99?"":"",wk=()=>{const{weatherCache:i,setWeatherCache:e}=jt(),[n,a]=q.useState(!1),[o,u]=q.useState(null);return q.useEffect(()=>{if(Object.keys(i).length>7)return;const h=(m,p)=>U(null,null,function*(){a(!0);try{const g=yield fetch(`https://api.open-meteo.com/v1/forecast?latitude=${m}&longitude=${p}&daily=weather_code&timezone=auto&past_days=14&forecast_days=14`);if(!g.ok)throw new Error("Failed to fetch weather data");const E=yield g.json();if(E.daily&&E.daily.time&&E.daily.weather_code){const T={};E.daily.time.forEach((A,k)=>{const F=E.daily.weather_code[k];T[A]=bk(F)}),e(T)}}catch(g){console.error("Weather fetch error:",g),u(g instanceof Error?g.message:"Unknown error")}finally{a(!1)}});try{"geolocation"in navigator?navigator.geolocation.getCurrentPosition(m=>{h(m.coords.latitude,m.coords.longitude)},m=>{console.warn("Geolocation permission denied or failed:",m),u("Location access denied.")},{timeout:1e4,maximumAge:36e5}):u("Geolocation not supported by this browser.")}catch(m){console.warn("Geolocation API access blocked:",m),u("Location access blocked.")}},[i,e]),{isLoading:n,error:o}},U1=()=>{try{return"Notification"in window?Notification.permission:"denied"}catch(i){return"denied"}},Sk=()=>{const{todos:i,notifiedTodoIds:e,addNotifiedTodoId:n,clearExpiredNotifications:a}=jt(),o=q.useRef(!1);q.useEffect(()=>{if(U1()==="default"&&!o.current){o.current=!0;try{if("Notification"in window){const u=Notification.requestPermission();u&&typeof u.catch=="function"&&u.catch(console.warn)}}catch(u){console.warn("Error requesting notification permission:",u)}}},[]),q.useEffect(()=>{const u=()=>{if(U1()!=="granted")return;const m=new Date,p=xe(m,"yyyy-MM-dd"),g=m.getHours(),E=m.getMinutes(),T=g*60+E;i.forEach(A=>{if(!(e.includes(A.id)||A.isCompleted||!A.startTime)&&A.date===p){const[k,F]=A.startTime.split(":").map(Number),W=k*60+F;T===W&&n(A.id,A.text)}}),a()};u();const h=setInterval(u,3e4);return()=>clearInterval(h)},[i,e,n,a])},Ak=()=>U(null,null,function*(){try{if("serviceWorker"in navigator)try{const e=yield navigator.serviceWorker.getRegistrations();for(const n of e)yield n.unregister()}catch(e){console.error("SW unregister error",e)}}catch(e){console.warn("serviceWorker blocked",e)}const i=window.location.href.split("?")[0].split("#")[0]+"?t="+new Date().getTime()+window.location.hash;window.location.replace(i)}),xk=()=>{const e=ya().pathname,n=[{name:"Yearly",path:"/yearly",icon:w.jsx(iR,{size:16}),label:""},{name:"Monthly",path:"/",icon:w.jsx(aR,{size:16}),label:""},{name:"Weekly",path:"/weekly",icon:w.jsx(_E,{size:16}),label:""},{name:"Daily",path:"/daily",icon:w.jsx(TR,{size:16}),label:""}];return w.jsx("nav",{className:"flex items-center gap-1.5 bg-white p-1.5 rounded-2xl border border-[var(--color-paper-200)] shadow-sm",children:n.map(a=>{const o=e===a.path||e==="/"&&a.path==="/";return w.jsxs(Cp,{to:a.path,className:`
              relative flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all duration-200 
              ${o?"bg-[var(--color-paper-50)] text-[var(--color-ink-900)] shadow-sm":"text-[var(--color-ink-400)] hover:text-[var(--color-ink-600)] hover:bg-[var(--color-paper-50)]/50"}
            `,children:[a.icon,w.jsx("span",{children:a.label})]},a.name)})})},j1="1.5.9";function Rk(){const{isLocked:i}=jt(),[e,n]=q.useState(!1);return wk(),Sk(),w.jsxs("div",{className:"min-h-screen bg-[var(--color-paper-50)] flex flex-col items-center py-6 px-4 md:py-10",children:[i&&w.jsx(nC,{}),w.jsxs("header",{className:"w-full max-w-6xl mb-8 flex flex-col md:flex-row items-center justify-between gap-4",children:[w.jsxs("div",{children:[w.jsxs("div",{className:"flex items-baseline gap-2",children:[w.jsx("h1",{className:"text-3xl font-bold text-[var(--color-ink-900)] tracking-tight",children:" "}),w.jsxs("span",{className:"text-xs font-black text-accent-blue bg-blue-50 border border-blue-200 px-2 py-0.5 rounded-full shadow-sm",children:["v",j1]})]}),w.jsx("p",{className:"text-sm text-[var(--color-ink-500)] mt-1 font-medium",children:"Gangneung Branch Work Diary"})]}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx(xk,{}),w.jsxs("button",{onClick:Ak,className:"flex items-center gap-1.5 px-3 py-1.5 bg-accent-red/10 text-accent-red rounded-full border border-accent-red/20 font-bold text-xs hover:bg-accent-red hover:text-white transition-all shadow-sm shrink-0",title:"    ",children:[w.jsx(jR,{size:14}),w.jsx("span",{className:"hidden md:inline",children:" "})]}),w.jsx(Tk,{}),w.jsx("button",{onClick:()=>n(!0),className:"p-2 ml-1 bg-white rounded-full border border-[var(--color-paper-200)] text-[var(--color-ink-500)] hover:text-accent-blue hover:border-blue-200 hover:shadow-sm transition-all",title:" (PIN ) ",children:w.jsx(vE,{size:18})})]})]}),w.jsx("main",{className:`w-full max-w-6xl flex-1 diary-page p-6 md:p-8 relative ${i?"blur-md pointer-events-none opacity-50":""}`,children:w.jsxs(I2,{children:[w.jsx(Yl,{path:"/",element:w.jsx(WR,{})}),w.jsx(Yl,{path:"/yearly",element:w.jsx(XR,{})}),w.jsx(Yl,{path:"/weekly",element:w.jsx(eC,{})}),w.jsx(Yl,{path:"/daily",element:w.jsx(tC,{})})]})}),w.jsxs("div",{className:"fixed bottom-4 right-4 px-2 py-1 text-[11px] font-bold text-ink-300 font-mono tracking-wider pointer-events-none select-none z-50 opacity-60",children:["v",j1]}),w.jsx(iC,{isOpen:e,onClose:()=>n(!1)})]})}try{"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then(function(i){for(let e of i)e.unregister()}).catch(function(i){console.log("Service Worker unregistration failed: ",i)})}catch(i){console.warn("ServiceWorker access denied:",i)}OS.createRoot(document.getElementById("root")).render(w.jsx(q.StrictMode,{children:w.jsx(eA,{children:w.jsx(Rk,{})})}))});export default Ck();
